"use strict";(self.webpackChunksmartsuq=self.webpackChunksmartsuq||[]).push([[179],{2011:(Gt,je,L)=>{L.d(je,{Dh:()=>ve,GT:()=>re,cc:()=>ot,hO:()=>fe,on:()=>Y,pX:()=>Fe,xv:()=>De});var l=L(4650),j=L(9260),B=L(8516);Gt=L.hmd(Gt);const oe=["ngOnDestroy"],Fe=(Ee,Se,_e,Ze={})=>new Proxy(Ee,{get:(At,dt)=>_e.runOutsideAngular(()=>{var xt;if(Ee[dt])return!(null===(xt=Ze?.spy)||void 0===xt)&&xt.get&&Ze.spy.get(dt,Ee[dt]),Ee[dt];if(oe.indexOf(dt)>-1)return()=>{};const ee=Se.toPromise().then(Te=>{const Z=Te&&Te[dt];return"function"==typeof Z?Z.bind(Te):Z&&Z.then?Z.then(le=>_e.run(()=>le)):_e.run(()=>Z)});return new Proxy(()=>{},{get:(Te,Z)=>ee[Z],apply:(Te,Z,le)=>ee.then(te=>{var Me;const ye=te&&te(...le);return!(null===(Me=Ze?.spy)||void 0===Me)&&Me.apply&&Ze.spy.apply(dt,le,ye),ye})})})}),re=(Ee,Se)=>{Se.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Ze=>{Object.defineProperty(Ee.prototype,Ze,Object.getOwnPropertyDescriptor(_e.prototype||_e,Ze))})})};class Ie{constructor(Se){return Se}}const ve=new l.OlP("angularfire2.app.options"),De=new l.OlP("angularfire2.app.name");function Y(Ee,Se,_e){const At="object"==typeof _e&&_e||{};At.name=At.name||"string"==typeof _e&&_e||"[DEFAULT]";const xt=j.Z.apps.filter(ee=>ee&&ee.name===At.name)[0]||Se.runOutsideAngular(()=>j.Z.initializeApp(Ee,At));try{JSON.stringify(Ee)!==JSON.stringify(xt.options)&&V("error",`${xt.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(xt)}const V=(Ee,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ee](...Se)},U={provide:Ie,useFactory:Y,deps:[ve,l.R0b,[new l.FiY,De]]};let fe=(()=>{class Ee{constructor(_e){j.Z.registerVersion("angularfire",B.q4.full,"core"),j.Z.registerVersion("angularfire",B.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,_e.toString())}static initializeApp(_e,Ze){return{ngModule:Ee,providers:[{provide:ve,useValue:_e},{provide:De,useValue:Ze}]}}}return Ee.\u0275fac=function(_e){return new(_e||Ee)(l.LFG(l.Lbi))},Ee.\u0275mod=l.oAB({type:Ee}),Ee.\u0275inj=l.cJS({providers:[U]}),Ee})();function ot(Ee,Se,_e,Ze,At){const[,dt,xt]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===Ee)||[];if(dt)return function Je(Ee,Se){try{return Ee.toString()===Se.toString()}catch{return Ee===Se}}(At,xt)||(me("error",`${Se} was already initialized on the ${_e} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:At,was:xt})),dt;{const ee=Ze();return globalThis.\u0275AngularfireInstanceCache.push([Ee,ee,At]),ee}}const Ve=!!Gt.hot,me=(Ee,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ee](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8516:(Gt,je,L)=>{L.d(je,{q4:()=>Ee,iC:()=>Ot,HU:()=>$,vb:()=>Me,JM:()=>te,nk:()=>le,n1:()=>Te,_J:()=>Z,u3:()=>rt});var l=L(4650),j=L(259),B=L(4880),oe=L(751),Fe=L(3008),re=L(5987),ve=function($e){function Ct(vt,_t){var Lt=$e.call(this,vt,_t)||this;return Lt.scheduler=vt,Lt.work=_t,Lt}return(0,re.ZT)(Ct,$e),Ct.prototype.schedule=function(vt,_t){return void 0===_t&&(_t=0),_t>0?$e.prototype.schedule.call(this,vt,_t):(this.delay=_t,this.state=vt,this.scheduler.flush(this),this)},Ct.prototype.execute=function(vt,_t){return _t>0||this.closed?$e.prototype.execute.call(this,vt,_t):this._execute(vt,_t)},Ct.prototype.requestAsyncId=function(vt,_t,Lt){return void 0===Lt&&(Lt=0),null!=Lt&&Lt>0||null==Lt&&this.delay>0?$e.prototype.requestAsyncId.call(this,vt,_t,Lt):vt.flush(this)},Ct}(L(8139).o),V=new(function($e){function Ct(){return null!==$e&&$e.apply(this,arguments)||this}return(0,re.ZT)(Ct,$e),Ct}(L(2458).v))(ve),fe=L(6405),ot=L(1482),Je=L(2518),Ve=L(5062),me=L(592);const Ee=new l.GfV("7.5.0"),Se="__angularfire_symbol__analyticsIsSupportedValue",_e="__angularfire_symbol__analyticsIsSupported",Ze="__angularfire_symbol__remoteConfigIsSupportedValue",At="__angularfire_symbol__remoteConfigIsSupported",dt="__angularfire_symbol__messagingIsSupportedValue",xt="__angularfire_symbol__messagingIsSupported";globalThis[_e]||(globalThis[_e]=(0,Fe.Gb)().then($e=>globalThis[Se]=$e).catch(()=>globalThis[Se]=!1)),globalThis[xt]||(globalThis[xt]=(0,oe.Gb)().then($e=>globalThis[dt]=$e).catch(()=>globalThis[dt]=!1)),globalThis[At]||(globalThis[At]=(0,B.Gb)().then($e=>globalThis[Ze]=$e).catch(()=>globalThis[Ze]=!1));const ee=$e=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${$e} in the constructor, first ensure that ${$e} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${$e})\`.`,Te={async:()=>globalThis[xt],sync:()=>{const $e=globalThis[dt];if(void 0===$e)throw new Error(ee("Messaging"));return $e}},Z={async:()=>globalThis[At],sync:()=>{const $e=globalThis[Ze];if(void 0===$e)throw new Error(ee("RemoteConfig"));return $e}},le={async:()=>globalThis[_e],sync:()=>{const $e=globalThis[Se];if(void 0===$e)throw new Error(ee("Analytics"));return $e}};function te($e,Ct,vt){if(Ct){if(1===Ct.length)return Ct[0];const mn=Ct.filter(Mn=>Mn.app===vt);if(1===mn.length)return mn[0]}return vt.container.getProvider($e).getImmediate({optional:!0})}const Me=($e,Ct)=>{const vt=Ct?[Ct]:(0,j.C6)(),_t=[];return vt.forEach(Lt=>{Lt.container.getProvider($e).instances.forEach(Mn=>{_t.includes(Mn)||_t.push(Mn)})}),_t};function ye(){}class G{constructor(Ct,vt=V){this.zone=Ct,this.delegate=vt}now(){return this.delegate.now()}schedule(Ct,vt,_t){const Lt=this.zone;return this.delegate.schedule(function(Mn){Lt.runGuarded(()=>{Ct.apply(this,[Mn])})},vt,_t)}}class ae{constructor(Ct){this.zone=Ct,this.task=null}call(Ct,vt){const _t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)),vt.pipe((0,Je.b)({next:_t,complete:_t,error:_t})).subscribe(Ct).add(_t)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $=(()=>{class $e{constructor(vt){this.ngZone=vt,this.outsideAngular=vt.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=vt.run(()=>new G(Zone.current,fe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $e.\u0275fac=function(vt){return new(vt||$e)(l.LFG(l.R0b))},$e.\u0275prov=l.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();function se(){const $e=globalThis.\u0275AngularFireScheduler;if(!$e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $e}function de($e){return se().ngZone.run(()=>$e())}function Ot($e){return se(),function pt($e){return function(vt){return(vt=vt.lift(new ae($e.ngZone))).pipe((0,Ve.R)($e.outsideAngular),(0,me.Q)($e.insideAngular))}}(se())($e)}const it=($e,Ct)=>function(){const _t=arguments;return Ct&&setTimeout(()=>{"scheduled"===Ct.state&&Ct.invoke()},10),de(()=>$e.apply(void 0,_t))},rt=($e,Ct)=>function(){let vt;const _t=arguments;for(let mn=0;mn<arguments.length;mn++)"function"==typeof _t[mn]&&(Ct&&(vt||(vt=de(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)))),_t[mn]=it(_t[mn],vt));const Lt=function ne($e){return se().ngZone.runOutsideAngular(()=>$e())}(()=>$e.apply(this,_t));if(!Ct){if(Lt instanceof ot.y){const mn=se();return Lt.pipe((0,Ve.R)(mn.outsideAngular),(0,me.Q)(mn.insideAngular))}return de(()=>Lt)}return Lt instanceof ot.y?Lt.pipe(Ot):Lt instanceof Promise?de(()=>new Promise((mn,Mn)=>Lt.then(Rn=>de(()=>mn(Rn)),Rn=>de(()=>Mn(Rn))))):"function"==typeof Lt&&vt?function(){return setTimeout(()=>{vt&&"scheduled"===vt.state&&vt.invoke()},10),Lt.apply(this,arguments)}:de(()=>Lt)}},2722:(Gt,je,L)=>{L.d(je,{$:()=>Np,A:()=>V,B:()=>ot,G:()=>we,H:()=>Pt,J:()=>Oi,L:()=>W,M:()=>Ap,N:()=>aC,P:()=>xC,Q:()=>H_,R:()=>ch,T:()=>cC,U:()=>zl,V:()=>xc,W:()=>mA,X:()=>kp,Y:()=>Sr,Z:()=>Wd,_:()=>ql,a:()=>kc,a0:()=>$_,a1:()=>Fp,a2:()=>ln,a3:()=>hC,a4:()=>G_,a5:()=>Lp,a6:()=>W_,a7:()=>Oe,a8:()=>q_,a9:()=>Y_,aA:()=>H,aB:()=>Ii,aC:()=>om,aD:()=>Fc,aE:()=>Ht,aI:()=>bs,aL:()=>$s,aa:()=>ko,ab:()=>Vp,ac:()=>K_,af:()=>Oa,ag:()=>vs,ah:()=>zp,ak:()=>dC,al:()=>$p,an:()=>_C,ao:()=>Xd,ap:()=>Z,aq:()=>lt,ar:()=>Ge,as:()=>_e,at:()=>pu,au:()=>mv,av:()=>In,aw:()=>Ze,ax:()=>ee,ay:()=>wt,az:()=>te,b:()=>Jd,c:()=>lh,d:()=>uh,e:()=>SC,f:()=>Ro,g:()=>du,h:()=>uu,i:()=>Yp,j:()=>un,k:()=>Cv,l:()=>na,m:()=>NC,n:()=>Iv,o:()=>ve,r:()=>EC,s:()=>CC,u:()=>vA,v:()=>tv});var l=L(5861),j=L(2090),B=L(9681),oe=L(1877),Fe=L(655),re=L(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ot=function U(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new oe.Yd("@firebase/auth");function Se(w,...g){Ee.logLevel<=oe.in.ERROR&&Ee.error(`Auth (${B.SDK_VERSION}): ${w}`,...g)}function _e(w,...g){throw xt(w,...g)}function Ze(w,...g){return xt(w,...g)}function At(w,g,v){const E=Object.assign(Object.assign({},Je()),{[g]:v});return new j.LL("auth","Firebase",E).create(g,{appName:w.name})}function dt(w,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&_e(w,"argument-error"),At(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(w,...g){if("string"!=typeof w){const v=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(v,...E)}return Ve.create(w,...g)}function ee(w,g,...v){if(!w)throw xt(g,...v)}function Te(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Se(g),new Error(g)}function Z(w,g){w||Te(g)}const le=new Map;function te(w){Z(w instanceof Function,"Expected a class definition");let g=le.get(w);return g?(Z(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,le.set(w,g),g)}function G(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function ae(){return"http:"===$()||"https:"===$()}function $(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class de{constructor(g,v){this.shortDelay=g,this.longDelay=v,Z(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(w,g){Z(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class Le{static initialize(g,v,E){this.fetchImpl=g,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pt=new de(3e4,6e4);function it(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function rt(w,g,v,E){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(w,g,v,E,A={}){return Ct(w,A,(0,l.Z)(function*(){let F={},he={};E&&("GET"===g?he=E:F={body:JSON.stringify(E)});const He=(0,j.xO)(Object.assign({key:w.config.apiKey},he)).slice(1),St=yield w._getAdditionalHeaders();return St["Content-Type"]="application/json",w.languageCode&&(St["X-Firebase-Locale"]=w.languageCode),Le.fetch()(mn(w,w.config.apiHost,v,He),Object.assign({method:g,headers:St,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ct(w,g,v){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(w,g,v){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ot),g);try{const A=new Mn(w),F=yield Promise.race([v(),A.promise]);A.clearNetworkTimeout();const he=yield F.json();if("needConfirmation"in he)throw Rn(w,"account-exists-with-different-credential",he);if(F.ok&&!("errorMessage"in he))return he;{const He=F.ok?he.errorMessage:he.error.message,[St,$t]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===St)throw Rn(w,"credential-already-in-use",he);if("EMAIL_EXISTS"===St)throw Rn(w,"email-already-in-use",he);if("USER_DISABLED"===St)throw Rn(w,"user-disabled",he);const wn=E[St]||St.toLowerCase().replace(/[_\s]+/g,"-");if($t)throw At(w,wn,$t);_e(w,wn)}}catch(A){if(A instanceof j.ZR)throw A;_e(w,"network-request-failed")}})).apply(this,arguments)}function _t(w,g,v,E){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(w,g,v,E,A={}){const F=yield rt(w,g,v,E,A);return"mfaPendingCredential"in F&&_e(w,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function mn(w,g,v,E){const A=`${g}${v}?${E}`;return w.config.emulator?Re(w.config,A):`${w.config.apiScheme}://${A}`}class Mn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(Ze(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rn(w,g,v){const E={appName:w.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const A=Ze(w,g,E);return A.customData._tokenResponse=v,A}function at(){return(at=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function tn(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function On(){return(On=(0,l.Z)(function*(w,g=!1){const v=(0,j.m9)(w),E=yield v.getIdToken(g),A=st(E);ee(A&&A.exp&&A.auth_time&&A.iat,v.auth,"internal-error");const F="object"==typeof A.firebase?A.firebase:void 0,he=F?.sign_in_provider;return{claims:A,token:E,authTime:tn(ut(A.auth_time)),issuedAtTime:tn(ut(A.iat)),expirationTime:tn(ut(A.exp)),signInProvider:he||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(w){return 1e3*Number(w)}function st(w){const[g,v,E]=w.split(".");if(void 0===g||void 0===v||void 0===E)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,j.tV)(v);return A?JSON.parse(A):(Se("Failed to decode base64 JWT payload"),null)}catch(A){return Se("Caught error parsing JWT payload as JSON",A?.toString()),null}}function sn(w,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(w,g,v=!1){if(v)return g;try{return yield g}catch(E){throw E instanceof j.ZR&&function Ln({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class ni{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class Bn{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(w){return jt.apply(this,arguments)}function jt(){return jt=(0,l.Z)(function*(w){var g;const v=w.auth,E=yield w.getIdToken(),A=yield sn(w,function ke(w,g){return Tt.apply(this,arguments)}(v,{idToken:E}));ee(A?.users.length,v,"internal-error");const F=A.users[0];w._notifyReloadListener(F);const he=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?function Qn(w){return w.map(g=>{var{providerId:v}=g,E=(0,Fe._T)(g,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],He=function Ei(w,g){return[...w.filter(E=>!g.some(A=>A.providerId===E.providerId)),...g]}(w.providerData,he),wn=!!w.isAnonymous&&!(w.email&&F.passwordHash||He?.length),si={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:He,metadata:new Bn(F.createdAt,F.lastLoginAt),isAnonymous:wn};Object.assign(w,si)}),jt.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(w){const g=(0,j.m9)(w);yield Un(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(w,g){const v=yield Ct(w,{},(0,l.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:F}=w.config,he=mn(w,A,"/v1/token",`key=${F}`),He=yield w._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(he,{method:"POST",headers:He,body:E})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ee(g.idToken,"internal-error"),ee(typeof g.idToken<"u","internal-error"),ee(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Mt(w){const g=st(w);return ee(g,"internal-error"),ee(typeof g.exp<"u","internal-error"),ee(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var E=this;return(0,l.Z)(function*(){return ee(!E.accessToken||E.refreshToken,g,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var E=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:F,expiresIn:he}=yield function Qe(w,g){return Ne.apply(this,arguments)}(g,v);E.updateTokensAndExpiration(A,F,Number(he))})()}updateTokensAndExpiration(g,v,E){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,v){const{refreshToken:E,accessToken:A,expirationTime:F}=v,he=new ht;return E&&(ee("string"==typeof E,"internal-error",{appName:g}),he.refreshToken=E),A&&(ee("string"==typeof A,"internal-error",{appName:g}),he.accessToken=A),F&&(ee("number"==typeof F,"internal-error",{appName:g}),he.expirationTime=F),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return Te("not implemented")}}function Bt(w,g){ee("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Xt{constructor(g){var{uid:v,auth:E,stsTokenManager:A}=g,F=(0,Fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Bn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.Z)(function*(){const E=yield sn(v,v.stsTokenManager.getToken(v.auth,g));return ee(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(g){return function bn(w){return On.apply(this,arguments)}(this,g)}reload(){return function pi(w){return rn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ee(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var E=this;return(0,l.Z)(function*(){let A=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),A=!0),v&&(yield Un(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const v=yield g.getIdToken();return yield sn(g,function ei(w,g){return at.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var E,A,F,he,He,St,$t,wn;const si=null!==(E=v.displayName)&&void 0!==E?E:void 0,so=null!==(A=v.email)&&void 0!==A?A:void 0,Po=null!==(F=v.phoneNumber)&&void 0!==F?F:void 0,gu=null!==(he=v.photoURL)&&void 0!==he?he:void 0,Ga=null!==(He=v.tenantId)&&void 0!==He?He:void 0,_u=null!==(St=v._redirectEventId)&&void 0!==St?St:void 0,_m=null!==($t=v.createdAt)&&void 0!==$t?$t:void 0,Sv=null!==(wn=v.lastLoginAt)&&void 0!==wn?wn:void 0,{uid:vu,emailVerified:Tv,isAnonymous:Dv,providerData:vm,stsTokenManager:Av}=v;ee(vu&&Av,g,"internal-error");const LC=ht.fromJSON(this.name,Av);ee("string"==typeof vu,g,"internal-error"),Bt(si,g.name),Bt(so,g.name),ee("boolean"==typeof Tv,g,"internal-error"),ee("boolean"==typeof Dv,g,"internal-error"),Bt(Po,g.name),Bt(gu,g.name),Bt(Ga,g.name),Bt(_u,g.name),Bt(_m,g.name),Bt(Sv,g.name);const ym=new Xt({uid:vu,auth:g,email:so,emailVerified:Tv,displayName:si,isAnonymous:Dv,photoURL:gu,phoneNumber:Po,tenantId:Ga,stsTokenManager:LC,createdAt:_m,lastLoginAt:Sv});return vm&&Array.isArray(vm)&&(ym.providerData=vm.map(Mv=>Object.assign({},Mv))),_u&&(ym._redirectEventId=_u),ym}static _fromIdTokenResponse(g,v,E=!1){return(0,l.Z)(function*(){const A=new ht;A.updateFromServerResponse(v);const F=new Xt({uid:v.localId,auth:g,stsTokenManager:A,isAnonymous:E});return yield Un(F),F})()}}const W=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,E){var A=this;return(0,l.Z)(function*(){A.storage[v]=E})()}_get(v){var E=this;return(0,l.Z)(function*(){const A=E.storage[v];return void 0===A?null:A})()}_remove(v){var E=this;return(0,l.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return w.type="NONE",w})();function H(w,g,v){return`firebase:${w}:${g}:${v}`}class O{constructor(g,v,E){this.persistence=g,this.auth=v,this.userKey=E;const{config:A,name:F}=this.auth;this.fullUserKey=H(this.userKey,A.apiKey,F),this.fullPersistenceKey=H("persistence",A.apiKey,F),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?Xt._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.Z)(function*(){if(v.persistence===g)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,E="authUser"){return(0,l.Z)(function*(){if(!v.length)return new O(te(W),g,E);const A=(yield Promise.all(v.map(function(){var $t=(0,l.Z)(function*(wn){if(yield wn._isAvailable())return wn});return function(wn){return $t.apply(this,arguments)}}()))).filter($t=>$t);let F=A[0]||te(W);const he=H(E,g.config.apiKey,g.name);let He=null;for(const $t of v)try{const wn=yield $t._get(he);if(wn){const si=Xt._fromJSON(g,wn);$t!==F&&(He=si),F=$t;break}}catch{}const St=A.filter($t=>$t._shouldAllowMigration);return F._shouldAllowMigration&&St.length?(F=St[0],He&&(yield F._set(he,He.toJSON())),yield Promise.all(v.map(function(){var $t=(0,l.Z)(function*(wn){if(wn!==F)try{yield wn._remove(he)}catch{}});return function(wn){return $t.apply(this,arguments)}}())),new O(F,g,E)):new O(F,g,E)})()}}function R(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ge(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(D(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ue(g))return"Blackberry";if(mt(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||K(g))&&!g.includes("edge/"))return"Chrome";if(Ge(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function D(w=(0,j.z$)()){return/firefox\//i.test(w)}function P(w=(0,j.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function K(w=(0,j.z$)()){return/crios\//i.test(w)}function ge(w=(0,j.z$)()){return/iemobile/i.test(w)}function Ge(w=(0,j.z$)()){return/android/i.test(w)}function Ue(w=(0,j.z$)()){return/blackberry/i.test(w)}function mt(w=(0,j.z$)()){return/webos/i.test(w)}function lt(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function In(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function zn(w=(0,j.z$)()){return lt(w)||Ge(w)||mt(w)||Ue(w)||/windows phone/i.test(w)||ge(w)}function be(w,g=[]){let v;switch(w){case"Browser":v=R((0,j.z$)());break;case"Worker":v=`${R((0,j.z$)())}-${w}`;break;default:v=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${B.SDK_VERSION}/${E}`}class yt{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const E=F=>new Promise((he,He)=>{try{he(g(F))}catch(St){He(St)}});E.onAbort=v,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.Z)(function*(){if(v.auth.currentUser===g)return;const E=[];try{for(const A of v.queue)yield A(g),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const F of E)try{F()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Dt{constructor(g,v,E){this.app=g,this.heartbeatServiceProvider=v,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q(this),this.idTokenSubscription=new Q(this),this.beforeStateQueue=new yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,v){var E=this;return v&&(this._popupRedirectResolver=te(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,F;if(!E._deleted&&(E.persistenceManager=yield O.create(E,g),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,l.Z)(function*(){var E;const A=yield v.assertedPersistence.getCurrentUser();let F=A,he=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const He=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,St=F?._redirectEventId,$t=yield v.tryRedirectSignIn(g);(!He||He===St)&&$t?.user&&(F=$t.user,he=!0)}if(!F)return v.directlySetCurrentUser(null);if(!F._redirectEventId){if(he)try{yield v.beforeStateQueue.runMiddleware(F)}catch(He){F=A,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(He))}return F?v.reloadAndSetCurrentUserOrClear(F):v.directlySetCurrentUser(null)}return ee(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===F._redirectEventId?v.directlySetCurrentUser(F):v.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var v=this;return(0,l.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.Z)(function*(){try{yield Un(g)}catch(E){if("auth/network-request-failed"!==E?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ne(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.Z)(function*(){const E=g?(0,j.m9)(g):null;return E&&ee(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(g,v=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return g&&ee(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,v,E){return this.registerStateListener(this.authStateSubscription,g,v,E)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,E){return this.registerStateListener(this.idTokenSubscription,g,v,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var E=this;return(0,l.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(v);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const E=g&&te(g)||v._popupRedirectResolver;ee(E,v,"argument-error"),v.redirectPersistenceManager=yield O.create(v,[te(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.Z)(function*(){var E,A;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===g?v._currentUser:(null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.Z)(function*(){if(g===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,E,A){if(this._deleted)return()=>{};const F="function"==typeof v?v:v.next.bind(v),he=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(he,this,"internal-error"),he.then(()=>F(this.currentUser)),"function"==typeof v?g.addObserver(v,E,A):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var v;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function Ht(w){return(0,j.m9)(w)}class Q{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(v=>this.observer=v)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function we(w,g,v){const E=Ht(w);ee(E._canInitEmulator,E,"emulator-config-failed"),ee(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const A=!!v?.disableWarnings,F=Ye(g),{host:he,port:He}=function Vt(w){const g=Ye(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const F=A[1];return{host:F,port:jn(E.substr(F.length+1))}}{const[F,he]=E.split(":");return{host:F,port:jn(he)}}}(g);E.config.emulator={url:`${F}//${he}${null===He?"":`:${He}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:he,port:He,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ut(){function w(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Ye(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function jn(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Pt{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Te("not implemented")}_getIdTokenResponse(g){return Te("not implemented")}_linkToIdToken(g,v){return Te("not implemented")}_getReauthenticationResolver(g){return Te("not implemented")}}function Hn(w,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:resetPassword",it(w,g))})).apply(this,arguments)}function Xn(w,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:update",it(w,g))})).apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithPassword",it(w,g))})).apply(this,arguments)}function mo(w,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:sendOobCode",it(w,g))})).apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(w,g){return mo(w,g)})).apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(w,g){return mo(w,g)})).apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(w,g){return mo(w,g)})).apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(w,g){return mo(w,g)})).apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithEmailLink",it(w,g))})).apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithEmailLink",it(w,g))})).apply(this,arguments)}class xr extends Pt{constructor(g,v,E,A=null){super("password",E),this._email=g,this._password=v,this._tenantId=A}static _fromEmailAndPassword(g,v){return new xr(g,v,"password")}static _fromEmailAndCode(g,v,E=null){return new xr(g,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return function li(w,g){return Er.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Hs(w,g){return Wi.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:_e(g,"internal-error")}})()}_linkToIdToken(g,v){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return Xn(g,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ll(w,g){return Go.apply(this,arguments)}(g,{idToken:v,email:E._email,oobCode:E._password});default:_e(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ir(w,g){return zd.apply(this,arguments)}function zd(){return(zd=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithIdp",it(w,g))})).apply(this,arguments)}class Oi extends Pt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Oi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):_e("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A}=v,F=(0,Fe._T)(v,["providerId","signInMethod"]);if(!E||!A)return null;const he=new Oi(E,A);return he.idToken=F.idToken||void 0,he.accessToken=F.accessToken||void 0,he.secret=F.secret,he.nonce=F.nonce,he.pendingToken=F.pendingToken||null,he}_getIdTokenResponse(g){return Ir(g,this.buildRequest())}_linkToIdToken(g,v){const E=this.buildRequest();return E.idToken=v,Ir(g,E)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ir(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,j.xO)(v)}return g}}function Bl(){return(Bl=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:sendVerificationCode",it(w,g))})).apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,g))})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(w,g){const v=yield _t(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,g));if(v.temporaryProof)throw Rn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const oC={USER_NOT_FOUND:"user-not-found"};function Hr(){return(Hr=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithPhoneNumber",it(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),oC)})).apply(this,arguments)}class Wo extends Pt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Wo({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Wo({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Vl(w,g){return Da.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Aa(w,g){return tr.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function jr(w,g){return Hr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:E,verificationCode:A}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:E,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:E,phoneNumber:A,temporaryProof:F}=g;return E||v||A||F?new Wo({verificationId:v,verificationCode:E,phoneNumber:A,temporaryProof:F}):null}}class nr{constructor(g){var v,E,A,F,he,He;const St=(0,j.zd)((0,j.pd)(g)),$t=null!==(v=St.apiKey)&&void 0!==v?v:null,wn=null!==(E=St.oobCode)&&void 0!==E?E:null,si=function Ec(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=St.mode)&&void 0!==A?A:null);ee($t&&wn&&si,"argument-error"),this.apiKey=$t,this.operation=si,this.code=wn,this.continueUrl=null!==(F=St.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(he=St.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(He=St.tenantId)&&void 0!==He?He:null}static parseLink(g){const v=function Ul(w){const g=(0,j.zd)((0,j.pd)(w)).link,v=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||v||g||w}(g);try{return new nr(v)}catch{return null}}}let Ap=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,E){return xr._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const A=nr.parseLink(E);return ee(A,"argument-error"),xr._fromEmailAndCode(v,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class qo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ma extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class zl extends Ma{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return ee("providerId"in v&&"signInMethod"in v,"argument-error"),Oi._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ee(g.idToken||g.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return zl.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return zl.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:F,nonce:he,providerId:He}=g;if(!E&&!A&&!v&&!F||!He)return null;try{return new zl(He)._credential({idToken:v,accessToken:E,nonce:he,pendingToken:F})}catch{return null}}}let aC=(()=>{class w extends Ma{constructor(){super("facebook.com")}static credential(v){return Oi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),H_=(()=>{class w extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return Oi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:A}=v;if(!E&&!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),cC=(()=>{class w extends Ma{constructor(){super("github.com")}static credential(v){return Oi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class $s extends Pt{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Ir(g,this.buildRequest())}_linkToIdToken(g,v){const E=this.buildRequest();return E.idToken=v,Ir(g,E)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ir(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A,pendingToken:F}=v;return E&&A&&F&&E===A?new $s(E,F):null}static _create(g,v){return new $s(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xc extends qo{constructor(g){ee(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return xc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return xc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=$s.fromJSON(g);return ee(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:E}=g;if(!v||!E)return null;try{return $s._create(E,v)}catch{return null}}}let mA=(()=>{class w extends Ma{constructor(){super("twitter.com")}static credential(v,E){return Oi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=v;if(!E||!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function uC(w,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signUp",it(w,g))})).apply(this,arguments)}class no{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,E,A=!1){return(0,l.Z)(function*(){const F=yield Xt._fromIdTokenResponse(g,E,A),he=Hd(E);return new no({user:F,providerId:he,_tokenResponse:E,operationType:v})})()}static _forOperation(g,v,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const A=Hd(E);return new no({user:g,providerId:A,_tokenResponse:E,operationType:v})})()}}function Hd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function kp(w){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,l.Z)(function*(w){var g;const v=Ht(w);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new no({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield uC(v,{returnSecureToken:!0}),A=yield no._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ic extends j.ZR{constructor(g,v,E,A){var F;super(v.code,v.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,v,E,A){return new Ic(g,v,E,A)}}function Op(w,g,v,E){return("reauthenticate"===g?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Ic._fromErrorAndOperation(w,F,g,E):F})}function Gs(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function dC(w,g){return jl.apply(this,arguments)}function jl(){return jl=(0,l.Z)(function*(w,g){const v=(0,j.m9)(w);yield Sc(!0,v,g);const{providerUserInfo:E}=yield function pe(w,g){return Be.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),A=Gs(E||[]);return v.providerData=v.providerData.filter(F=>A.has(F.providerId)),A.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),jl.apply(this,arguments)}function Hl(w,g){return $d.apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(w,g,v=!1){const E=yield sn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),v);return no._forOperation(w,"link",E)})).apply(this,arguments)}function Sc(w,g,v){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(w,g,v){yield Un(g);const A=!1===w?"provider-already-linked":"no-such-provider";ee(Gs(g.providerData).has(v)===w,g.auth,A)})).apply(this,arguments)}function Pp(w,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(w,g,v=!1){const{auth:E}=w,A="reauthenticate";try{const F=yield sn(w,Op(E,A,g,w),v);ee(F.idToken,E,"internal-error");const he=st(F.idToken);ee(he,E,"internal-error");const{sub:He}=he;return ee(w.uid===He,E,"user-mismatch"),no._forOperation(w,A,F)}catch(F){throw"auth/user-not-found"===F?.code&&_e(E,"user-mismatch"),F}})).apply(this,arguments)}function Gd(w,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(w,g,v=!1){const E="signIn",A=yield Op(w,E,g),F=yield no._fromIdTokenResponse(w,E,A);return v||(yield w._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Sr(w,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(w,g){return Gd(Ht(w),g)})).apply(this,arguments)}function Wd(w,g){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(w,g){const v=(0,j.m9)(w);return yield Sc(!1,v,g.providerId),Hl(v,g)})).apply(this,arguments)}function ql(w,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(w,g){return Pp((0,j.m9)(w),g)})).apply(this,arguments)}function qd(){return(qd=(0,l.Z)(function*(w,g){return _t(w,"POST","/v1/accounts:signInWithCustomToken",it(w,g))})).apply(this,arguments)}function Np(w,g){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,l.Z)(function*(w,g){const v=Ht(w),E=yield function cr(w,g){return qd.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),A=yield no._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(A.user),A}),Ws.apply(this,arguments)}class lr{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Yd._fromServerResponse(g,v):_e(g,"internal-error")}}class Yd extends lr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Yd(v)}}function qs(w,g,v){var E;ee((null===(E=v.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),ee(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ee(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(ee(v.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function $_(w,g,v){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w),A={requestType:"PASSWORD_RESET",email:g};v&&qs(E,A,v),yield function Fl(w,g){return gr.apply(this,arguments)}(E,A)}),Yo.apply(this,arguments)}function Fp(w,g,v){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(w,g,v){yield Hn((0,j.m9)(w),{oobCode:g,newPassword:v})})).apply(this,arguments)}function ln(w,g){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,l.Z)(function*(w,g){yield function It(w,g){return dn.apply(this,arguments)}((0,j.m9)(w),{oobCode:g})}),Yl.apply(this,arguments)}function hC(w,g){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,l.Z)(function*(w,g){const v=(0,j.m9)(w),E=yield Hn(v,{oobCode:g}),A=E.requestType;switch(ee(A,v,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(E.mfaInfo,v,"internal-error");default:ee(E.email,v,"internal-error")}let F=null;return E.mfaInfo&&(F=lr._fromServerResponse(Ht(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:A}})).apply(this,arguments)}function G_(w,g){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,l.Z)(function*(w,g){const{data:v}=yield hC((0,j.m9)(w),g);return v.email})).apply(this,arguments)}function Lp(w,g,v){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,l.Z)(function*(w,g,v){const E=Ht(w),A=yield uC(E,{returnSecureToken:!0,email:g,password:v}),F=yield no._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function W_(w,g,v){return Sr((0,j.m9)(w),Ap.credential(g,v))}function Oe(w,g,v){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w),A={requestType:"EMAIL_SIGNIN",email:g};ee(v.handleCodeInApp,E,"argument-error"),v&&qs(E,A,v),yield function yn(w,g){return Ta.apply(this,arguments)}(E,A)}),Tn.apply(this,arguments)}function q_(w,g){return"EMAIL_SIGNIN"===nr.parseLink(g)?.operation}function Y_(w,g,v){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w),A=Ap.credentialWithLink(g,v||G());return ee(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Sr(E,A)})).apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:createAuthUri",it(w,g))})).apply(this,arguments)}function ko(w,g){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,l.Z)(function*(w,g){const E={identifier:g,continueUri:ae()?G():"http://localhost"},{signinMethods:A}=yield function Z_(w,g){return Ra.apply(this,arguments)}((0,j.m9)(w),E);return A||[]}),Zl.apply(this,arguments)}function Vp(w,g){return Up.apply(this,arguments)}function Up(){return Up=(0,l.Z)(function*(w,g){const v=(0,j.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&qs(v.auth,A,g);const{email:F}=yield function go(w,g){return ii.apply(this,arguments)}(v.auth,A);F!==w.email&&(yield w.reload())}),Up.apply(this,arguments)}function K_(w,g,v){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};v&&qs(E.auth,F,v);const{email:he}=yield function zs(w,g){return js.apply(this,arguments)}(E.auth,F);he!==w.email&&(yield w.reload())}),Kl.apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(w,g){return rt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oa(w,g){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,l.Z)(function*(w,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const E=(0,j.m9)(w),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},he=yield sn(E,function _r(w,g){return $r.apply(this,arguments)}(E.auth,F));E.displayName=he.displayName||null,E.photoURL=he.photoUrl||null;const He=E.providerData.find(({providerId:St})=>"password"===St);He&&(He.displayName=E.displayName,He.photoURL=E.photoURL),yield E._updateTokensIfNecessary(he)}),Ys.apply(this,arguments)}function vs(w,g){return Ql((0,j.m9)(w),g,null)}function zp(w,g){return Ql((0,j.m9)(w),null,g)}function Ql(w,g,v){return jp.apply(this,arguments)}function jp(){return(jp=(0,l.Z)(function*(w,g,v){const{auth:E}=w,F={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(F.email=g),v&&(F.password=v);const he=yield sn(w,Xn(E,F));yield w._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class ys{constructor(g,v,E={}){this.isNewUser=g,this.providerId=v,this.profile=E}}class Ac extends ys{constructor(g,v,E,A){super(g,v,E),this.username=A}}class Q_ extends ys{constructor(g,v){super(g,"facebook.com",v)}}class Hp extends Ac{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class pC extends ys{constructor(g,v){super(g,"google.com",v)}}class X_ extends Ac{constructor(g,v,E){super(g,"twitter.com",v,E)}}function $p(w){const{user:g,_tokenResponse:v}=w;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function fC(w){var g,v;if(!w)return null;const{providerId:E}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},F=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const he=null===(v=null===(g=st(w.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(he)return new ys(F,"anonymous"!==he&&"custom"!==he?he:null)}if(!E)return null;switch(E){case"facebook.com":return new Q_(F,A);case"github.com":return new Hp(F,A);case"google.com":return new pC(F,A);case"twitter.com":return new X_(F,A,w.screenName||null);case"custom":case"anonymous":return new ys(F,null);default:return new ys(F,E,A)}}(v)}function tv(w,g,v,E){return(0,j.m9)(w).onAuthStateChanged(g,v,E)}class Zn{constructor(g,v,E){this.type=g,this.credential=v,this.auth=E}static _fromIdtoken(g,v){return new Zn("enroll",g,v)}static _fromMfaPendingCredential(g){return new Zn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,E;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Zn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Zn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Qd{constructor(g,v,E){this.session=g,this.hints=v,this.signInResolver=E}static _fromError(g,v){const E=Ht(g),A=v.customData._serverResponse,F=(A.mfaInfo||[]).map(He=>lr._fromServerResponse(E,He));ee(A.mfaPendingCredential,E,"internal-error");const he=Zn._fromMfaPendingCredential(A.mfaPendingCredential);return new Qd(he,F,function(){var He=(0,l.Z)(function*(St){const $t=yield St._process(E,he);delete A.mfaInfo,delete A.mfaPendingCredential;const wn=Object.assign(Object.assign({},A),{idToken:$t.idToken,refreshToken:$t.refreshToken});switch(v.operationType){case"signIn":const si=yield no._fromIdTokenResponse(E,v.operationType,wn);return yield E._updateCurrentUser(si.user),si;case"reauthenticate":return ee(v.user,E,"internal-error"),no._forOperation(v.user,v.operationType,wn);default:_e(E,"internal-error")}});return function(St){return He.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.Z)(function*(){return v.signInResolver(g)})()}}function _C(w,g){var v;const E=(0,j.m9)(w),A=g;return ee(g.customData.operationType,E,"argument-error"),ee(null===(v=A.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),Qd._fromError(E,A)}class Gp{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>lr._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Gp(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Zn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var E=this;return(0,l.Z)(function*(){const A=g,F=yield E.getSession(),he=yield sn(E.user,A._process(E.user.auth,F,v));return yield E.user._updateTokensIfNecessary(he),E.user.reload()})()}unenroll(g){var v=this;return(0,l.Z)(function*(){const E="string"==typeof g?g:g.uid,A=yield v.user.getIdToken();try{const F=yield sn(v.user,function yC(w,g){return rt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",it(w,g))}(v.user.auth,{idToken:A,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:he})=>he!==E),yield v.user._updateTokensIfNecessary(F),yield v.user.reload()}catch(F){throw F}})()}}const Mc=new WeakMap;function Xd(w){const g=(0,j.m9)(w);return Mc.has(g)||Mc.set(g,Gp._fromUser(g)),Mc.get(g)}const Zs="__sak";class Pa{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Zs,"1"),this.storage.removeItem(Zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jd=(()=>{class w extends Pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Na(){const w=(0,j.z$)();return P(w)||lt(w)}()&&function ie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),F=this.localCache[E];A!==F&&v(E,F,A)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((He,St,$t)=>{this.notifyListeners(He,$t)});const A=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(A);if(v.newValue!==He)null!==v.newValue?this.storage.setItem(A,v.newValue):this.storage.removeItem(A);else if(this.localCache[A]===v.newValue&&!E)return}const F=()=>{const He=this.storage.getItem(A);!E&&this.localCache[A]===He||this.notifyListeners(A,He)},he=this.storage.getItem(A);!function Jt(){return(0,j.w1)()&&10===document.documentMode}()||he===v.newValue||v.newValue===v.oldValue?F():setTimeout(F,10)}notifyListeners(v,E){this.localCache[v]=E;const A=this.listeners[v];if(A)for(const F of Array.from(A))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var A=()=>super._set,F=this;return(0,l.Z)(function*(){yield A().call(F,v,E),F.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,A=this;return(0,l.Z)(function*(){const F=yield E().call(A,v);return A.localCache[v]=JSON.stringify(F),F})()}_remove(v){var E=()=>super._remove,A=this;return(0,l.Z)(function*(){yield E().call(A,v),delete A.localCache[v]})()}}return w.type="LOCAL",w})(),kc=(()=>{class w extends Pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return w.type="SESSION",w})();let ov=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(F=>F.isListeningto(v));if(E)return E;const A=new w(v);return this.receivers.push(A),A}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,l.Z)(function*(){const A=v,{eventId:F,eventType:he,data:He}=A.data,St=E.handlersMap[he];if(!St?.size)return;A.ports[0].postMessage({status:"ack",eventId:F,eventType:he});const $t=Array.from(St).map(function(){var si=(0,l.Z)(function*(so){return so(A.origin,He)});return function(so){return si.apply(this,arguments)}}()),wn=yield function bC(w){return Promise.all(w.map(function(){var g=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return g.apply(this,arguments)}}()))}($t);A.ports[0].postMessage({status:"done",eventId:F,eventType:he,response:wn})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function bs(w="",g=10){let v="";for(let E=0;E<g;E++)v+=Math.floor(10*Math.random());return w+v}class eh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,E=50){var A=this;return(0,l.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let he,He;return new Promise((St,$t)=>{const wn=bs("",20);F.port1.start();const si=setTimeout(()=>{$t(new Error("unsupported_event"))},E);He={messageChannel:F,onMessage(so){const Po=so;if(Po.data.eventId===wn)switch(Po.data.status){case"ack":clearTimeout(si),he=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),St(Po.data.response);break;default:clearTimeout(si),clearTimeout(he),$t(new Error("invalid_response"))}}},A.handlers.add(He),F.port1.addEventListener("message",He.onMessage),A.target.postMessage({eventType:g,eventId:wn,data:v},[F.port2])}).finally(()=>{He&&A.removeMessageHandler(He)})})()}}function Ni(){return window}function ws(){return typeof Ni().WorkerGlobalScope<"u"&&"function"==typeof Ni().importScripts}function Qo(){return(Qo=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fa="firebaseLocalStorageDb",sv=1,Ks="firebaseLocalStorage",tu="fbase_key";class Cs{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Rc(w,g){return w.transaction([Ks],g?"readwrite":"readonly").objectStore(Ks)}function Qs(){const w=indexedDB.open(Fa,sv);return new Promise((g,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ks,{keyPath:tu})}catch(A){v(A)}}),w.addEventListener("success",(0,l.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ks)?g(E):(E.close(),yield function ih(){const w=indexedDB.deleteDatabase(Fa);return new Cs(w).toPromise()}(),g(yield Qs()))}))})}function nu(w,g,v){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(w,g,v){const E=Rc(w,!0).put({[tu]:g,value:v});return new Cs(E).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(w,g){const v=Rc(w,!1).get(g),E=yield new Cs(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function iu(w,g){const v=Rc(w,!0).delete(g);return new Cs(v).toPromise()}const Yp=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield Qs()),v.db})()}_withRetries(v){var E=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const F=yield E._openDb();return yield v(F)}catch(F){if(A++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return ws()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=ov._getInstance(function nh(){return ws()?self:null}()),v.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(A,F){return{keyProcessed:(yield v._poll()).includes(F.key)}});return function(A,F){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(A,F){return["keyChanged"]});return function(A,F){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var E,A;if(v.activeServiceWorker=yield function th(){return Qo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new eh(v.activeServiceWorker);const F=yield v.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(A=F[0])&&void 0!==A&&A.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function eu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Qs();return yield nu(v,Zs,"1"),yield iu(v,Zs),!0}catch{}return!1})()}_withPendingWrite(v){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(F=>nu(F,v,E)),A.localCache[v]=E,A.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,l.Z)(function*(){const A=yield E._withRetries(F=>function Wp(w,g){return Xs.apply(this,arguments)}(F,v));return E.localCache[v]=A,A})()}_remove(v){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(A=>iu(A,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const E=yield v._withRetries(he=>{const He=Rc(he,!1).getAll();return new Cs(He).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const A=[],F=new Set;for(const{fbase_key:he,value:He}of E)F.add(he),JSON.stringify(v.localCache[he])!==JSON.stringify(He)&&(v.notifyListeners(he,He),A.push(he));for(const he of Object.keys(v.localCache))v.localCache[he]&&!F.has(he)&&(v.notifyListeners(he,null),A.push(he));return A})()}notifyListeners(v,E){this.localCache[v]=E;const A=this.listeners[v];if(A)for(const F of Array.from(A))F(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function sh(){return(sh=(0,l.Z)(function*(w){return(yield rt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(w){return new Promise((g,v)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=A=>{const F=Ze("internal-error");F.customData=A,v(F)},E.type="text/javascript",E.charset="UTF-8",function wC(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Js(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Oc=1e12;class ea{constructor(g){this.auth=g,this.counter=Oc,this._widgets=new Map}render(g,v){const E=this.counter;return this._widgets.set(E,new cv(g,this.auth.name,v||{})),this.counter++,E}reset(g){var v;const E=g||Oc;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Oc))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.Z)(function*(){var E;return null===(E=v._widgets.get(g||Oc))||void 0===E||E.execute(),""})()}}class cv{constructor(g,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;ee(A,"argument-error",{appName:v}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ah(w){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ba=Js("rcb"),Xp=new de(3e4,6e4);class Jp{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ni().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return ee(function Ua(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Ni().grecaptcha):new Promise((E,A)=>{const F=Ni().setTimeout(()=>{A(Ze(g,"network-request-failed"))},Xp.get());Ni()[Ba]=()=>{Ni().clearTimeout(F),delete Ni()[Ba];const He=Ni().grecaptcha;if(!He)return void A(Ze(g,"internal-error"));const St=He.render;He.render=($t,wn)=>{const si=St($t,wn);return this.counter++,si},this.hostLanguage=v,E(He)},La(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ba,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(F),A(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Ni().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pc{load(g){return(0,l.Z)(function*(){return new ea(g)})()}clearedOneInstance(){}}const ta="recaptcha",ou={theme:"light",type:"image"};class ch{constructor(g,v=Object.assign({},ou),E){this.parameters=v,this.type=ta,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(E),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;ee(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pc:new Jp,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(v)||new Promise(F=>{const he=He=>{He&&(g.tokenChangeListeners.delete(he),F(He))};g.tokenChangeListeners.add(he),g.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof g)g(v);else if("string"==typeof g){const E=Ni()[g];"function"==typeof E&&E(v)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){ee(ae()&&!ws(),g.auth,"internal-error"),yield function za(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function ru(w){return sh.apply(this,arguments)}(g.auth);ee(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lv{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Wo._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function CC(w,g,v){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(w,g,v){const E=Ht(w),A=yield au(E,g,(0,j.m9)(v));return new lv(A,F=>Sr(E,F))})).apply(this,arguments)}function na(w,g,v){return em.apply(this,arguments)}function em(){return(em=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w);yield Sc(!1,E,"phone");const A=yield au(E.auth,g,(0,j.m9)(v));return new lv(A,F=>Wd(E,F))})).apply(this,arguments)}function EC(w,g,v){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w),A=yield au(E.auth,g,(0,j.m9)(v));return new lv(A,F=>ql(E,F))})).apply(this,arguments)}function au(w,g,v){return uv.apply(this,arguments)}function uv(){return uv=(0,l.Z)(function*(w,g,v){var E;const A=yield v.verify();try{let F;if(ee("string"==typeof A,w,"argument-error"),ee(v.type===ta,w,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const he=F.session;if("phoneNumber"in F)return ee("enroll"===he.type,w,"internal-error"),(yield function iv(w,g){return rt(w,"POST","/v2/accounts/mfaEnrollment:start",it(w,g))}(w,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ee("signin"===he.type,w,"internal-error");const He=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return ee(He,w,"missing-multi-factor-info"),(yield function Zp(w,g){return rt(w,"POST","/v2/accounts/mfaSignIn:start",it(w,g))}(w,{mfaPendingCredential:he.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield function jd(w,g){return Bl.apply(this,arguments)}(w,{phoneNumber:F.phoneNumber,recaptchaToken:A});return he}}finally{v._reset()}}),uv.apply(this,arguments)}function vA(w,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(w,g){yield Hl((0,j.m9)(w),g)})).apply(this,arguments)}let xC=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Ht(v)}verifyPhoneNumber(v,E){return au(this.auth,v,(0,j.m9)(E))}static credential(v,E){return Wo._fromVerification(v,E)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:A}=v;return E&&A?Wo._fromTokenResponse(E,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Nc(w,g){return g?te(g):(ee(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class xi extends Pt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ir(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Ir(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Ir(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function tm(w){return Gd(w.auth,new xi(w),w.bypassAuthState)}function cu(w){const{auth:g,user:v}=w;return ee(v,g,"internal-error"),Pp(v,new xi(w),w.bypassAuthState)}function IC(w){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(w){const{auth:g,user:v}=w;return ee(v,g,"internal-error"),Hl(v,new xi(w),w.bypassAuthState)})).apply(this,arguments)}class ia{constructor(g,v,E,A,F=!1){this.auth=g,this.resolver=E,this.user=A,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.Z)(function*(E,A){g.pendingPromise={resolve:E,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,A){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:F,tenantId:he,error:He,type:St}=g;if(He)return void v.reject(He);const $t={auth:v.auth,requestUri:E,sessionId:A,tenantId:he||void 0,postBody:F||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(St)($t))}catch(wn){v.reject(wn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return tm;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return cu;default:_e(this.auth,"internal-error")}}resolve(g){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dv=new de(2e3,1e4);function lh(w,g,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(w,g,v){const E=Ht(w);dt(w,g,qo);const A=Nc(E,v);return new ur(E,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function SC(w,g,v){return hv.apply(this,arguments)}function hv(){return(hv=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w);dt(E.auth,g,qo);const A=Nc(E.auth,v);return new ur(E.auth,"reauthViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}function uh(w,g,v){return nm.apply(this,arguments)}function nm(){return(nm=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w);dt(E.auth,g,qo);const A=Nc(E.auth,v);return new ur(E.auth,"linkViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}let ur=(()=>{class w extends ia{constructor(v,E,A,F,he){super(v,E,F,he),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const E=yield v.execute();return ee(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,l.Z)(function*(){Z(1===v.filter.length,"Popup operations only handle one event");const E=bs();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(A=>{v.reject(A)}),v.resolver._isIframeWebStorageSupported(v.auth,A=>{A||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,dv.get())};v()}}return w.currentPopupAction=null,w})();const im="pendingRedirect",ro=new Map;class dr extends ia{constructor(g,v,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.Z)(function*(){let E=ro.get(v.auth._key());if(!E){try{const F=(yield function fv(w,g){return Es.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;E=()=>Promise.resolve(F)}catch(A){E=()=>Promise.reject(A)}ro.set(v.auth._key(),E)}return v.bypassAuthState||ro.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(E,g);if("unknown"!==g.type){if(g.eventId){const A=yield E.auth._redirectUserForId(g.eventId);if(A)return E.user=A,v().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Es(){return(Es=(0,l.Z)(function*(w,g){const v=ra(g),E=Lc(w);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(v));return yield E._remove(v),A})).apply(this,arguments)}function lu(w,g){return rm.apply(this,arguments)}function rm(){return(rm=(0,l.Z)(function*(w,g){return Lc(w)._set(ra(g),"true")})).apply(this,arguments)}function Fc(){ro.clear()}function om(w,g){ro.set(w._key(),g)}function Lc(w){return te(w._redirectPersistence)}function ra(w){return H(im,w.config.apiKey,w.name)}function Ro(w,g,v){return function Bc(w,g,v){return _o.apply(this,arguments)}(w,g,v)}function _o(){return(_o=(0,l.Z)(function*(w,g,v){const E=Ht(w);dt(w,g,qo),yield E._initializationPromise;const A=Nc(E,v);return yield lu(A,E),A._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function uu(w,g,v){return function Vc(w,g,v){return dh.apply(this,arguments)}(w,g,v)}function dh(){return(dh=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w);dt(E.auth,g,qo),yield E.auth._initializationPromise;const A=Nc(E.auth,v);yield lu(A,E.auth);const F=yield Is(E);return A._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function du(w,g,v){return function oo(w,g,v){return xs.apply(this,arguments)}(w,g,v)}function xs(){return(xs=(0,l.Z)(function*(w,g,v){const E=(0,j.m9)(w);dt(E.auth,g,qo),yield E.auth._initializationPromise;const A=Nc(E.auth,v);yield Sc(!1,E,g.providerId),yield lu(A,E.auth);const F=yield Is(E);return A._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function un(w,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(w,g){return yield Ht(w)._initializationPromise,Ii(w,g,!1)})).apply(this,arguments)}function Ii(w,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(w,g,v=!1){const E=Ht(w),A=Nc(E,g),he=yield new dr(E,A,v).execute();return he&&!v&&(delete he.user._redirectEventId,yield E._persistUserIfCurrent(he.user),yield E._setRedirectUser(null,g)),he})).apply(this,arguments)}function Is(w){return hh.apply(this,arguments)}function hh(){return(hh=(0,l.Z)(function*(w){const g=bs(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class wt{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(v=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ph(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fh(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var E;if(g.error&&!fh(g)){const A=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,A))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const E=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(g))}saveEventToCache(g){this.cachedEventUids.add(pv(g)),this.lastProcessedEventTime=Date.now()}}function pv(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function fh({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function mv(w){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(w,g={}){return rt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sm=/^https?/;function mh(){return(mh=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield mv(w);for(const v of g)try{if(yA(v))return}catch{}_e(w,"unauthorized-domain")})).apply(this,arguments)}function yA(w){const g=G(),{protocol:v,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const he=new URL(w);return""===he.hostname&&""===E?"chrome-extension:"===v&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&he.hostname===E}if(!sm.test(v))return!1;if(hu.test(w))return E===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const gh=new de(3e4,6e4);function am(){const w=Ni().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let fu=null;const TC=new de(5e3,15e3),DC="__/auth/iframe",vh="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bA(w){const g=w.config;ee(g.authDomain,w,"auth-domain-config-required");const v=g.emulator?Re(g,vh):`https://${w.config.authDomain}/${DC}`,E={apiKey:g.apiKey,appName:w.name,v:B.SDK_VERSION},A=MC.get(w.config.apiHost);A&&(E.eid=A);const F=w._getFrameworks();return F.length&&(E.fw=F.join(",")),`${v}?${(0,j.xO)(E).slice(1)}`}function vv(){return vv=(0,l.Z)(function*(w){const g=yield function _h(w){return fu=fu||function _v(w){return new Promise((g,v)=>{var E,A,F;function he(){am(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{am(),v(Ze(w,"network-request-failed"))},timeout:gh.get()})}if(null!==(A=null===(E=Ni().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(F=Ni().gapi)||void 0===F||!F.load){const He=Js("iframefcb");return Ni()[He]=()=>{gapi.load?he():v(Ze(w,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${He}`).catch(St=>v(St))}he()}}).catch(g=>{throw fu=null,g})}(w),fu}(w),v=Ni().gapi;return ee(v,w,"internal-error"),g.open({where:document.body,url:bA(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},E=>new Promise(function(){var A=(0,l.Z)(function*(F,he){yield E.restyle({setHideOnLeave:!1});const He=Ze(w,"network-request-failed"),St=Ni().setTimeout(()=>{he(He)},TC.get());function $t(){Ni().clearTimeout(St),F(E)}E.ping($t).then($t,()=>{he(He)})});return function(F,he){return A.apply(this,arguments)}}()))}),vv.apply(this,arguments)}const yv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cm=500,lm=600,bv="_blank",wv="http://localhost";class um{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const RC="__/auth/handler",OC="emulator/auth/handler";function pu(w,g,v,E,A,F){ee(w.config.authDomain,w,"auth-domain-config-required"),ee(w.config.apiKey,w,"invalid-api-key");const he={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:E,v:B.SDK_VERSION,eventId:A};if(g instanceof qo){g.setDefaultLanguage(w.languageCode),he.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(he.customParameters=JSON.stringify(g.getCustomParameters()));for(const[St,$t]of Object.entries(F||{}))he[St]=$t}if(g instanceof Ma){const St=g.getScopes().filter($t=>""!==$t);St.length>0&&(he.scopes=St.join(","))}w.tenantId&&(he.tid=w.tenantId);const He=he;for(const St of Object.keys(He))void 0===He[St]&&delete He[St];return`${function dm({config:w}){return w.emulator?Re(w,OC):`https://${w.authDomain}/${RC}`}(w)}?${(0,j.xO)(He).slice(1)}`}const hm="webStorageSupport",Cv=class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kc,this._completeRedirectFn=Ii,this._overrideRedirectResult=om}_openPopup(g,v,E,A){var F=this;return(0,l.Z)(function*(){var he;Z(null===(he=F.eventManagers[g._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const He=pu(g,v,E,G(),A);return function Xo(w,g,v,E=cm,A=lm){const F=Math.max((window.screen.availHeight-A)/2,0).toString(),he=Math.max((window.screen.availWidth-E)/2,0).toString();let He="";const St=Object.assign(Object.assign({},yv),{width:E.toString(),height:A.toString(),top:F,left:he}),$t=(0,j.z$)().toLowerCase();v&&(He=K($t)?bv:v),D($t)&&(g=g||wv,St.scrollbars="yes");const wn=Object.entries(St).reduce((so,[Po,gu])=>`${so}${Po}=${gu},`,"");if(function Vn(w=(0,j.z$)()){var g;return lt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}($t)&&"_self"!==He)return function kC(w,g){const v=document.createElement("a");v.href=w,v.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(g||"",He),new um(null);const si=window.open(g||"",He,wn);ee(si,w,"popup-blocked");try{si.focus()}catch{}return new um(si)}(g,He,bs())})()}_openRedirect(g,v,E,A){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(g),function Jl(w){Ni().location.href=w}(pu(g,v,E,G(),A)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:A,promise:F}=this.eventManagers[v];return A?Promise.resolve(A):(Z(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(g){var v=this;return(0,l.Z)(function*(){const E=yield function wA(w){return vv.apply(this,arguments)}(g),A=new wt(g);return E.register("authEvent",F=>(ee(F?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:A},v.iframes[g._key()]=E,A})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(hm,{type:hm},A=>{var F;const he=null===(F=A?.[0])||void 0===F?void 0:F[hm];void 0!==he&&v(!!he),_e(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function gv(w){return mh.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return zn()||P()||lt()}};class fm{constructor(g){this.factorId=g}_process(g,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,E);case"signin":return this._finalizeSignIn(g,v.credential);default:return Te("unexpected MultiFactorSessionType")}}}class pm extends fm{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new pm(g)}_finalizeEnroll(g,v,E){return function vC(w,g){return rt(w,"POST","/v2/accounts/mfaEnrollment:finalize",it(w,g))}(g,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Kp(w,g){return rt(w,"POST","/v2/accounts/mfaSignIn:finalize",it(w,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let NC=(()=>{class w{constructor(){}static assertion(v){return pm._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var Ar="@firebase/auth";class Ev{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xv=(0,j.Pz)("authIdTokenMaxAge")||300;let gm=null;const FC=w=>function(){var g=(0,l.Z)(function*(v){const E=v&&(yield v.getIdTokenResult()),A=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(A&&A>xv)return;const F=E?.token;gm!==F&&(gm=F,yield fetch(w,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function Iv(w=(0,B.getApp)()){const g=(0,B._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const v=function Me(w,g){const v=(0,B._getProvider)(w,"auth");if(v.isInitialized()){const A=v.getImmediate(),F=v.getOptions();if((0,j.vZ)(F,g??{}))return A;_e(A,"already-initialized")}return v.initialize({options:g})}(w,{popupRedirectResolver:Cv,persistence:[Yp,Jd,kc]}),E=(0,j.Pz)("authTokenSyncURL");if(E){const F=FC(E);(function ev(w,g,v){(0,j.m9)(w).beforeAuthStateChanged(g,v)})(v,F,()=>F(v.currentUser)),function J_(w,g,v,E){(0,j.m9)(w).onIdTokenChanged(g,v,E)}(v,he=>F(he))}const A=(0,j.q4)("auth");return A&&we(v,`http://${A}`),v}!function vr(w){(0,B._registerComponent)(new re.wA("auth",(g,{options:v})=>{const E=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:F,authDomain:he}=E.options;return((He,St)=>{ee(F&&!F.includes(":"),"invalid-api-key",{appName:He.name}),ee(!he?.includes(":"),"argument-error",{appName:He.name});const $t={apiKey:F,authDomain:he,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:be(w)},wn=new Dt(He,St,$t);return function ye(w,g){const v=g?.persistence||[],E=(Array.isArray(v)?v:[v]).map(te);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(wn,v),wn})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,E)=>{g.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new re.wA("auth-internal",g=>{const v=Ht(g.getProvider("auth").getImmediate());return new Ev(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Ar,"0.21.3",function mm(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,B.registerVersion)(Ar,"0.21.3","esm2017")}("Browser")},2090:(Gt,je,L)=>{L.d(je,{$s:()=>ht,BH:()=>At,DV:()=>Rn,G6:()=>$,GJ:()=>mn,L:()=>ve,LL:()=>Ot,P0:()=>Se,Pz:()=>Ze,Sg:()=>dt,UG:()=>Te,UI:()=>at,US:()=>re,Wl:()=>$e,Yr:()=>ae,ZB:()=>V,ZR:()=>Le,aH:()=>_e,b$:()=>te,cI:()=>rt,dS:()=>jt,eu:()=>ne,g5:()=>B,gK:()=>Ln,gQ:()=>bn,h$:()=>Ie,hl:()=>se,hu:()=>j,jU:()=>Z,m9:()=>fn,ne:()=>On,p$:()=>Y,pd:()=>Kt,q4:()=>Ee,r3:()=>Mn,ru:()=>le,tV:()=>De,uI:()=>ee,ug:()=>pi,vZ:()=>pe,w1:()=>ye,w9:()=>Lt,xO:()=>Tt,xb:()=>ei,z$:()=>xt,zI:()=>de,zd:()=>tn});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(W,H){if(!W)throw B(H)},B=function(W){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},oe=function(W){const H=[];let O=0;for(let R=0;R<W.length;R++){let D=W.charCodeAt(R);D<128?H[O++]=D:D<2048?(H[O++]=D>>6|192,H[O++]=63&D|128):55296==(64512&D)&&R+1<W.length&&56320==(64512&W.charCodeAt(R+1))?(D=65536+((1023&D)<<10)+(1023&W.charCodeAt(++R)),H[O++]=D>>18|240,H[O++]=D>>12&63|128,H[O++]=D>>6&63|128,H[O++]=63&D|128):(H[O++]=D>>12|224,H[O++]=D>>6&63|128,H[O++]=63&D|128)}return H},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let D=0;D<W.length;D+=3){const P=W[D],K=D+1<W.length,ge=K?W[D+1]:0,Ge=D+2<W.length,Ue=Ge?W[D+2]:0;let In=(15&ge)<<2|Ue>>6,Vn=63&Ue;Ge||(Vn=64,K||(In=64)),R.push(O[P>>2],O[(3&P)<<4|ge>>4],O[In],O[Vn])}return R.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(oe(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let O=0,R=0;for(;O<W.length;){const D=W[O++];if(D<128)H[R++]=String.fromCharCode(D);else if(D>191&&D<224){const P=W[O++];H[R++]=String.fromCharCode((31&D)<<6|63&P)}else if(D>239&&D<365){const Ge=((7&D)<<18|(63&W[O++])<<12|(63&W[O++])<<6|63&W[O++])-65536;H[R++]=String.fromCharCode(55296+(Ge>>10)),H[R++]=String.fromCharCode(56320+(1023&Ge))}else{const P=W[O++],K=W[O++];H[R++]=String.fromCharCode((15&D)<<12|(63&P)<<6|63&K)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const O=H?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let D=0;D<W.length;){const P=O[W.charAt(D++)],ge=D<W.length?O[W.charAt(D)]:0;++D;const Ue=D<W.length?O[W.charAt(D)]:64;++D;const lt=D<W.length?O[W.charAt(D)]:64;if(++D,null==P||null==ge||null==Ue||null==lt)throw Error();R.push(P<<2|ge>>4),64!==Ue&&(R.push(ge<<4&240|Ue>>2),64!==lt&&R.push(Ue<<6&192|lt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},Ie=function(W){const H=oe(W);return re.encodeByteArray(H,!0)},ve=function(W){return Ie(W).replace(/\./g,"")},De=function(W){try{return re.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Y(W){return V(void 0,W)}function V(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const O in H)!H.hasOwnProperty(O)||!U(O)||(W[O]=V(W[O],H[O]));return W}function U(W){return"__proto__"!==W}const me=()=>{try{return function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=W&&De(W[1]);return H&&JSON.parse(H)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Ee=W=>{var H,O;return null===(O=null===(H=me())||void 0===H?void 0:H.emulatorHosts)||void 0===O?void 0:O[W]},Se=W=>{const H=Ee(W);if(!H)return;const O=H.lastIndexOf(":");if(O<=0||O+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const R=parseInt(H.substring(O+1),10);return"["===H[0]?[H.substring(1,O-1),R]:[H.substring(0,O),R]},_e=()=>{var W;return null===(W=me())||void 0===W?void 0:W.config},Ze=W=>{var H;return null===(H=me())||void 0===H?void 0:H[`_${W}`]};class At{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,O)=>{this.resolve=H,this.reject=O})}wrapCallback(H){return(O,R)=>{O?this.reject(O):this.resolve(R),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(O):H(O,R))}}}function dt(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=H||"demo-project",D=W.iat||0,P=W.sub||W.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:D,exp:D+3600,auth_time:D,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(K)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Te(){var W;const H=null===(W=me())||void 0===W?void 0:W.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function le(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){const W=xt();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ae(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function $(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((W,H)=>{try{let O=!0;const R="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(R);D.onsuccess=()=>{D.result.close(),O||self.indexedDB.deleteDatabase(R),W(!0)},D.onupgradeneeded=()=>{O=!1},D.onerror=()=>{var P;H((null===(P=D.error)||void 0===P?void 0:P.message)||"")}}catch(O){H(O)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Le extends Error{constructor(H,O,R){super(O),this.code=H,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(H,O,R){this.service=H,this.serviceName=O,this.errors=R}create(H,...O){const R=O[0]||{},D=`${this.service}/${H}`,P=this.errors[H],K=P?function pt(W,H){return W.replace(it,(O,R)=>{const D=H[R];return null!=D?String(D):`<${R}?>`})}(P,R):"Error";return new Le(D,`${this.serviceName}: ${K} (${D}).`,R)}}const it=/\{\$([^}]+)}/g;function rt(W){return JSON.parse(W)}function $e(W){return JSON.stringify(W)}const Ct=function(W){let H={},O={},R={},D="";try{const P=W.split(".");H=rt(De(P[0])||""),O=rt(De(P[1])||""),D=P[2],R=O.d||{},delete O.d}catch{}return{header:H,claims:O,data:R,signature:D}},Lt=function(W){const O=Ct(W).claims;return!!O&&"object"==typeof O&&O.hasOwnProperty("iat")},mn=function(W){const H=Ct(W).claims;return"object"==typeof H&&!0===H.admin};function Mn(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Rn(W,H){if(Object.prototype.hasOwnProperty.call(W,H))return W[H]}function ei(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function at(W,H,O){const R={};for(const D in W)Object.prototype.hasOwnProperty.call(W,D)&&(R[D]=H.call(O,W[D],D,W));return R}function pe(W,H){if(W===H)return!0;const O=Object.keys(W),R=Object.keys(H);for(const D of O){if(!R.includes(D))return!1;const P=W[D],K=H[D];if(Be(P)&&Be(K)){if(!pe(P,K))return!1}else if(P!==K)return!1}for(const D of R)if(!O.includes(D))return!1;return!0}function Be(W){return null!==W&&"object"==typeof W}function Tt(W){const H=[];for(const[O,R]of Object.entries(W))Array.isArray(R)?R.forEach(D=>{H.push(encodeURIComponent(O)+"="+encodeURIComponent(D))}):H.push(encodeURIComponent(O)+"="+encodeURIComponent(R));return H.length?"&"+H.join("&"):""}function tn(W){const H={};return W.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[D,P]=R.split("=");H[decodeURIComponent(D)]=decodeURIComponent(P)}}),H}function Kt(W){const H=W.indexOf("?");if(!H)return"";const O=W.indexOf("#",H);return W.substring(H,O>0?O:void 0)}class bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,O){O||(O=0);const R=this.W_;if("string"==typeof H)for(let lt=0;lt<16;lt++)R[lt]=H.charCodeAt(O)<<24|H.charCodeAt(O+1)<<16|H.charCodeAt(O+2)<<8|H.charCodeAt(O+3),O+=4;else for(let lt=0;lt<16;lt++)R[lt]=H[O]<<24|H[O+1]<<16|H[O+2]<<8|H[O+3],O+=4;for(let lt=16;lt<80;lt++){const In=R[lt-3]^R[lt-8]^R[lt-14]^R[lt-16];R[lt]=4294967295&(In<<1|In>>>31)}let Ue,mt,D=this.chain_[0],P=this.chain_[1],K=this.chain_[2],ge=this.chain_[3],Ge=this.chain_[4];for(let lt=0;lt<80;lt++){lt<40?lt<20?(Ue=ge^P&(K^ge),mt=1518500249):(Ue=P^K^ge,mt=1859775393):lt<60?(Ue=P&K|ge&(P|K),mt=2400959708):(Ue=P^K^ge,mt=3395469782);const In=(D<<5|D>>>27)+Ue+Ge+mt+R[lt]&4294967295;Ge=ge,ge=K,K=4294967295&(P<<30|P>>>2),P=D,D=In}this.chain_[0]=this.chain_[0]+D&4294967295,this.chain_[1]=this.chain_[1]+P&4294967295,this.chain_[2]=this.chain_[2]+K&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+Ge&4294967295}update(H,O){if(null==H)return;void 0===O&&(O=H.length);const R=O-this.blockSize;let D=0;const P=this.buf_;let K=this.inbuf_;for(;D<O;){if(0===K)for(;D<=R;)this.compress_(H,D),D+=this.blockSize;if("string"==typeof H){for(;D<O;)if(P[K]=H.charCodeAt(D),++K,++D,K===this.blockSize){this.compress_(P),K=0;break}}else for(;D<O;)if(P[K]=H[D],++K,++D,K===this.blockSize){this.compress_(P),K=0;break}}this.inbuf_=K,this.total_+=O}digest(){const H=[];let O=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let D=this.blockSize-1;D>=56;D--)this.buf_[D]=255&O,O/=256;this.compress_(this.buf_);let R=0;for(let D=0;D<5;D++)for(let P=24;P>=0;P-=8)H[R]=this.chain_[D]>>P&255,++R;return H}}function On(W,H){const O=new ut(W,H);return O.subscribe.bind(O)}class ut{constructor(H,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{H(this)}).catch(R=>{this.error(R)})}next(H){this.forEachObserver(O=>{O.next(H)})}error(H){this.forEachObserver(O=>{O.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,O,R){let D;if(void 0===H&&void 0===O&&void 0===R)throw new Error("Missing Observer.");D=function Mt(W,H){if("object"!=typeof W||null===W)return!1;for(const O of H)if(O in W&&"function"==typeof W[O])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:O,complete:R},void 0===D.next&&(D.next=sn),void 0===D.error&&(D.error=sn),void 0===D.complete&&(D.complete=sn);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch{}}),this.observers.push(D),P}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,H)}sendOne(H,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{O(this.observers[H])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function Ln(W,H){return`${W} failed: ${H} argument `}const jt=function(W){const H=[];let O=0;for(let R=0;R<W.length;R++){let D=W.charCodeAt(R);if(D>=55296&&D<=56319){const P=D-55296;R++,j(R<W.length,"Surrogate pair missing trail surrogate."),D=65536+(P<<10)+(W.charCodeAt(R)-56320)}D<128?H[O++]=D:D<2048?(H[O++]=D>>6|192,H[O++]=63&D|128):D<65536?(H[O++]=D>>12|224,H[O++]=D>>6&63|128,H[O++]=63&D|128):(H[O++]=D>>18|240,H[O++]=D>>12&63|128,H[O++]=D>>6&63|128,H[O++]=63&D|128)}return H},pi=function(W){let H=0;for(let O=0;O<W.length;O++){const R=W.charCodeAt(O);R<128?H++:R<2048?H+=2:R>=55296&&R<=56319?(H+=4,O++):H+=3}return H},Ei=1e3,Qn=2,Qe=144e5,Ne=.5;function ht(W,H=Ei,O=Qn){const R=H*Math.pow(O,W),D=Math.round(Ne*R*(Math.random()-.5)*2);return Math.min(Qe,R+D)}function fn(W){return W&&W._delegate?W._delegate:W}},7921:(Gt,je,L)=>{var l=L(4650);let j=null;function B(){return j}class Fe{}const re=new l.OlP("DocumentToken");let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),n})();const De=new l.OlP("Location Initialized");let Y=(()=>{class n extends Ie{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){V()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){V()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function U(){return new Y((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ot(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ee)},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let Ee=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const c=this.prepareExternalUrl(r+Je(o));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){const c=this.prepareExternalUrl(r+Je(o));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ie),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=fe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let c=this.prepareExternalUrl(r+Je(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){let c=this.prepareExternalUrl(r+Je(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ie),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function xt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ot(dt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Je(i))}normalize(t){return n.stripTrailingSlash(function At(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,dt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=fe,n.stripTrailingSlash=ot,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ve))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ze(){return new _e((0,l.LFG)(Ve))}()},providedIn:"root"}),n})();function dt(n){return n.replace(/\/index.html$/,"")}const ee={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Te=(()=>((Te=Te||{})[Te.Decimal=0]="Decimal",Te[Te.Percent=1]="Percent",Te[Te.Currency=2]="Currency",Te[Te.Scientific=3]="Scientific",Te))(),le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),Me=(()=>((Me=Me||{})[Me.Short=0]="Short",Me[Me.Medium=1]="Medium",Me[Me.Long=2]="Long",Me[Me.Full=3]="Full",Me))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function Ot(n,e){return pe((0,l.cg1)(n)[l.wAp.DateFormat],e)}function pt(n,e){return pe((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function it(n,e){return pe((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function rt(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ye.CurrencyDecimal)return t[l.wAp.NumberSymbols][ye.Decimal];if(e===ye.CurrencyGroup)return t[l.wAp.NumberSymbols][ye.Group]}return i}function Mn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pe(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Be(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Tt=2,Kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bn={},On=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.ShortGMT=1]="ShortGMT",ut[ut.Long=2]="Long",ut[ut.Extended=3]="Extended",ut))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function sn(n,e,t,i){let r=function P(n){if(ge(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,c=1]=n.split("-").map(d=>+d);return xn(r,o-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Kt))return function K(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,d=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,c,d,p,_),e}(i)}const e=new Date(n);if(!ge(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ln(t,e)||e;let d,c=[];for(;e;){if(d=On.exec(e),!d){c.push(e);break}{c=c.concat(d.slice(1));const b=c.pop();if(!b)break;e=b}}let p=r.getTimezoneOffset();i&&(p=O(i,p),r=function D(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function R(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(O(e,r)-r))}(r,i,!0));let _="";return c.forEach(b=>{const x=function H(n){if(W[n])return W[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(Mt.Eras,te.Abbreviated);break;case"GGGG":e=rn(Mt.Eras,te.Wide);break;case"GGGGG":e=rn(Mt.Eras,te.Narrow);break;case"y":e=jt(st.FullYear,1,0,!1,!0);break;case"yy":e=jt(st.FullYear,2,0,!0,!0);break;case"yyy":e=jt(st.FullYear,3,0,!1,!0);break;case"yyyy":e=jt(st.FullYear,4,0,!1,!0);break;case"Y":e=fn(1);break;case"YY":e=fn(2,!0);break;case"YYY":e=fn(3);break;case"YYYY":e=fn(4);break;case"M":case"L":e=jt(st.Month,1,1);break;case"MM":case"LL":e=jt(st.Month,2,1);break;case"MMM":e=rn(Mt.Months,te.Abbreviated);break;case"MMMM":e=rn(Mt.Months,te.Wide);break;case"MMMMM":e=rn(Mt.Months,te.Narrow);break;case"LLL":e=rn(Mt.Months,te.Abbreviated,le.Standalone);break;case"LLLL":e=rn(Mt.Months,te.Wide,le.Standalone);break;case"LLLLL":e=rn(Mt.Months,te.Narrow,le.Standalone);break;case"w":e=Xt(1);break;case"ww":e=Xt(2);break;case"W":e=Xt(1,!0);break;case"d":e=jt(st.Date,1);break;case"dd":e=jt(st.Date,2);break;case"c":case"cc":e=jt(st.Day,1);break;case"ccc":e=rn(Mt.Days,te.Abbreviated,le.Standalone);break;case"cccc":e=rn(Mt.Days,te.Wide,le.Standalone);break;case"ccccc":e=rn(Mt.Days,te.Narrow,le.Standalone);break;case"cccccc":e=rn(Mt.Days,te.Short,le.Standalone);break;case"E":case"EE":case"EEE":e=rn(Mt.Days,te.Abbreviated);break;case"EEEE":e=rn(Mt.Days,te.Wide);break;case"EEEEE":e=rn(Mt.Days,te.Narrow);break;case"EEEEEE":e=rn(Mt.Days,te.Short);break;case"a":case"aa":case"aaa":e=rn(Mt.DayPeriods,te.Abbreviated);break;case"aaaa":e=rn(Mt.DayPeriods,te.Wide);break;case"aaaaa":e=rn(Mt.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=rn(Mt.DayPeriods,te.Abbreviated,le.Standalone,!0);break;case"bbbb":e=rn(Mt.DayPeriods,te.Wide,le.Standalone,!0);break;case"bbbbb":e=rn(Mt.DayPeriods,te.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(Mt.DayPeriods,te.Abbreviated,le.Format,!0);break;case"BBBB":e=rn(Mt.DayPeriods,te.Wide,le.Format,!0);break;case"BBBBB":e=rn(Mt.DayPeriods,te.Narrow,le.Format,!0);break;case"h":e=jt(st.Hours,1,-12);break;case"hh":e=jt(st.Hours,2,-12);break;case"H":e=jt(st.Hours,1);break;case"HH":e=jt(st.Hours,2);break;case"m":e=jt(st.Minutes,1);break;case"mm":e=jt(st.Minutes,2);break;case"s":e=jt(st.Seconds,1);break;case"ss":e=jt(st.Seconds,2);break;case"S":e=jt(st.FractionalSeconds,1);break;case"SS":e=jt(st.FractionalSeconds,2);break;case"SSS":e=jt(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Qn(ut.Short);break;case"ZZZZZ":e=Qn(ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qn(ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qn(ut.Long);break;default:return null}return W[n]=e,e}(b);_+=x?x(r,t,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function xn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ln(n,e){const t=function ae(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(bn[t]=bn[t]||{},bn[t][e])return bn[t][e];let i="";switch(e){case"shortDate":i=Ot(n,Me.Short);break;case"mediumDate":i=Ot(n,Me.Medium);break;case"longDate":i=Ot(n,Me.Long);break;case"fullDate":i=Ot(n,Me.Full);break;case"shortTime":i=pt(n,Me.Short);break;case"mediumTime":i=pt(n,Me.Medium);break;case"longTime":i=pt(n,Me.Long);break;case"fullTime":i=pt(n,Me.Full);break;case"short":const r=Ln(n,"shortTime"),o=Ln(n,"shortDate");i=ni(it(n,Me.Short),[r,o]);break;case"medium":const c=Ln(n,"mediumTime"),d=Ln(n,"mediumDate");i=ni(it(n,Me.Medium),[c,d]);break;case"long":const p=Ln(n,"longTime"),_=Ln(n,"longDate");i=ni(it(n,Me.Long),[p,_]);break;case"full":const b=Ln(n,"fullTime"),x=Ln(n,"fullDate");i=ni(it(n,Me.Full),[b,x])}return i&&(bn[t][e]=i),i}function ni(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Bn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.slice(c.length-e)),o+c}function jt(n,e,t=0,i=!1,r=!1){return function(o,c){let d=function pi(n,e){switch(n){case st.FullYear:return e.getFullYear();case st.Month:return e.getMonth();case st.Date:return e.getDate();case st.Hours:return e.getHours();case st.Minutes:return e.getMinutes();case st.Seconds:return e.getSeconds();case st.FractionalSeconds:return e.getMilliseconds();case st.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||d>-t)&&(d+=t),n===st.Hours)0===d&&-12===t&&(d=12);else if(n===st.FractionalSeconds)return function Un(n,e){return Bn(n,3).substring(0,e)}(d,e);const p=rt(c,ye.MinusSign);return Bn(d,e,p,i,r)}}function rn(n,e,t=le.Format,i=!1){return function(r,o){return function Ei(n,e,t,i,r,o){switch(t){case Mt.Months:return function ne(n,e,t){const i=(0,l.cg1)(n),o=pe([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return pe(o,t)}(e,r,i)[n.getMonth()];case Mt.Days:return function se(n,e,t){const i=(0,l.cg1)(n),o=pe([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return pe(o,t)}(e,r,i)[n.getDay()];case Mt.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(o){const _=function Rn(n){const e=(0,l.cg1)(n);return Mn(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Be(i):[Be(i[0]),Be(i[1])])}(e),b=function ei(n,e,t){const i=(0,l.cg1)(n);Mn(i);const o=pe([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return pe(o,t)||[]}(e,r,i),x=_.findIndex(T=>{if(Array.isArray(T)){const[M,N]=T,q=c>=M.hours&&d>=M.minutes,ce=c<N.hours||c===N.hours&&d<N.minutes;if(M.hours<N.hours){if(q&&ce)return!0}else if(q||ce)return!0}else if(T.hours===c&&T.minutes===d)return!0;return!1});if(-1!==x)return b[x]}return function $(n,e,t){const i=(0,l.cg1)(n),o=pe([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return pe(o,t)}(e,r,i)[c<12?0:1];case Mt.Eras:return function de(n,e){return pe((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function Qn(n){return function(e,t,i){const r=-1*i,o=rt(t,ye.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ut.Short:return(r>=0?"+":"")+Bn(c,2,o)+Bn(Math.abs(r%60),2,o);case ut.ShortGMT:return"GMT"+(r>=0?"+":"")+Bn(c,1,o);case ut.Long:return"GMT"+(r>=0?"+":"")+Bn(c,2,o)+":"+Bn(Math.abs(r%60),2,o);case ut.Extended:return 0===i?"Z":(r>=0?"+":"")+Bn(c,2,o)+":"+Bn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Qe=0,Ne=4;function Bt(n){return xn(n.getFullYear(),n.getMonth(),n.getDate()+(Ne-n.getDay()))}function Xt(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+o)/7)}else{const o=Bt(t),c=function ht(n){const e=xn(n,Qe,1).getDay();return xn(n,0,1+(e<=Ne?Ne:Ne+7)-e)}(o.getFullYear()),d=o.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return Bn(r,n,rt(i,ye.MinusSign))}}function fn(n,e=!1){return function(t,i){return Bn(Bt(t).getFullYear(),n,rt(i,ye.MinusSign),e)}}const W={};function O(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ge(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ge=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ue=22,mt=".",lt="0",In=";",Vn=",",Jt="#",zn="\xa4";function yt(n,e,t,i,r){const c=function Q(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(In),r=i[0],o=i[1],c=-1!==r.indexOf(mt)?r.split(mt):[r.substring(0,r.lastIndexOf(lt)+1),r.substring(r.lastIndexOf(lt)+1)],d=c[0],p=c[1]||"";t.posPre=d.substring(0,d.indexOf(Jt));for(let b=0;b<p.length;b++){const x=p.charAt(b);x===lt?t.minFrac=t.maxFrac=b+1:x===Jt?t.maxFrac=b+1:t.posSuf+=x}const _=d.split(Vn);if(t.gSize=_[1]?_[1].length:0,t.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,o){const b=r.length-t.posPre.length-t.posSuf.length,x=o.indexOf(Jt);t.negPre=o.substring(0,x).replace(/'/g,""),t.negSuf=o.slice(x+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function $e(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Te.Currency),rt(e,ye.MinusSign));return c.minFrac=function tn(n){let e;const t=ee[n];return t&&(e=t[2]),"number"==typeof e?e:Tt}(i),c.maxFrac=c.minFrac,function be(n,e,t,i,r,o,c=!1){let d="",p=!1;if(isFinite(n)){let _=function Ye(n){let i,r,o,c,d,e=Math.abs(n)+"",t=0;for((r=e.indexOf(mt))>-1&&(e=e.replace(mt,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===lt;o++);if(o===(d=e.length))i=[0],r=1;else{for(d--;e.charAt(d)===lt;)d--;for(r-=o,i=[],c=0;o<=d;o++,c++)i[c]=Number(e.charAt(o))}return r>Ue&&(i=i.splice(0,Ue-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);c&&(_=function we(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(_));let b=e.minInt,x=e.minFrac,T=e.maxFrac;if(o){const Xe=o.match(Ge);if(null===Xe)throw new Error(`${o} is not a valid digit info`);const Ke=Xe[1],tt=Xe[3],Et=Xe[5];null!=Ke&&(b=jn(Ke)),null!=tt&&(x=jn(tt)),null!=Et?T=jn(Et):null!=tt&&x>T&&(T=x)}!function Vt(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(e,r),t);let c=o+n.integerLen,d=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let x=c;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=o+1),i[0]=0;for(let x=1;x<c;x++)i[x]=0}if(d>=5)if(c-1<0){for(let x=0;x>c;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,o);r++)i.push(0);let p=0!==o;const _=e+n.integerLen,b=i.reduceRight(function(x,T,M,N){return N[M]=(T+=x)<10?T:T-10,p&&(0===N[M]&&M>=_?N.pop():p=!1),T>=10?1:0},0);b&&(i.unshift(b),n.integerLen++)}(_,x,T);let M=_.digits,N=_.integerLen;const q=_.exponent;let ce=[];for(p=M.every(Xe=>!Xe);N<b;N++)M.unshift(0);for(;N<0;N++)M.unshift(0);N>0?ce=M.splice(N,M.length):(ce=M,M=[0]);const ze=[];for(M.length>=e.lgSize&&ze.unshift(M.splice(-e.lgSize,M.length).join(""));M.length>e.gSize;)ze.unshift(M.splice(-e.gSize,M.length).join(""));M.length&&ze.unshift(M.join("")),d=ze.join(rt(t,i)),ce.length&&(d+=rt(t,r)+ce.join("")),q&&(d+=rt(t,ye.Exponential)+"+"+q)}else d=rt(t,ye.Infinity);return d=n<0&&!p?e.negPre+d+e.negSuf:e.posPre+d+e.posSuf,d}(n,c,e,ye.CurrencyGroup,ye.CurrencyDecimal,r).replace(zn,t).replace(zn,"").trim()}function jn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Xn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class Gi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let go=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,c),ii(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ii(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ii(n,e){n.context.$implicit=e.item}let gr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ta("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ta("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function Ta(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Ir=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),c=-1===r.indexOf("-")?void 0:l.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Oi(n,e){return new l.vHH(2100,!1)}const Ec=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ul=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let nr=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return sn(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Oi()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Ec,24),l.Y36(Ul,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),$s=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,c){if(!function Mp(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let d=i||this._defaultCurrencyCode;"code"!==r&&(d="symbol"===r||"symbol-narrow"===r?function ke(n,e,t="en"){const i=function Lt(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||ee[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(d,"symbol"===r?"wide":"narrow",c):r);try{return yt(function xc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,d,i,o)}catch(p){throw Oi()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let _s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const no="browser",Hd="server";function Ic(n){return n===no}function Op(n){return n===Hd}let Hl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new $d((0,l.LFG)(re),window)}),n})();class $d{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $l(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Sc(this.window.history)||Sc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Sc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gl{}class Zs extends Fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pa extends Zs{static makeCurrent(){!function oe(n){j||(j=n)}(new Pa)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rv(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}();return null==t?null:function Xl(n){Ko=Ko||document.createElement("a"),Ko.setAttribute("href",n);const e=Ko.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xn(document.cookie,e)}}let Ko,Na=null;const Jd=new l.OlP("TRANSITION_ID"),kc=[{provide:l.ip1,useFactory:function _A(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Jd,re,l.zs3],multi:!0}];let ov=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const bs=new l.OlP("EventManagerPlugins");let eh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ni{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Jl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends Jl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(th),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(th))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function th(n){B().remove(n)}const Qo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eu=/%COMP%/g;function Rc(n,e){return e.flat(100).map(t=>t.replace(eu,n))}function ih(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qs=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new nu(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new iu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case l.ifc.ShadowDom:return new qp(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Rc(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eh),l.LFG(ws),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nu{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xs(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Xs(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Qo[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Qo[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ih(i)):this.eventManager.addEventListener(e,t,ih(i))}}function Xs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iu extends nu{constructor(e,t,i,r){super(e),this.component=i;const o=Rc(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function tu(n){return"_ngcontent-%COMP%".replace(eu,n)}(r+"-"+i.id),this.hostAttr=function Cs(n){return"_nghost-%COMP%".replace(eu,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class qp extends nu{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Rc(r.id,r.styles);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rh=(()=>{class n extends Ni{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=["alt","control","meta","shift"],Yp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kp=(()=>{class n extends Ni{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),oh.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=Yp[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),oh.forEach(c=>{c!==r&&(0,Zp[c])(t)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const cv=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:no},{provide:l.g9A,useValue:function av(){Pa.makeCurrent()},multi:!0},{provide:re,useFactory:function Oc(){return(0,l.RDi)(document),document},deps:[]}]),ah=new l.OlP(""),Ba=[{provide:l.rWj,useClass:class bC{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Xp=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Qp(){return new l.qLn},deps:[]},{provide:bs,useClass:rh,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:bs,useClass:Kp,multi:!0,deps:[re]},{provide:Qs,useClass:Qs,deps:[eh,ws,l.AFp]},{provide:l.FYo,useExisting:Qs},{provide:Jl,useExisting:ws},{provide:ws,useClass:ws,deps:[re]},{provide:eh,useClass:eh,deps:[bs,l.R0b]},{provide:Gl,useClass:ov,deps:[]},[]];let Va=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Jd,useExisting:l.AFp},kc]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ah,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Xp,...Ba],imports:[_s,l.hGG]}),n})(),ou=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ta(){return new ou((0,l.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ro,uh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(ur),i},providedIn:"root"}),n})(),ur=(()=>{class n extends uh{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function nm(n){return new ur(n.get(re))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();try{ro=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ro=!1}let Fc,ra,Ro,uu,dr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ic(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ro)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lc(n){return function om(){if(null==Fc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fc=!0}))}finally{Fc=Fc||!1}return Fc}()?n:!!n.capture}function Bc(){if(null==Ro){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ro=!1,Ro;if("scrollBehavior"in document.documentElement.style)Ro=!0;else{const n=Element.prototype.scrollTo;Ro=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ro}function _o(){if("object"!=typeof document||!document)return 0;if(null==ra){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ra=0,0===n.scrollLeft&&(n.scrollLeft=1,ra=0===n.scrollLeft?1:2),n.remove()}return ra}function du(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function oo(n){return n.composedPath?n.composedPath()[0]:n.target}function xs(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var un=L(2873),Oo=L(1026),Ii=L(5987),Si=function(n){function e(t){var i=n.call(this)||this;return i._value=t,i}return(0,Ii.ZT)(e,n),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var i=n.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},e.prototype.getValue=function(){var t=this,o=t._value;if(t.hasError)throw t.thrownError;return this._throwIfClosed(),o},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(un.x),Is=L(1431),hh=L(5897),Uc=L(9664);function wt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=(0,Uc.yG)(n);return t?(0,hh.r)(n,t):(0,Is.h)(n)}function bh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Fi=L(2518),zc=L(6405),Li=L(5011),mi=L(561);function Fv(n,e){return void 0===e&&(e=zc.z),(0,Li.e)(function(t,i){var r=null,o=null,c=null,d=function(){if(r){r.unsubscribe(),r=null;var _=o;o=null,i.next(_)}};function p(){var _=c+n,b=e.now();b<_?r=this.schedule(void 0,_-b):d()}t.subscribe(new mi.Q(i,function(_){o=_,c=e.now(),r||(r=e.schedule(p,n))},function(){d(),i.complete()},void 0,function(){o=r=null}))})}function Ti(n,e){return(0,Li.e)(function(t,i){var r=0;t.subscribe(new mi.Q(i,function(o){return n.call(e,o,r++)&&i.next(o)}))})}var kt=L(9891),Wa=L(8981);function ao(n){return n<=0?function(){return Wa.E}:(0,Li.e)(function(e,t){var i=0;e.subscribe(new mi.Q(t,function(r){++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function GC(n){return Ti(function(e,t){return n<=t})}var wh=L(3377);function Lv(n,e){return void 0===e&&(e=wh.y),n=n??oa,(0,Li.e)(function(t,i){var r,o=!0;t.subscribe(new mi.Q(i,function(c){var d=e(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function oa(n,e){return n===e}var Pn=L(4524),NA=L(6313);function Mr(n){return(0,Li.e)(function(e,t){(0,Pn.Xf)(n).subscribe(new mi.Q(t,function(){return t.complete()},NA.Z)),!t.closed&&e.subscribe(t)})}function ir(n){return null!=n&&"false"!=`${n}`}function Bv(n,e=0){return function FA(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function wm(n){return Array.isArray(n)?n:[n]}function Bi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wu(n){return n instanceof l.SBq?n.nativeElement:n}let LA=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[LA]}),n})();var Di=L(1482),WC=Array.isArray,qC=Object.getPrototypeOf,YC=Object.prototype,X2=Object.keys;function BA(n){if(1===n.length){var e=n[0];if(WC(e))return{args:e,keys:null};if(function J2(n){return n&&"object"==typeof n&&qC(n)===YC}(e)){var t=X2(e);return{args:t.map(function(i){return e[i]}),keys:t}}}return{args:n,keys:null}}var Uv=Array.isArray;function ZC(n){return(0,kt.U)(function(e){return function zv(n,e){return Uv(e)?n.apply(void 0,(0,Ii.ev)([],(0,Ii.CR)(e))):n(e)}(n,e)})}function VA(n,e){return n.reduce(function(t,i,r){return t[i]=e[r],t},{})}function Cm(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=(0,Uc.yG)(n),i=(0,Uc.jO)(n),r=BA(n),o=r.args,c=r.keys;if(0===o.length)return(0,Pn.Dp)([],t);var d=new Di.y(function UA(n,e,t){return void 0===t&&(t=wh.y),function(i){KC(e,function(){for(var r=n.length,o=new Array(r),c=r,d=r,p=function(b){KC(e,function(){var x=(0,Pn.Dp)(n[b],e),T=!1;x.subscribe(new mi.Q(i,function(M){o[b]=M,T||(T=!0,d--),d||i.next(t(o.slice()))},function(){--c||i.complete()}))},i)},_=0;_<r;_++)p(_)},i)}}(o,t,c?function(p){return VA(c,p)}:wh.y));return i?d.pipe(ZC(i)):d}function KC(n,e,t){n?t.add(n.schedule(e)):e()}var Ch=L(8069);function Eh(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function zA(){return(0,Ch.J)(1)}()((0,Is.h)(n,(0,Uc.yG)(n)))}function kr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=(0,Uc.yG)(n);return(0,Li.e)(function(i,r){(t?Eh(n,i,t):Eh(n,i)).subscribe(r)})}const Em=new Set;let Cu,Vi=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$A}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function HA(n){if(!Em.has(n))try{Cu||(Cu=document.createElement("style"),Cu.setAttribute("type","text/css"),document.head.appendChild(Cu)),Cu.sheet&&(Cu.sheet.insertRule(`@media ${n} {body{ }}`,0),Em.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $A(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let xh=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new un.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jv(wm(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Cm(jv(wm(t)).map(c=>this._registerQuery(c).observable));return o=Eh(o.pipe(ao(1)),o.pipe(GC(1),Fv(0))),o.pipe((0,kt.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Di.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(kr(i),(0,kt.U)(({matches:c})=>({query:t,matches:c})),Mr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jv(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Ih(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const YA="cdk-describedby-message",qa="cdk-describedby-host";let Sh=0,XC=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Sh++,this._document=t,this._id=(0,l.f3M)(l.AFp)+"-"+Sh++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=xm(i,r);"string"!=typeof i?(Hv(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=xm(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const c=this._messageRegistry.get(o);c&&0===c.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${qa}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(qa);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");Hv(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xm(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Ih(t,"aria-describedby").filter(r=>0!=r.indexOf(YA));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function WA(n,e,t){const i=Ih(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(qa,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function qA(n,e,t){const r=Ih(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(qa)}_isElementDescribedByMessage(t,i){const r=Ih(t,"aria-describedby"),o=this._messageRegistry.get(i),c=o&&o.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(dr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xm(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function Hv(n,e){n.id||(n.id=`${YA}-${e}-${Sh++}`)}class ZA{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new un.x,this._typeaheadSubscription=Oo.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new un.x,this.change=new un.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Fi.b)(t=>this._pressedLetters.push(t)),Fv(e),Ti(()=>this._pressedLetters.length>0),(0,kt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(o<c?o:c-1,-1);break}return;default:return void((r||bh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class JC extends ZA{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Eu=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function $v(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function tB(n){try{return n.frameElement}catch{return null}}(function Wv(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Im(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=Im(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Sm(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function XA(n){return!function Gv(n){return function tE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function QA(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function eE(n){return function jc(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nE(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Im(n){if(!nE(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Tm{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ao(1)).subscribe(e)}}let aa=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Tm(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Eu),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function oE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tM=new l.OlP("cdk-input-modality-detector-options"),qv={ignoreKeys:[18,17,224,91,16]},Hc=Lc({passive:!0,capture:!0});let nM=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Si(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=oo(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rE(c)?"keyboard":"mouse"),this._mostRecentTarget=oo(c))},this._onTouchstart=c=>{oE(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=oo(c))},this._options={...qv,...o},this.modalityDetected=this._modality.pipe(GC(1)),this.modalityChanged=this.modalityDetected.pipe(Lv()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Hc),r.addEventListener("mousedown",this._onMousedown,Hc),r.addEventListener("touchstart",this._onTouchstart,Hc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr),l.LFG(l.R0b),l.LFG(re),l.LFG(tM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aE=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function rB(){return null}}),iM=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Dh=0,cE=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[o,c]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Dh++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],c=o.getAttribute("aria-owns");c?-1===c.indexOf(t)&&o.setAttribute("aria-owns",c+" "+t):o.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(aE,8),l.LFG(l.R0b),l.LFG(re),l.LFG(iM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mh=new l.OlP("cdk-focus-monitor-default-options"),Dm=Lc({passive:!0,capture:!0});let $c=(()=>{class n{constructor(t,i,r,o,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new un.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=oo(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=wu(t);if(!this._platform.isBrowser||1!==r.nodeType)return wt(null);const o=function dh(n){if(function Vc(){if(null==uu){const n=typeof document<"u"?document.head:null;uu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uu}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new un.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=wu(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=wu(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=oo(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Dm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Dm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Dm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Dm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(dr),l.LFG(nM),l.LFG(re,8),l.LFG(Mh,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lE="cdk-high-contrast-black-on-white",uE="cdk-high-contrast-white-on-black",Am="cdk-high-contrast-active";let Yv=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(xh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Am,lE,uE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Am,lE):2===i&&t.add(Am,uE)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mm=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yv))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sa]}),n})();const Zv=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function rM(){return(0,l.f3M)(re)}}),Kv=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function xu(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Kv.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}let ca=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=xu((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zv,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iu=(()=>{class n{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new l.vpe}get dir(){return this._dir}set dir(t){const i=this._dir;this._dir=xu(t),this._rawDir=t,i!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("dir",i._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[l._Bn([{provide:ca,useExisting:n}])]}),n})(),kh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hE=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function uB(){return!0}});let Gr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!xs()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yv),l.LFG(hE,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kh,kh]}),n})();function Qv(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ir(e)}constructor(...e){super(...e),this._disabled=!1}}}function vo(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function fE(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ir(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function km(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Bv(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let pE=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gM{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _M=Lc({passive:!0,capture:!0});class mE{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=oo(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,_M)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,_M)))}}const Xv={enterDuration:225,exitDuration:150},gE=Lc({passive:!0,capture:!0}),Rm=["mousedown","touchstart"],Om=["mouseup","mouseleave","touchend","touchcancel"];class Oh{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wu(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Xv,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function wB(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const x=window.getComputedStyle(b),M=x.transitionDuration,N="none"===x.transitionProperty||"0s"===M||"0s, 0s"===M||0===r.width&&0===r.height,q=new gM(this,b,i,N);b.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let ce=null;return!N&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(q),Xe=()=>this._destroyRipple(q);b.addEventListener("transitionend",ze),b.addEventListener("transitioncancel",Xe),ce={onTransitionEnd:ze,onTransitionCancel:Xe}}),this._activeRipples.set(q,ce),(N||!_)&&this._finishRippleTransition(q),q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Xv,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=wu(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Rm.forEach(i=>{Oh._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Om.forEach(t=>{this._triggerElement.addEventListener(t,this,gE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=rE(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!oE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Rm.forEach(t=>Oh._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Om.forEach(t=>e.removeEventListener(t,this,gE)))}}Oh._eventManager=new mE;const _E=new l.OlP("mat-ripple-global-options");let Wc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Oh(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(dr),l.Y36(_E,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gr,Gr]}),n})();var Ss=L(4870);function qc(n,e){var t=(0,Ss.m)(n)?n:function(){return n},i=function(r){return r.error(t())};return new Di.y(e?function(r){return e.schedule(i,0,r)}:i)}function ey(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=(0,Uc.jO)(n),i=BA(n),r=i.args,o=i.keys,c=new Di.y(function(d){var p=r.length;if(p)for(var _=new Array(p),b=p,x=p,T=function(N){var q=!1;(0,Pn.Xf)(r[N]).subscribe(new mi.Q(d,function(ce){q||(q=!0,x--),_[N]=ce},function(){(!--b||!q)&&(x||d.next(o?VA(o,_):_),d.complete())}))},M=0;M<p;M++)T(M);else d.complete()});return t?c.pipe(ZC(t)):c}function Jo(n){return(0,Li.e)(function(e,t){var o,i=null,r=!1;i=e.subscribe(new mi.Q(t,void 0,void 0,function(c){o=(0,Pn.Xf)(n(c,Jo(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function ty(n){return(0,Li.e)(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}var Pm=L(2092),yr=L(9356);function Yc(n,e){return(0,Ss.m)(e)?(0,yr.z)(n,e,1):(0,yr.z)(n,1)}class la{}class Nm{}class ua{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ua;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ua?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class EM{encodeKey(e){return Lm(e)}encodeValue(e){return Lm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Fm=/%(\d[a-f0-9])/gi,Tu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lm(n){return encodeURIComponent(n).replace(Fm,(e,t)=>Tu[t]??e)}function Za(n){return`${n}`}class Ts{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new EM,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xM(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],p=t.get(c)||[];p.push(d),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Za):[Za(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ts({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Za(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Za(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class yE{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Bm(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Vm(n){return typeof Blob<"u"&&n instanceof Blob}function ry(n){return typeof FormData<"u"&&n instanceof FormData}class Nh{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function iy(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ua),this.context||(this.context=new yE),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Ts,this.urlWithParams=t}serializeBody(){return null===this.body?null:Bm(this.body)||Vm(this.body)||ry(this.body)||function oy(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ts?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ry(this.body)?null:Vm(this.body)?this.body.type||null:Bm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ts?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((x,T)=>x.set(T,e.setHeaders[T]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((x,T)=>x.set(T,e.setParams[T]),_)),new Nh(t,i,o,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var Yi=(()=>((Yi=Yi||{})[Yi.Sent=0]="Sent",Yi[Yi.UploadProgress=1]="UploadProgress",Yi[Yi.ResponseHeader=2]="ResponseHeader",Yi[Yi.DownloadProgress=3]="DownloadProgress",Yi[Yi.Response=4]="Response",Yi[Yi.User=5]="User",Yi))();class Um{constructor(e,t=200,i="OK"){this.headers=e.headers||new ua,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sy extends Um{constructor(e={}){super(e),this.type=Yi.ResponseHeader}clone(e={}){return new sy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fh extends Um{constructor(e={}){super(e),this.type=Yi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ay extends Um{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function cy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lh=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Nh)o=t;else{let p,_;p=r.headers instanceof ua?r.headers:new ua(r.headers),r.params&&(_=r.params instanceof Ts?r.params:new Ts({fromObject:r.params})),o=new Nh(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=wt(o).pipe(Yc(p=>this.handler.handle(p)));if(t instanceof Nh||"events"===r.observe)return c;const d=c.pipe(Ti(p=>p instanceof Fh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,kt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,kt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,kt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,kt.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ts).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,cy(r,i))}post(t,i,r={}){return this.request("POST",t,cy(r,i))}put(t,i,r={}){return this.request("PUT",t,cy(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(la))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function co(n,e){return e(n)}function bE(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const MB=new l.OlP("HTTP_INTERCEPTORS"),Zc=new l.OlP("HTTP_INTERCEPTOR_FNS");function wE(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(MB,{optional:!0})??[]).reduceRight(bE,co)),n(e,t))}let CE=(()=>{class n extends la{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Zc)));this.chain=i.reduceRight((r,o)=>function IM(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),co)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nm),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ds=/^\)\]\}',?\n/;let IE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Di.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((M,N)=>r.setRequestHeader(M,N.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&r.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();r.responseType="json"!==M?M:"text"}const o=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const M=r.statusText||"OK",N=new ua(r.getAllResponseHeaders()),q=function ly(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new sy({headers:N,status:r.status,statusText:M,url:q}),c},p=()=>{let{headers:M,status:N,statusText:q,url:ce}=d(),ze=null;204!==N&&(ze=typeof r.response>"u"?r.responseText:r.response),0===N&&(N=ze?200:0);let Xe=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof ze){const Ke=ze;ze=ze.replace(Ds,"");try{ze=""!==ze?JSON.parse(ze):null}catch(tt){ze=Ke,Xe&&(Xe=!1,ze={error:tt,text:ze})}}Xe?(i.next(new Fh({body:ze,headers:M,status:N,statusText:q,url:ce||void 0})),i.complete()):i.error(new ay({error:ze,headers:M,status:N,statusText:q,url:ce||void 0}))},_=M=>{const{url:N}=d(),q=new ay({error:M,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(q)};let b=!1;const x=M=>{b||(i.next(d()),b=!0);let N={type:Yi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),"text"===t.responseType&&r.responseText&&(N.partialText=r.responseText),i.next(N)},T=M=>{let N={type:Yi.UploadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),i.next(N)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),t.reportProgress&&(r.addEventListener("progress",x),null!==o&&r.upload&&r.upload.addEventListener("progress",T)),r.send(o),i.next({type:Yi.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),t.reportProgress&&(r.removeEventListener("progress",x),null!==o&&r.upload&&r.upload.removeEventListener("progress",T)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const uy=new l.OlP("XSRF_ENABLED"),dy="XSRF-TOKEN",SE=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>dy}),TE="X-XSRF-TOKEN",DE=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>TE});class zm{}let MM=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.Lbi),l.LFG(SE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function kM(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(uy)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,l.f3M)(zm).getToken(),r=(0,l.f3M)(DE);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var gi=(()=>((gi=gi||{})[gi.Interceptors=0]="Interceptors",gi[gi.LegacyInterceptors=1]="LegacyInterceptors",gi[gi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",gi[gi.NoXsrfProtection=3]="NoXsrfProtection",gi[gi.JsonpSupport=4]="JsonpSupport",gi[gi.RequestsMadeViaParent=5]="RequestsMadeViaParent",gi))();function da(n,e){return{\u0275kind:n,\u0275providers:e}}function FB(...n){const e=[Lh,IE,CE,{provide:la,useExisting:CE},{provide:Nm,useExisting:IE},{provide:Zc,useValue:kM,multi:!0},{provide:uy,useValue:!0},{provide:zm,useClass:MM}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const RM=new l.OlP("LEGACY_INTERCEPTOR_FN");function kE({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:SE,useValue:n}),void 0!==e&&t.push({provide:DE,useValue:e}),da(gi.CustomXsrfConfiguration,t)}let jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FB(da(gi.LegacyInterceptors,[{provide:RM,useFactory:wE},{provide:Zc,useExisting:RM,multi:!0}]),kE({cookieName:dy,headerName:TE}))]}),n})();const NM=["*"];let Bh;function Vh(n){return function OE(){if(void 0===Bh&&(Bh=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Bh=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Bh}()?.createHTML(n)||n}function PE(n){return Error(`Unable to find icon with the name "${n}"`)}function NE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function FM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kc{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let $m=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Kc(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw FM(r);const d=Vh(c);return this._addSvgIconConfig(t,i,new Kc("",d,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Kc(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw FM(i);const c=Vh(o);return this._addSvgIconSetConfig(t,new Kc("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw NE(t);const r=this._cachedIconsByUrl.get(i);return r?wt(Gm(r)):this._loadSvgIconFromConfig(new Kc(t,null)).pipe((0,Fi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,kt.U)(o=>Gm(o)))}getNamedSvgIcon(t,i=""){const r=FE(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):qc(PE(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?wt(Gm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,kt.U)(i=>Gm(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?wt(r):ey(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Jo(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),wt(null)})))).pipe((0,kt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw PE(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(c,t,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Fi.b)(i=>t.svgText=i),(0,kt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?wt(null):this._fetchIcon(t).pipe((0,Fi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(Vh("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Vh("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:c,value:d}=r[o];"id"!==c&&i.setAttribute(c,d)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Uh(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!c)throw NE(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,kt.U)(_=>Vh(_)),ty(()=>this._inProgressUrlFetches.delete(c)),(0,Pm.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(FE(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return BM(o)?new Kc(o.url,null,o.options):new Kc(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lh,8),l.LFG(uh),l.LFG(re,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gm(n){return n.cloneNode(!0)}function FE(n,e){return n+":"+e}function BM(n){return!(!n.url||!n.options)}const LE=vo(class{constructor(n){this._elementRef=n}}),py=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),VM=new l.OlP("mat-icon-location",{providedIn:"root",factory:function my(){const n=(0,l.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),BE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UM=BE.map(n=>`[${n}]`).join(", "),zM=/^url\(['"]?#(.*?)['"]?\)$/;let Du=(()=>{class n extends LE{get inline(){return this._inline}set inline(t){this._inline=ir(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,c,d){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Oo.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(UM),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)BE.forEach(c=>{const d=i[o],p=d.getAttribute(c),_=p?p.match(zM):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ao(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36($m),l.$8M("aria-hidden"),l.Y36(VM),l.Y36(l.qLn),l.Y36(py,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:NM,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gr,Gr]}),n})();const jM=["mat-button",""],VE=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],gy=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],UE=["mat-mini-fab",""],Qc=["mat-icon-button",""],BB=["*"],vy=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],GM=vo(Qv(fE(class{constructor(n){this._elementRef=n}})));let No=(()=>{class n extends GM{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,l.f3M)($c),this._isFab=!1;const c=t.nativeElement.classList;for(const d of vy)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(Wc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),Xc=(()=>{class n extends No{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(dr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:jM,ngContentSelectors:gy,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(VE),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Wc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const yy=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Jc});function Jc(){return{color:"accent"}}const el=Jc();let tl=(()=>{class n extends No{constructor(t,i,r,o,c){super(t,i,r,o),this._options=c,this._isFab=!0,this._options=this._options||el,this.color=this.defaultColor=this._options.color||el.color}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(dr),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(yy,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:UE,ngContentSelectors:gy,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(VE),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Wc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),nl=(()=>{class n extends No{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(dr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Qc,ngContentSelectors:BB,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Wc],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Gr,vE,Gr]}),n})();class by{}class zE{}const As="*";function qm(n,e){return{type:7,name:n,definitions:e,options:{}}}function ku(n,e=null){return{type:4,styles:e,timings:n}}function Cy(n,e=null){return{type:2,steps:n,options:e}}function Fo(n){return{type:6,styles:n,offset:null}}function Yh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ru(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Zh(n){Promise.resolve().then(n)}class Qa{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zh(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Zm{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?Zh(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const xy="!";class Km{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class il extends Km{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Kh extends Km{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ZM extends Km{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class Qh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof il?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Kh?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ZM?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $E extends Qh{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ou=(()=>{class n extends Qh{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var GE=L(5719),WE=["addListener","removeListener"],qE=["addEventListener","removeEventListener"],YE=["on","off"];function Xh(n,e,t,i){if((0,Ss.m)(t)&&(i=t,t=void 0),i)return Xh(n,e,t).pipe(ZC(i));var r=(0,Ii.CR)(function Ja(n){return(0,Ss.m)(n.addEventListener)&&(0,Ss.m)(n.removeEventListener)}(n)?qE.map(function(d){return function(p){return n[d](e,p,t)}}):function ZE(n){return(0,Ss.m)(n.addListener)&&(0,Ss.m)(n.removeListener)}(n)?WE.map(Ty(n,e)):function Qm(n){return(0,Ss.m)(n.on)&&(0,Ss.m)(n.off)}(n)?YE.map(Ty(n,e)):[],2),o=r[0],c=r[1];if(!o&&(0,GE.z)(n))return(0,yr.z)(function(d){return Xh(d,e,t)})((0,Is.h)(n));if(!o)throw new TypeError("Invalid event target");return new Di.y(function(d){var p=function(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];return d.next(1<_.length?_:_[0])};return o(p),function(){return c(p)}})}function Ty(n,e){return function(t){return function(i){return n[t](e,i)}}}var XE,KE=L(8139),Jh={schedule:function(n){var e=requestAnimationFrame,t=cancelAnimationFrame,i=Jh.delegate;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);var r=e(function(o){t=void 0,n(o)});return new Oo.w0(function(){return t?.(r)})},requestAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return(Jh.delegate?.requestAnimationFrame||requestAnimationFrame).apply(void 0,(0,Ii.ev)([],(0,Ii.CR)(n)))},cancelAnimationFrame:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return(Jh.delegate?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,(0,Ii.ev)([],(0,Ii.CR)(n)))},delegate:void 0},Dy=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return(0,Ii.ZT)(e,n),e.prototype.requestAsyncId=function(t,i,r){return void 0===r&&(r=0),null!==r&&r>0?n.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t._scheduled||(t._scheduled=Jh.requestAnimationFrame(function(){return t.flush(void 0)})))},e.prototype.recycleAsyncId=function(t,i,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,i,r);0===t.actions.length&&(Jh.cancelAnimationFrame(i),t._scheduled=void 0)},e}(KE.o),ec=L(2458),Ay=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Ii.ZT)(e,n),e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r,i=this.actions,o=-1;t=t||i.shift();var c=i.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<c&&(t=i.shift()));if(this._active=!1,r){for(;++o<c&&(t=i.shift());)t.unsubscribe();throw r}},e}(ec.v),t1=new Ay(Dy),GB=1,Xm={};function JE(n){return n in Xm&&(delete Xm[n],!0)}var rr=function(n){var e=GB++;return Xm[e]=!0,XE||(XE=Promise.resolve()),XE.then(function(){return JE(e)&&n()}),e},ex=function(n){JE(n)},Jm={setImmediate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return(Jm.delegate?.setImmediate||rr).apply(void 0,(0,Ii.ev)([],(0,Ii.CR)(n)))},clearImmediate:function(n){return(Jm.delegate?.clearImmediate||ex)(n)},delegate:void 0},n1=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return(0,Ii.ZT)(e,n),e.prototype.requestAsyncId=function(t,i,r){return void 0===r&&(r=0),null!==r&&r>0?n.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t._scheduled||(t._scheduled=Jm.setImmediate(t.flush.bind(t,void 0))))},e.prototype.recycleAsyncId=function(t,i,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,i,r);0===t.actions.length&&(Jm.clearImmediate(i),t._scheduled=void 0)},e}(KE.o),tx=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Ii.ZT)(e,n),e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var r,i=this.actions,o=-1;t=t||i.shift();var c=i.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<c&&(t=i.shift()));if(this._active=!1,r){for(;++o<c&&(t=i.shift());)t.unsubscribe();throw r}},e}(ec.v),r1=new tx(n1),Pu=L(2315);function eg(n,e){return void 0===e&&(e=zc.P),function nx(n){return(0,Li.e)(function(e,t){var i=!1,r=null,o=null,c=!1,d=function(){if(o?.unsubscribe(),o=null,i){i=!1;var _=r;r=null,t.next(_)}c&&t.complete()},p=function(){o=null,c&&t.complete()};e.subscribe(new mi.Q(t,function(_){i=!0,r=_,o||(0,Pn.Xf)(n(_)).subscribe(o=new mi.Q(t,d,p))},function(){c=!0,(!i||!o||o.closed)&&t.complete()}))})}(function(){return function a1(n,e,t){void 0===n&&(n=0),void 0===t&&(t=zc.P);var i=-1;return null!=e&&((0,Pu.K)(e)?t=e:i=e),new Di.y(function(r){var o=function s1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);var c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e)})}const c1=["contentWrapper"],ix=["*"],qB=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let tg=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new un.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Di.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(eg(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):wt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ti(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=wu(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(dr),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ts=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new un.x,this._elementScrolled=new Di.y(c=>this.ngZone.runOutsideAngular(()=>Xh(this.elementRef.nativeElement,"scroll").pipe(Mr(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=_o()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==_o()?t.left=t.right:1==_o()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;Bc()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==_o()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==_o()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(tg),l.Y36(l.R0b),l.Y36(ca,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),yo=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new un.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(eg(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ky=new l.OlP("VIRTUAL_SCROLLABLE");let sx=(()=>{class n extends ts{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(tg),l.Y36(l.R0b),l.Y36(ca,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const d1=typeof requestAnimationFrame<"u"?t1:r1;let h1=(()=>{class n extends sx{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=ir(t)}constructor(t,i,r,o,c,d,p,_){super(t,d,r,c),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,l.f3M)(dr),this._detachedSubject=new un.x,this._renderedRangeSubject=new un.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Di.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Oo.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(kr(null),eg(0,d1)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Mr(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function u1(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,c=o?"X":"Y";let p=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(p+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",c="rtl"==this.dir?.value;i="start"==t?c?o:r:"end"==t?c?r:o:t||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(qB,8),l.Y36(ca,8),l.Y36(tg),l.Y36(yo),l.Y36(ky,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(c1,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:ts,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(ky)],n]}]),l.qOj,l.jDz],ngContentSelectors:ix,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kh,Ry,h1,kh,Ry]}),n})();var Nu=L(1208);const Oy=Bc();class ig{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Bi(-this._previousScrollPosition.left),e.style.top=Bi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Oy&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Oy&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class lx{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Py{enable(){}disable(){}attach(){}}function ef(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tf(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ux{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ef(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dx=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Py,this.close=c=>new lx(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new ig(this._viewportRuler,this._document),this.reposition=c=>new ux(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tg),l.LFG(yo),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rg{constructor(e){if(this.scrollStrategy=new Py,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class hx{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let fx=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_1=(()=>{class n extends fx{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const d=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v1=(()=>{class n extends fx{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=oo(o)},this._clickListener=o=>{const c=oo(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(o)):x.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(dr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),og=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xs()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),xs()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(dr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nf{constructor(e,t,i,r,o,c,d,p,_,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new un.x,this._attachments=new un.x,this._detachments=new un.x,this._locationChanges=Oo.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new un.x,this._outsidePointerEvents=new un.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ao(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Bi(this._config.width),e.height=Bi(this._config.height),e.minWidth=Bi(this._config.minWidth),e.minHeight=Bi(this._config.minHeight),e.maxWidth=Bi(this._config.maxWidth),e.maxHeight=Bi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=wm(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Mr((0,Nu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const px="cdk-overlay-connected-position-bounding-box",y1=/([A-Za-z%]+)$/;class b1{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new un.x,this._resizeSubscription=Oo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(px),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),_=this._getOverlayPoint(p,t,d),b=this._getOverlayFit(_,t,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:t})}if(o.length){let d=null,p=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(px),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=gx(t);let{x:c,y:d}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let T=0-d,M=d+o.height-i.height,N=this._subtractOverflows(o.width,0-c,c+o.width-i.width),q=this._subtractOverflows(o.height,T,M),ce=N*q;return{visibleArea:ce,isCompletelyWithinViewport:o.width*o.height===ce,fitsInViewportVertically:q===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,c=mx(this._overlayRef.getConfig().minHeight),d=mx(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=d&&d<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=gx(t),o=this._viewportRect,c=Math.max(e.x+r.width-o.width,0),d=Math.max(e.y+r.height-o.height,0),p=Math.max(o.top-i.top-e.y,0),_=Math.max(o.left-i.left-e.x,0);let b=0,x=0;return b=r.width<=o.width?_||-c:e.x<this._viewportMargin?o.left-i.left-e.x:0,x=r.height<=o.height?p||-d:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:b,y:x},{x:e.x+b,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new hx(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,c,d,b,x,T;if("top"===t.overlayY)c=e.y,o=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const M=Math.min(i.bottom-e.y+i.top,e.y),N=this._lastBoundingBoxSize.height;o=2*M,c=e.y-M,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-N/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)T=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,b=i.right-e.x;else{const M=Math.min(i.right-e.x+i.left,e.x),N=this._lastBoundingBoxSize.width;b=2*M,x=e.x-M,b>N&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-N/2)}return{top:c,left:x,bottom:d,right:T,width:b,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Bi(i.height),r.top=Bi(i.top),r.bottom=Bi(i.bottom),r.width=Bi(i.width),r.left=Bi(i.left),r.right=Bi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Bi(o)),c&&(r.maxWidth=Bi(c))}this._lastBoundingBoxSize=i,rl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();rl(i,this._getExactOverlayY(t,e,b)),rl(i,this._getExactOverlayX(t,e,b))}else i.position="static";let d="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Bi(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Bi(c.maxWidth):o&&(i.maxWidth="")),rl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Bi(o.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Bi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tf(e,i),isOriginOutsideView:ef(e,i),isOverlayClipped:tf(t,i),isOverlayOutsideView:ef(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&wm(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function mx(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(y1);return t&&"px"!==t?null:parseFloat(e)}return n||null}function gx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _x="cdk-global-overlay-wrapper";class w1{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_x),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,x=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let M="",N="",q="";p?q="flex-start":"center"===b?(q="center",T?N=x:M=x):T?"left"===b||"end"===b?(q="flex-end",M=x):("right"===b||"start"===b)&&(q="flex-start",N=x):"left"===b||"start"===b?(q="flex-start",M=x):("right"===b||"end"===b)&&(q="flex-end",N=x),e.position=this._cssPosition,e.marginLeft=p?"0":M,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":N,t.justifyContent=q,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(_x),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let C1=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new w1}flexibleConnectedTo(t){return new b1(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yo),l.LFG(re),l.LFG(dr),l.LFG(og))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E1=0,tc=(()=>{class n{constructor(t,i,r,o,c,d,p,_,b,x,T,M){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=x,this._outsideClickDispatcher=T,this._animationsModuleType=M}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new rg(t);return c.direction=c.direction||this._directionality.value,new nf(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+E1++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new $E(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dx),l.LFG(og),l.LFG(l._Vd),l.LFG(C1),l.LFG(_1),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(re),l.LFG(ca),l.LFG(_e),l.LFG(v1),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bx={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[tc],useFactory:function yx(n){return()=>n.scrollStrategies.reposition()}};let sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tc,bx],imports:[kh,Xa,cx,cx]}),n})();function wx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t.data.action," ")}}const Ny=["label"];function Fy(n,e){}const ol=Math.pow(2,31)-1;class Ly{constructor(e,t){this._overlayRef=t,this._afterDismissed=new un.x,this._afterOpened=new un.x,this._onAction=new un.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,ol))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Cx=new l.OlP("MatSnackBarData");class fa{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),By=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),Ex=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ly),l.Y36(Cx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1),l.qZA(),l.YNc(2,wx,3,1,"div",1)),2&t&&(l.xp6(1),l.hij(" ",i.data.message,"\n"),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[gr,Xc,JB,By,eV],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const xx={snackBarState:qm("state",[Yh("void, hidden",Fo({transform:"scale(0.8)",opacity:0})),Yh("visible",Fo({transform:"scale(1)",opacity:1})),Ru("* => visible",ku("150ms cubic-bezier(0, 0, 0.2, 1)")),Ru("* => void, * => hidden",ku("75ms cubic-bezier(0.4, 0.0, 1, 1)",Fo({opacity:0})))])};let tV=(()=>{class n extends Qh{constructor(t,i,r,o,c){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new un.x,this._onExit=new un.x,this._onEnter=new un.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ao(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(dr),l.Y36(fa))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(Ou,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),nn=(()=>{class n extends tV{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(Ny,7),2&t){let r;l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:6,vars:2,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),l.YNc(4,Fy,0,0,"ng-template",4),l.qZA(),l._UZ(5,"div"),l.qZA()()),2&t&&(l.xp6(5),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[Ou],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[xx.snackBarState]}}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sg,Xa,_s,Mu,Gr,Gr]}),n})();const Sx=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function D1(){return new fa}});let Fu=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,c,d){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:fa,useValue:i}]}),c=new il(this.snackBarContainerComponent,i.viewContainerRef,o),d=t.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(t,i){const r={...new fa,...this._defaultConfig,...i},o=this._createOverlay(r),c=this._attachSnackBarContainer(o,r),d=new Ly(c,o);if(t instanceof l.Rgc){const p=new Kh(t,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new il(t,void 0,p),b=c.attachComponentPortal(_);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Mr(o.detachments())).subscribe(p=>{o.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new rg;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,d=!c&&"center"!==t.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Ly,useValue:i},{provide:Cx,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tc),l.LFG(cE),l.LFG(l.zs3),l.LFG(xh),l.LFG(n,12),l.LFG(Sx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),A1=(()=>{class n extends Fu{constructor(t,i,r,o,c,d){super(t,i,r,o,c,d),this.simpleSnackBarComponent=Ex,this.snackBarContainerComponent=nn,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tc),l.LFG(cE),l.LFG(l.zs3),l.LFG(xh),l.LFG(n,12),l.LFG(Sx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Ix}),n})();var sl=(0,L(5490).d)(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function ai(n){return new Di.y(function(e){(0,Pn.Xf)(n()).subscribe(e)})}var nV=L(6527);function cg(){return(0,Li.e)(function(n,e){var t=null;n._refCount++;var i=new mi.Q(e,void 0,void 0,void 0,function(){if(!n||n._refCount<=0||0<--n._refCount)t=null;else{var r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()}});n.subscribe(i),i.closed||(t=n.connect())})}var Vy=function(n){function e(t,i){var r=n.call(this)||this;return r.source=t,r.subjectFactory=i,r._subject=null,r._refCount=0,r._connection=null,(0,Li.A)(t)&&(r.lift=t.lift),r}return(0,Ii.ZT)(e,n),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t?.unsubscribe()},e.prototype.connect=function(){var t=this,i=this._connection;if(!i){i=this._connection=new Oo.w0;var r=this.getSubject();i.add(this.source.subscribe(new mi.Q(r,void 0,function(){t._teardown(),r.complete()},function(o){t._teardown(),r.error(o)},function(){return t._teardown()}))),i.closed&&(this._connection=null,i=Oo.w0.EMPTY)}return i},e.prototype.refCount=function(){return cg()(this)},e}(Di.y);function Ui(n,e){return(0,Li.e)(function(t,i){var r=null,o=0,c=!1,d=function(){return c&&!r&&i.complete()};t.subscribe(new mi.Q(i,function(p){r?.unsubscribe();var _=0,b=o++;(0,Pn.Xf)(n(p,b)).subscribe(r=new mi.Q(i,function(x){return i.next(e?e(p,x,b,_++):x)},function(){r=null,d()}))},function(){c=!0,d()}))})}function rf(n){return(0,Li.e)(function(e,t){var i=!1;e.subscribe(new mi.Q(t,function(r){i=!0,t.next(r)},function(){i||t.next(n),t.complete()}))})}function Uy(n){return void 0===n&&(n=Tx),(0,Li.e)(function(e,t){var i=!1;e.subscribe(new mi.Q(t,function(r){i=!0,t.next(r)},function(){return i?t.complete():t.error(n())}))})}function Tx(){return new sl}function Ms(n,e){var t=arguments.length>=2;return function(i){return i.pipe(n?Ti(function(r,o){return n(r,o,i)}):wh.y,ao(1),t?rf(e):Uy(function(){return new sl}))}}function sf(n,e){return(0,Li.e)(function M1(n,e,t,i,r){return function(o,c){var d=t,p=e,_=0;o.subscribe(new mi.Q(c,function(b){var x=_++;p=d?n(p,b,x):(d=!0,b),i&&c.next(p)},r&&function(){d&&c.next(p),c.complete()}))}}(n,e,arguments.length>=2,!0))}function zy(n){return n<=0?function(){return Wa.E}:(0,Li.e)(function(e,t){var i=[];e.subscribe(new mi.Q(t,function(r){i.push(r),n<i.length&&i.shift()},function(){var r,o;try{for(var c=(0,Ii.XA)(i),d=c.next();!d.done;d=c.next())t.next(d.value)}catch(_){r={error:_}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}t.complete()},void 0,function(){i=null}))})}function Lu(n,e){var t=arguments.length>=2;return function(i){return i.pipe(n?Ti(function(r,o){return n(r,o,i)}):wh.y,zy(1),t?rf(e):Uy(function(){return new sl}))}}const _n="primary",nc=Symbol("RouteTitle");class Dx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function al(n){return new Dx(n)}function Ax(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function lo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Bu(n[r],e[r]))return!1;return!0}function Bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Mx(n){return Array.prototype.concat.apply([],n)}function kx(n){return n.length>0?n[n.length-1]:null}function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function pa(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Pn.Dp)(Promise.resolve(n)):wt(n)}const af=!1,P1={exact:function F1(n,e,t){if(!is(n.segments,e.segments)||!cf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!F1(n.children[i],e.children[i],t))return!1;return!0},subset:L1},jy={exact:function N1(n,e){return lo(n,e)},subset:function rV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bu(n[t],e[t]))},ignored:()=>!0};function Rx(n,e,t){return P1[t.paths](n.root,e.root,t.matrixParams)&&jy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L1(n,e,t){return B1(n,e,e.segments,t)}function B1(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!is(r,t)||e.hasChildren()||!cf(r,t,i))}if(n.segments.length===t.length){if(!is(n.segments,t)||!cf(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!L1(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(is(n.segments,r)&&cf(n.segments,r,i)&&n.children[_n])&&B1(n.children[_n],e,o,i)}}function cf(n,e,t){return e.every((i,r)=>jy[t](n[r].parameters,i.parameters))}class ks{constructor(e=new Sn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=al(this.queryParams)),this._queryParamMap}toString(){return U1.serialize(this)}}class Sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $y(this)}}class lf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=al(this.parameters)),this._parameterMap}toString(){return Px(this)}}function is(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let uf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Hy},providedIn:"root"}),n})();class Hy{parse(e){const t=new $1(e);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${df(e.root,!0)}`,i=function j1(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${lg(t)}=${lg(r)}`).join("&"):`${lg(t)}=${lg(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function z1(n){return encodeURI(n)}(e.fragment)}`:""}`}}const U1=new Hy;function $y(n){return n.segments.map(e=>Px(e)).join("/")}function df(n,e){if(!n.hasChildren())return $y(n);if(e){const t=n.children[_n]?df(n.children[_n],!1):"",i=[];return hr(n.children,(r,o)=>{o!==_n&&i.push(`${o}:${df(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function V1(n,e){let t=[];return hr(n.children,(i,r)=>{r===_n&&(t=t.concat(e(i,r)))}),hr(n.children,(i,r)=>{r!==_n&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===_n?[df(n.children[_n],!1)]:[`${r}:${df(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_n]?`${$y(n)}/${t[0]}`:`${$y(n)}/(${t.join("//")})`}}function Gy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lg(n){return Gy(n).replace(/%3B/gi,";")}function cl(n){return Gy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ug(n){return decodeURIComponent(n)}function Wy(n){return ug(n.replace(/\+/g,"%20"))}function Px(n){return`${cl(n.path)}${function Nx(n){return Object.keys(n).map(e=>`;${cl(e)}=${cl(n[e])}`).join("")}(n.parameters)}`}const Fx=/^[^\/()?;=#]+/;function dg(n){const e=n.match(Fx);return e?e[0]:""}const qy=/^[^=?&#]+/,Lx=/^[^&#]+/;class $1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_n]=new Sn(e,t)),i}parseSegment(){const e=dg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,af);return this.capture(e),new lf(ug(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=dg(this.remaining);r&&(i=r,this.capture(i))}e[ug(t)]=ug(i)}parseQueryParam(e){const t=function H1(n){const e=n.match(qy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Bx(n){const e=n.match(Lx);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Wy(t),o=Wy(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,af);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_n);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[_n]:new Sn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,af)}}function Yy(n){return n.segments.length>0?new Sn([],{[_n]:n}):n}function hg(n){const e={};for(const i of Object.keys(n.children)){const o=hg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Zy(n){if(1===n.numberOfChildren&&n.children[_n]){const e=n.children[_n];return new Sn(n.segments.concat(e.segments),e.children)}return n}(new Sn(n.segments,e))}function ll(n){return n instanceof ks}const fg=!1;function q1(n,e,t,i,r){if(0===t.length)return Vu(e.root,e.root,e.root,i,r);const o=function Qy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ky(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return hr(o.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new Ky(t,e,i)}(t);return o.toRoot()?Vu(e.root,e.root,new Sn([],{}),i,r):function c(p){const _=function Ux(n,e,t,i){if(n.isAbsolute)return new Uu(e.root,!0,0);if(-1===i)return new Uu(t,t===e.root,0);return function zx(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,fg&&"Invalid number of '../'");r=i.segments.length}return new Uu(i,!1,r-o)}(t,i+(hf(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,p),b=_.processChildren?ic(_.segmentGroup,_.index,o.commands):Xy(_.segmentGroup,_.index,o.commands);return Vu(e.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function hf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ff(n){return"object"==typeof n&&null!=n&&n.outlets}function Vu(n,e,t,i,r){let c,o={};i&&hr(i,(p,_)=>{o[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===e?t:Vx(n,e,t);const d=Yy(hg(c));return new ks(d,o,r)}function Vx(n,e,t){const i={};return hr(n.children,(r,o)=>{i[o]=r===e?t:Vx(r,e,t)}),new Sn(n.segments,i)}class Ky{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hf(i[0]))throw new l.vHH(4003,fg&&"Root segment cannot have matrix parameters");const r=i.find(ff);if(r&&r!==kx(i))throw new l.vHH(4004,fg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Xy(n,e,t){if(n||(n=new Sn([],{})),0===n.segments.length&&n.hasChildren())return ic(n,e,t);const i=function Jy(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const c=n.segments[r],d=t[i];if(ff(d))break;const p=`${d}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Hx(p,_,c))return o;i+=2}else{if(!Hx(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Sn(n.segments.slice(0,i.pathIndex),{});return o.children[_n]=new Sn(n.segments.slice(i.pathIndex),n.children),ic(o,0,r)}return i.match&&0===r.length?new Sn(n.segments,{}):i.match&&!n.hasChildren()?pg(n,e,t):i.match?ic(n,0,r):pg(n,e,t)}function ic(n,e,t){if(0===t.length)return new Sn(n.segments,{});{const i=function Z1(n){return ff(n[0])?n[0].outlets:{[_n]:n}}(t),r={};return!i[_n]&&n.children[_n]&&1===n.numberOfChildren&&0===n.children[_n].segments.length?ic(n.children[_n],e,t):(hr(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Xy(n.children[c],e,o))}),hr(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Sn(n.segments,r))}}function pg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(ff(o)){const p=eb(o.outlets);return new Sn(i,p)}if(0===r&&hf(t[0])){i.push(new lf(n.segments[e].path,jx(t[0]))),r++;continue}const c=ff(o)?o.outlets[_n]:`${o}`,d=r<t.length-1?t[r+1]:null;c&&d&&hf(d)?(i.push(new lf(c,jx(d))),r+=2):(i.push(new lf(c,{})),r++)}return new Sn(i,{})}function eb(n){const e={};return hr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=pg(new Sn([],{}),0,t))}),e}function jx(n){const e={};return hr(n,(t,i)=>e[i]=`${t}`),e}function Hx(n,e,t){return n==t.path&&lo(e,t.parameters)}const ul="imperative";class Rs{constructor(e,t){this.id=e,this.url=t}}class mg extends Rs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends Rs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends Rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $x extends Rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class K1 extends Rs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gx extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tb extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q1 extends Rs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nb extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X1 extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ib{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kx{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ek=(()=>{class n{createUrlTree(t,i,r,o,c,d){return q1(t||i.root,r,o,c,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),aV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return ek.\u0275fac(e)},providedIn:"root"}),n})();class ob{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=sb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ab(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ab(e,this._root).map(t=>t.value)}}function sb(n,e){if(n===e.value)return e;for(const t of e.children){const i=sb(n,t);if(i)return i}return null}function ab(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ab(n,t);if(i.length)return i.unshift(e),i}return[]}class rc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qx extends ob{constructor(e,t){super(e),this.snapshot=t,cb(this,e)}toString(){return this.snapshot.toString()}}function Xx(n,e){const t=function Jx(n,e){const c=new gg([],{},{},"",{},_n,e,null,n.root,-1,{});return new tI("",new rc(c,[]))}(n,e),i=new Si([new lf("",{})]),r=new Si({}),o=new Si({}),c=new Si({}),d=new Si(""),p=new ju(i,r,c,d,o,_n,e,t.root);return p.snapshot=t.root,new Qx(new rc(p,[]),t)}class ju{constructor(e,t,i,r,o,c,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,kt.U)(_=>_[nc]))??wt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>al(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>al(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eI(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function nk(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class gg{get title(){return this.data?.[nc]}constructor(e,t,i,r,o,c,d,p,_,b,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=al(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=al(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tI extends ob{constructor(e,t){super(t),this.url=e,cb(this,t)}toString(){return nI(this._root)}}function cb(n,e){e.value._routerState=n,e.children.forEach(t=>cb(n,t))}function nI(n){const e=n.children.length>0?` { ${n.children.map(nI).join(", ")} } `:"";return`${n.value}${e}`}function lb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lo(e.params,t.params)||n.params.next(t.params),function O1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function dl(n,e){const t=lo(n.params,e.params)&&function Ox(n,e){return is(n,e)&&n.every((t,i)=>lo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||dl(n.parent,e.parent))}function Hu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function rI(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hu(n,i,r);return Hu(n,i)})}(n,e,t);return new rc(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>Hu(n,d)),c}}const i=function oI(n){return new ju(new Si(n.url),new Si(n.params),new Si(n.queryParams),new Si(n.fragment),new Si(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Hu(n,o));return new rc(i,r)}}const _g="ngNavigationCancelingError";function ub(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ll(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=sI(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function sI(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[_g]=!0,i.cancellationCode=e,t&&(i.url=t),i}function ik(n){return aI(n)&&ll(n.url)}function aI(n){return n&&n[_g]}class cI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new mf,this.attachRef=null}}let mf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cI,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vg=!1;let db=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_n,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(mf),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,vg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,vg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,vg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,vg);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new gf(t,d,r.injector);if(i&&function rk(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class gf{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ju?this.route:e===mf?this.childContexts:this.parent.get(e,t)}}let $u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[db],encapsulation:2}),n})();function rs(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pb(n){const e=n.children&&n.children.map(pb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_n&&(t.component=$u),t}function Bo(n){return n.outlet||_n}function mb(n,e){const t=n.filter(i=>Bo(i)===e);return t.push(...n.filter(i=>Bo(i)!==e)),t}function Gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lI{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=zu(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),hr(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=zu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=zu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=zu(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new rb(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yx(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(lb(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),lb(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=Gu(r.snapshot),p=d?.get(l._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Cg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wu{constructor(e,t){this.component=e,this.route=t}}function uI(n,e,t){const i=n._root;return _f(i,e?e._root:null,t,[i.value])}function oc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function _f(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=zu(e);return n.children.forEach(c=>{(function sk(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function ak(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!is(n.url,e.url);case"pathParamsOrQueryParamsChange":return!is(n.url,e.url)||!lo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dl(n,e)||!lo(n.queryParams,e.queryParams);default:return!dl(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Cg(i)):(o.data=c.data,o._resolvedData=c._resolvedData),_f(n,e,o.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Wu(d.outlet.component,c))}else c&&vf(e,d,r),r.canActivateChecks.push(new Cg(i)),_f(n,null,o.component?d?d.children:null:t,i,r)})(c,o[c.value.outlet],t,i.concat([c.value]),r),delete o[c.value.outlet]}),hr(o,(c,d)=>vf(c,t.getContext(d),r)),r}function vf(n,e,t){const i=zu(n),r=n.value;hr(i,(o,c)=>{vf(o,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Wu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function qu(n){return"function"==typeof n}function yb(n){return n instanceof sl||"EmptyError"===n?.name}const yf=Symbol("INITIAL_VALUE");function hl(){return Ui(n=>Cm(n.map(e=>e.pipe(ao(1),kr(yf)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===yf)return yf;if(!1===t||t instanceof ks)return t}return!0}),Ti(e=>e!==yf),ao(1)))}function vI(n){return(0,nV.z)((0,Fi.b)(e=>{if(ll(e))throw ub(0,e)}),(0,kt.U)(e=>!0===e))}const wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cb(n,e,t,i,r){const o=Eb(n,e,t);return o.matched?function bb(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?wt(r.map(c=>{const d=oc(c,n);return pa(function ck(n){return n&&qu(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(hl(),vI()):wt(!0)}(i=rs(e,i),e,t).pipe((0,kt.U)(c=>!0===c?o:{...wb})):wt(o)}function Eb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ax)(t,n,e);if(!r)return{...wb};const o={};hr(r.posParams,(d,p)=>{o[p]=d.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Eg(n,e,t,i){if(t.length>0&&function yI(n,e,t){return t.some(i=>fl(n,e,i)&&Bo(i)!==_n)}(n,t,i)){const o=new Sn(e,function xb(n,e,t,i){const r={};r[_n]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Bo(o)!==_n){const c=new Sn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Bo(o)]=c}return r}(n,e,i,new Sn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function bI(n,e,t){return t.some(i=>fl(n,e,i))}(n,t,i)){const o=new Sn(n.segments,function hk(n,e,t,i,r){const o={};for(const c of i)if(fl(n,t,c)&&!r[Bo(c)]){const d=new Sn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Bo(c)]=d}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new Sn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function fl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xg(n,e,t,i){return!!(Bo(n)===i||i!==_n&&fl(e,t,n))&&("**"===n.path||Eb(e,n,t).matched)}function fk(n,e,t){return 0===e.length&&!n.children[t]}const wf=!1;class Ig{constructor(e){this.segmentGroup=e||null}}class Ib{constructor(e){this.urlTree=e}}function Os(n){return qc(new Ig(n))}function wI(n){return qc(new Ib(n))}class pk{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=Eg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Sn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,_n).pipe((0,kt.U)(o=>this.createUrlTree(hg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jo(o=>{if(o instanceof Ib)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ig?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,_n).pipe((0,kt.U)(r=>this.createUrlTree(hg(r),e.queryParams,e.fragment))).pipe(Jo(r=>{throw r instanceof Ig?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,wf)}createUrlTree(e,t,i){const r=Yy(e);return new ks(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,kt.U)(o=>new Sn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Pn.Dp)(r).pipe(Yc(o=>{const c=i.children[o],d=mb(t,o);return this.expandSegmentGroup(e,d,c,o).pipe((0,kt.U)(p=>({segment:p,outlet:o})))}),sf((o,c)=>(o[c.outlet]=c.segment,o),{}),Lu())}expandSegment(e,t,i,r,o,c){return(0,Pn.Dp)(i).pipe(Yc(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,o,c).pipe(Jo(_=>{if(_ instanceof Ig)return wt(null);throw _}))),Ms(d=>!!d),Jo((d,p)=>{if(yb(d))return fk(t,r,o)?wt(new Sn([],{})):Os(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,o,c,d){return xg(r,t,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c):Os(t):Os(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?wI(o):this.lineralizeSegments(i,o).pipe((0,yr.z)(c=>{const d=new Sn(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Eb(t,r,o);if(!d)return Os(t);const x=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?wI(x):this.lineralizeSegments(r,x).pipe((0,yr.z)(T=>this.expandSegment(e,t,i,T.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=rs(i,e),i.loadChildren?(i._loadedRoutes?wt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,kt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Sn(r,{})))):wt(new Sn(r,{}))):Cb(t,i,r,e).pipe(Ui(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,yr.z)(b=>{const x=b.injector??e,T=b.routes,{segmentGroup:M,slicedSegments:N}=Eg(t,d,p,T),q=new Sn(M.segments,M.children);if(0===N.length&&q.hasChildren())return this.expandChildren(x,T,q).pipe((0,kt.U)(Ke=>new Sn(d,Ke)));if(0===T.length&&0===N.length)return wt(new Sn(d,{}));const ce=Bo(i)===o;return this.expandSegment(x,q,T,N,ce?_n:o,!0).pipe((0,kt.U)(Xe=>new Sn(d.concat(Xe.segments),Xe.children)))})):Os(t)))}getChildConfig(e,t,i){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function bf(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?wt(!0):wt(r.map(c=>{const d=oc(c,n);return pa(function dI(n){return n&&qu(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(hl(),vI())}(e,t,i).pipe((0,yr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Fi.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Sb(n){return qc(sI(wf,3))}())):wt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return wt(i);if(r.numberOfChildren>1||!r.children[_n])return e.redirectTo,qc(new l.vHH(4e3,wf));r=r.children[_n]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new ks(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return hr(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=t[d]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let c={};return hr(t.children,(d,p)=>{c[p]=this.createSegmentGroup(e,d,i,r)}),new Sn(o,c)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,wf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class mk{}class II{constructor(e,t,i,r,o,c,d){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=d}recognize(){const e=Eg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_n).pipe((0,kt.U)(t=>{if(null===t)return null;const i=new gg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rc(i,t),o=new tI(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=eI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Pn.Dp)(Object.keys(i.children)).pipe(Yc(r=>{const o=i.children[r],c=mb(t,r);return this.processSegmentGroup(e,c,o,r)}),sf((r,o)=>r&&o?(r.push(...o),r):null),function k1(n,e){return void 0===e&&(e=!1),(0,Li.e)(function(t,i){var r=0;t.subscribe(new mi.Q(i,function(o){var c=n(o,r++);(c||e)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),rf(null),Lu(),(0,kt.U)(r=>{if(null===r)return null;const o=DI(r);return function _k(n){n.sort((e,t)=>e.value.outlet===_n?-1:t.value.outlet===_n?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,Pn.Dp)(t).pipe(Yc(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,o)),Ms(c=>!!c),Jo(c=>{if(yb(c))return fk(i,r,o)?wt([]):wt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!xg(t,i,r,o))return wt(null);let c;if("**"===t.path){const d=r.length>0?kx(r).parameters:{},p=AI(i)+r.length;c=wt({snapshot:new gg(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Db(t),Bo(t),t.component??t._loadedComponent??null,t,Tb(i),p,Ab(t)),consumedSegments:[],remainingSegments:[]})}else c=Cb(i,t,r,e).pipe((0,kt.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const x=AI(i)+p.length;return{snapshot:new gg(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Db(t),Bo(t),t.component??t._loadedComponent??null,t,Tb(i),x,Ab(t)),consumedSegments:p,remainingSegments:_}}));return c.pipe(Ui(d=>{if(null===d)return wt(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;e=t._injector??e;const x=t._loadedInjector??e,T=function SI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:N}=Eg(i,_,b,T.filter(ce=>void 0===ce.redirectTo));if(0===N.length&&M.hasChildren())return this.processChildren(x,T,M).pipe((0,kt.U)(ce=>null===ce?null:[new rc(p,ce)]));if(0===T.length&&0===N.length)return wt([new rc(p,[])]);const q=Bo(t)===o;return this.processSegment(x,T,M,N,q?_n:o).pipe((0,kt.U)(ce=>null===ce?null:[new rc(p,ce)]))}))}}function TI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function DI(n){const e=[],t=new Set;for(const i of n){if(!TI(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=DI(i.children);e.push(new rc(i.value,r))}return e.filter(i=>!t.has(i))}function Tb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function AI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Db(n){return n.data||{}}function Ab(n){return n.resolve||{}}function Ck(n){return"string"==typeof n.title||null===n.title}function RI(n){return Ui(e=>{const t=n(e);return t?(0,Pn.Dp)(t).pipe((0,kt.U)(()=>e)):wt(e)})}const Cf=new l.OlP("ROUTES");let OI=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=pa(t.loadComponent()).pipe((0,kt.U)(Ef),(0,Fi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ty(()=>{this.componentLoaders.delete(t)})),r=new Vy(i,()=>new un.x).pipe(cg());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return wt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,kt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(t).injector,_=Mx(p.get(Cf,[],l.XFs.Self|l.XFs.Optional)));return{routes:_.map(pb),injector:p}}),ty(()=>{this.childrenLoaders.delete(i)})),c=new Vy(o,()=>new un.x).pipe(cg());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return pa(t()).pipe((0,kt.U)(Ef),(0,yr.z)(r=>r instanceof l.YKP||Array.isArray(r)?wt(r):(0,Pn.Dp)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ef(n){return function _V(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new un.x,this.configLoader=(0,l.f3M)(OI),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(uf),this.rootContexts=(0,l.f3M)(mf),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ib(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Wx(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Si({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ul,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ti(i=>0!==i.id),(0,kt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Ui(i=>{let r=!1,o=!1;return wt(i).pipe((0,Fi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ui(c=>{const d=t.browserUrlTree.toString(),p=!t.navigated||c.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new $x(c.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Wa.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return If(c.source)&&(t.browserUrlTree=c.extractedUrl),wt(c).pipe(Ui(b=>{const x=this.transitions?.getValue();return this.events.next(new mg(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),x!==this.transitions?.getValue()?Wa.E:Promise.resolve(b)}),function fV(n,e,t,i){return Ui(r=>function hV(n,e,t,i,r){return new pk(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,kt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Fi.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function MI(n,e,t,i,r){return(0,yr.z)(o=>function xI(n,e,t,i,r,o,c="emptyOnly"){return new II(n,e,t,i,r,c,o).recognize().pipe(Ui(d=>null===d?function gk(n){return new Di.y(e=>e.error(n))}(new mk):wt(d)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,kt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Fi.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const T=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(T,b)}t.browserUrlTree=b.urlAfterRedirects}const x=new Gx(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:x,source:T,restoredState:M,extras:N}=c,q=new mg(b,this.urlSerializer.serialize(x),T,M);this.events.next(q);const ce=Xx(x,this.rootComponentType).snapshot;return wt(i={...c,targetSnapshot:ce,urlAfterRedirects:x,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new $x(c.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Wa.E}}),(0,Fi.b)(c=>{const d=new tb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,kt.U)(c=>i={...c,guards:uI(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function qr(n,e){return(0,yr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?wt({...t,guardsResult:!0}):function Yu(n,e,t,i){return(0,Pn.Dp)(n).pipe((0,yr.z)(r=>function _I(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?wt(o.map(d=>{const p=Gu(e)??r,_=oc(d,p);return pa(function pI(n){return n&&qu(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):p.runInContext(()=>_(n,e,t,i))).pipe(Ms())})).pipe(hl()):wt(!0)}(r.component,r.route,t,e,i)),Ms(r=>!0!==r,!0))}(c,i,r,n).pipe((0,yr.z)(d=>d&&function vb(n){return"boolean"==typeof n}(d)?function uk(n,e,t,i){return(0,Pn.Dp)(e).pipe(Yc(r=>Eh(function uV(n,e){return null!==n&&e&&e(new qx(n)),wt(!0)}(r.route.parent,i),function dk(n,e){return null!==n&&e&&e(new Zx(n)),wt(!0)}(r.route,i),function gI(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function _b(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ai(()=>wt(c.guards.map(p=>{const _=Gu(c.node)??t,b=oc(p,_);return pa(function fI(n){return n&&qu(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(Ms())})).pipe(hl())));return wt(o).pipe(hl())}(n,r.path,t),function dV(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return wt(!0);const r=i.map(o=>ai(()=>{const c=Gu(e)??t,d=oc(o,c);return pa(function hI(n){return n&&qu(n.canActivate)}(d)?d.canActivate(e,n):c.runInContext(()=>d(e,n))).pipe(Ms())}));return wt(r).pipe(hl())}(n,r.route,t))),Ms(r=>!0!==r,!0))}(i,o,n,e):wt(d)),(0,kt.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Fi.b)(c=>{if(i.guardsResult=c.guardsResult,ll(c.guardsResult))throw ub(0,c.guardsResult);const d=new Q1(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ti(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),RI(c=>{if(c.guards.canActivateChecks.length)return wt(c).pipe((0,Fi.b)(d=>{const p=new nb(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Ui(d=>{let p=!1;return wt(d).pipe(function bk(n,e){return(0,yr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return wt(t);let o=0;return(0,Pn.Dp)(r).pipe(Yc(c=>function wk(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Ck(r)&&(o[nc]=r.title),function pV(n,e,t,i){const r=function kI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return wt({});const o={};return(0,Pn.Dp)(r).pipe((0,yr.z)(c=>function mV(n,e,t,i){const r=Gu(e)??i,o=oc(n,r);return pa(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[c],e,t,i).pipe(Ms(),(0,Fi.b)(d=>{o[c]=d}))),zy(1),function R1(n){return(0,kt.U)(function(){return n})}(o),Jo(c=>yb(c)?Wa.E:qc(c)))}(o,n,e,i).pipe((0,kt.U)(c=>(n._resolvedData=c,n.data=eI(n,t).resolve,r&&Ck(r)&&(n.data[nc]=r.title),null)))}(c.route,i,n,e)),(0,Fi.b)(()=>o++),zy(1),(0,yr.z)(c=>o===r.length?wt(t):Wa.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Fi.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Fi.b)(d=>{const p=new X1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),RI(c=>{const d=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Fi.b)(b=>{p.component=b}),(0,kt.U)(()=>{})));for(const b of p.children)_.push(...d(b));return _};return Cm(d(c.targetSnapshot.root)).pipe(rf(),ao(1))}),RI(()=>this.afterPreactivation()),(0,kt.U)(c=>{const d=function iI(n,e,t){const i=Hu(n,e._root,t?t._root:void 0);return new Qx(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,Fi.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(i=>(new lI(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,Fi.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Lo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),ty(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Jo(c=>{if(o=!0,aI(c)){ik(c)||(t.navigated=!0,t.restoreHistory(i,!0));const d=new pf(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),ik(c)){const p=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||If(i.source)};t.scheduleNavigation(p,ul,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const d=new K1(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(t.errorHandler(c))}catch(p){i.reject(p)}}return Wa.E}))}))}cancelNavigationTransition(t,i,r){const o=new pf(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function If(n){return n!==ul}let kb=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_n);return i}getResolvedTitleForRoute(t){return t.data[nc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(PI)},providedIn:"root"}),n})(),PI=(()=>{class n extends kb{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ou))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(NI)},providedIn:"root"}),n})();class Rb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let NI=(()=>{class n extends Rb{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sf=new l.OlP("",{providedIn:"root",factory:()=>({})});let yV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ik)},providedIn:"root"}),n})(),Ik=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sk(n){throw n}function Sg(n,e,t){return e.parse("/")}const Tk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Sf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Sk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(yV),this.routeReuseStrategy=(0,l.f3M)(vV),this.urlCreationStrategy=(0,l.f3M)(aV),this.titleStrategy=(0,l.f3M)(kb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mx((0,l.f3M)(Cf,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(xf),this.urlSerializer=(0,l.f3M)(uf),this.location=(0,l.f3M)(_e),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ks,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xx(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ul,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const d=this.parseUrl(t);this.scheduleNavigation(d,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(pb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=p?this.currentUrlTree.fragment:c;let b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,b,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ll(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ul,null,i)}navigate(t,i={skipLocationChange:!1}){return function wV(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Tk}:!1===i?{...bV}:i,ll(t))return Rx(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Rx(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let d,p,_,b;return c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((x,T)=>{d=x,p=T}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zu=(()=>{class n{constructor(t,i,r,o,c,d){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new un.x;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof Lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr),l.Y36(ju),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ve))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Tg=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,c){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(d=>{d instanceof Lo&&this.update()})}ngAfterContentInit(){wt(this.links.changes,wt(null)).pipe((0,Ch.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Pn.Dp)(t).pipe((0,Ch.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Dk(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Zu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Zu,5),2&t){let o;l.iGM(o=l.CRH())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class Ak{}let LI=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ti(t=>t instanceof Lo),Yc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,d=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,Pn.Dp)(r).pipe((0,Ch.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):wt(null);const o=r.pipe((0,yr.z)(c=>null===c?wt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Pn.Dp)([o,c]).pipe((0,Ch.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ak),l.LFG(OI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BI=new l.OlP("");let Vo=(()=>{class n{constructor(t,i,r,o,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=!1;function Qu(n,e){return{\u0275kind:n,\u0275providers:e}}const uo=new l.OlP("",{providedIn:"root",factory:()=>!1});function jI(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Yr),r=n.get(Dg);1===n.get(Ag)&&i.initialNavigation(),n.get(Ob,null,l.XFs.Optional)?.setUpPreloading(),n.get(BI,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Dg=new l.OlP(Ku?"bootstrap done indicator":"",{factory:()=>new un.x}),Ag=new l.OlP(Ku?"initial navigation":"",{providedIn:"root",factory:()=>1});function $I(){let n=[];return n=Ku?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Yr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function J1(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Qu(1,n)}const Ob=new l.OlP(Ku?"router preloader":"");function Ok(n){return Qu(0,[{provide:Ob,useExisting:LI},{provide:Ak,useExisting:n}])}const pl=!1,Pb=new l.OlP(pl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Nb=[_e,{provide:uf,useClass:Hy},Yr,mf,{provide:ju,useFactory:function UI(n){return n.routerState.root},deps:[Yr]},OI,pl?{provide:uo,useValue:!0}:[]];function ma(){return new l.PXZ("Router",Yr)}let Tf=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Nb,pl&&i?.enableTracing?$I().\u0275providers:[],{provide:Cf,multi:!0,useValue:t},{provide:Pb,useFactory:Lk,deps:[[Yr,new l.FiY,new l.tp0]]},{provide:Sf,useValue:i||{}},i?.useHash?{provide:Ve,useClass:Se}:{provide:Ve,useClass:Ee},{provide:BI,useFactory:()=>{const n=(0,l.f3M)(Hl),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(Sf),i=(0,l.f3M)(xf),r=(0,l.f3M)(uf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Vo(r,i,n,e,t)}},i?.preloadingStrategy?Ok(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:ma},i?.initialNavigation?Bk(i):[],[{provide:Fb,useFactory:jI},{provide:l.tb,multi:!0,useExisting:Fb}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Cf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pb,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$u]}),n})();function Lk(n){if(pl&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bk(n){return["disabled"===n.initialNavigation?Qu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Yr);return()=>{e.setUpLocationChangeListener()}}},{provide:Ag,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qu(2,[{provide:Ag,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Yr),c=e.get(Dg);(function i(r){e.get(Yr).events.pipe(Ti(c=>c instanceof Lo||c instanceof pf||c instanceof K1),(0,kt.U)(c=>c instanceof Lo||c instanceof pf&&(0===c.code||1===c.code)&&null),Ti(c=>null!==c),ao(1)).subscribe(()=>{r()})})(()=>{r(!0)}),e.get(xf).afterPreactivation=()=>(r(!0),c.closed?wt(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const Fb=new l.OlP(pl?"Router Initializer":"");function Uk(n,e){}class Df{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Mg=(()=>{class n extends Qh{constructor(t,i,r,o,c,d,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),x},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=du(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=du();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=du())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(aa),l.Y36(re,8),l.Y36(Df),l.Y36(Eu),l.Y36(l.R0b),l.Y36(nf),l.Y36($c))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(Ou,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,Uk,0,0,"ng-template",0)},dependencies:[Ou],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class kg{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new un.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!bh(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Lb=new l.OlP("DialogScrollStrategy"),GI=new l.OlP("DialogData"),WI=new l.OlP("DefaultDialogConfig"),Rg={provide:Lb,deps:[tc],useFactory:function qI(n){return()=>n.scrollStrategies.block()}};let Og=0,Bb=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,c,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new un.x,this._afterOpenedAtThisLevel=new un.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ai(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kr(void 0))),this._scrollStrategy=d}open(t,i){(i={...this._defaultOptions||new Df,...i}).id=i.id||"cdk-dialog-"+Og++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),d=new kg(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(t,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){Vb(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Vb(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Vb(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new rg({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:Df,useValue:r},{provide:kg,useValue:i},{provide:nf,useValue:t}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=Mg;const p=new il(d,r.viewContainerRef,l.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,i,r,o){if(t instanceof l.Rgc){const c=this._createInjector(o,i,r,void 0);let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Kh(t,null,d,c))}else{const c=this._createInjector(o,i,r,this._injector),d=r.attachComponentPortal(new il(t,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(t,i,r,o){const c=t.injector||t.viewContainerRef?.injector,d=[{provide:GI,useValue:t.data},{provide:kg,useValue:i}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(i,t,r)):d.push(...t.providers)),t.direction&&(!c||!c.get(ca,null,{optional:!0}))&&d.push({provide:ca,useValue:{value:t.direction,change:wt()}}),l.zs3.create({parent:c||o,providers:d})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tc),l.LFG(l.zs3),l.LFG(WI,8),l.LFG(n,12),l.LFG(og),l.LFG(Lb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Vb(n,e){let t=n.length;for(;t--;)e(n[t])}let zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Bb,Rg],imports:[sg,Xa,Mm,Xa]}),n})();function TV(n,e){}class Ub{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const YI="mdc-dialog--open",zb="mdc-dialog--opening",ZI="mdc-dialog--closing";let DV=(()=>{class n extends Mg{constructor(t,i,r,o,c,d,p,_){super(t,i,r,o,c,d,p,_),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(aa),l.Y36(re,8),l.Y36(Ub),l.Y36(Eu),l.Y36(l.R0b),l.Y36(nf),l.Y36($c))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const $k="--mat-dialog-transition-duration";function Gk(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Bv(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Bv(n.substring(0,n.length-1)):"0"===n?0:null}let AV=(()=>{class n extends DV{constructor(t,i,r,o,c,d,p,_,b){super(t,i,r,o,c,d,p,b),this._animationMode=_,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Gk(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Gk(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($k,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(zb),this._hostElement.classList.add(YI),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(YI),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(YI),this._animationsEnabled?(this._hostElement.style.setProperty($k,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(ZI),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(zb),this._hostElement.classList.remove(ZI)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(aa),l.Y36(re,8),l.Y36(Ub),l.Y36(Eu),l.Y36(l.R0b),l.Y36(nf),l.Y36(l.QbO,8),l.Y36($c))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[l.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,TV,0,0,"ng-template",2),l.qZA()())},dependencies:[Ou],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Wk{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new un.x,this._beforeClosed=new un.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Ti(r=>"opened"===r.state),ao(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ti(r=>"closed"===r.state),ao(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Nu.T)(this.backdropClick(),this.keydownEvents().pipe(Ti(r=>27===r.keyCode&&!this.disableClose&&!bh(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),KI(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ti(t=>"closing"===t.state),ao(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function KI(n,e,t){return n._closeInteractionType=e,n.close(t)}const Pg=new l.OlP("MatMdcDialogData"),qk=new l.OlP("mat-mdc-dialog-default-options"),QI=new l.OlP("mat-mdc-dialog-scroll-strategy"),gl={provide:QI,deps:[tc],useFactory:function XI(n){return()=>n.scrollStrategies.block()}};let jb=0,Hb=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,c,d,p,_,b,x){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new un.x,this._afterOpenedAtThisLevel=new un.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ub,this.afterAllClosed=ai(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(kr(void 0))),this._scrollStrategy=d,this._dialog=i.get(Bb)}open(t,i){let r;(i={...this._defaultOptions||new Ub,...i}).id=i.id||`${this._idPrefix}${jb++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Df,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$b=(()=>{class n extends Hb{constructor(t,i,r,o,c,d,p,_){super(t,i,o,d,p,c,Wk,AV,Pg,_),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tc),l.LFG(l.zs3),l.LFG(_e,8),l.LFG(qk,8),l.LFG(QI),l.LFG(n,12),l.LFG(og),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Gb=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function RV(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){KI(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wk,8),l.Y36(l.SBq),l.Y36($b))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i._onButtonClick(o)}),2&t&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),kV=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$b,gl],imports:[zk,sg,Xa,Gr,Gr]}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cart-modal"]],decls:11,vars:2,consts:[["dir","rtl"],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","",1,"bg-color",3,"mat-dialog-close"],["mat-raised-button","","mat-dialog-close","","color","warn",3,"mat-dialog-close"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div"),l._uU(3," \u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0639\u0645\u0644 \u0645\u0646 1 \u0645 \u0627\u0644\u064a 12 \u0635 "),l.qZA(),l.TgZ(4,"div"),l._uU(5," \u0633\u0648\u0641 \u064a\u0635\u0644\u0643 \u0627\u0644\u0637\u0644\u0628 \u0641\u064a \u0628\u062f\u0627\u064a\u0629 \u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0639\u0645\u0644 "),l.qZA()(),l.TgZ(6,"div",2)(7,"button",3),l._uU(8,"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u0637\u0644\u0628"),l.qZA(),l.TgZ(9,"button",4),l._uU(10,"\u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u0637\u0644\u0628"),l.qZA()()()),2&t&&(l.xp6(7),l.Q6J("mat-dialog-close",!0),l.xp6(2),l.Q6J("mat-dialog-close",!1))},dependencies:[Iu,Xc,Gb,MV,kV],styles:[".bg-color[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}"]}),n})(),Xu=(()=>{class n{constructor(t,i){this._snackBar=t,this.router=i,this.cartKey="cart",this.cart=new Si(this.getCartFromLocalStorage())}getCartFromLocalStorage(){const t=localStorage.getItem(this.cartKey);return t?JSON.parse(t):{items:[]}}updateLocalStorage(t){localStorage.setItem(this.cartKey,JSON.stringify(t))}addToCart(t){const i=[...this.cart.value.items],r=i.find(c=>c.id===t.id);r?r.quantity+=1:i.push(t);const o={items:i};this.cart.next(o),this.updateLocalStorage(o),this.snackBar("\u062a\u0645 \u0627\u0636\u0627\u0641\u0629 1 \u0645\u0646\u062a\u062c \u0644\u0644\u0639\u0631\u0628\u0629")}getTotal(t){return t.map(i=>i.amount*i.quantity).reduce((i,r)=>i+r,0)}clearCart(){this.cart.next({items:[]}),this.updateLocalStorage({items:[]}),this.router.navigate(["/home"]),this.snackBar("\u062a\u0645 \u0645\u0633\u062d \u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u0646 \u0627\u0644\u0639\u0631\u0628\u0629")}decreaseQuantity(t){let i,r=this.cart.value.items.map(o=>(o.id===t.id&&(o.quantity--,0===o.quantity&&(i=o)),o));i&&(r=this.removeItem(i,!1)),this.cart.next({items:r}),this.updateLocalStorage({items:r}),this.snackBar("\u062a\u0645 \u0645\u0633\u062d 1 \u0645\u0646\u062a\u062c \u0645\u0646 \u0627\u0644\u0639\u0631\u0628\u0629")}removeItem(t,i=!0){const r=this.cart.value.items.filter(o=>o.id!==t.id);return i&&(this.cart.next({items:r}),this.snackBar("\u062a\u0645 \u0645\u0633\u062d 1 \u0645\u0646\u062a\u062c \u0645\u0646 \u0627\u0644\u0639\u0631\u0628\u0629")),r}snackBar(t){this._snackBar.open(t,"Ok",{duration:2e3,panelClass:["green-snackbar"],horizontalPosition:"start",verticalPosition:"top"})}getQuantity(t){let i=[],r=0;return this.subscribiton=this.cart.subscribe(o=>(i=o.items,i.map(c=>{t.id===c.id&&(r=c.quantity)}),this.subscribiton?.unsubscribe(),r)),this.subscribiton?.unsubscribe(),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(A1),l.LFG(Yr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ct=L(8516);function Af(){return(0,Li.e)(function(n,e){var t,i=!1;n.subscribe(new mi.Q(e,function(r){var o=t;t=r,i&&e.next([o,r]),i=!0}))})}var Wt,bo=L(2011),Qk=(L(9568),L(3942)),Ae=L(5861),$n=L(9681),Ps=L(4859),os=L(1877),J=L(2090),Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ga={},eS=eS||{},pn=Yb||self;function Ng(){}function Fg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var tS="closure_uid_"+(1e9*Math.random()>>>0),FV=0;function LV(n,e,t){return n.call.apply(n.bind,arguments)}function BV(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LV:BV).apply(null,arguments)}function Zb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Or(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function _l(){this.s=this.s,this.o=this.o}_l.prototype.s=!1,_l.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function NV(n){Object.prototype.hasOwnProperty.call(n,tS)&&n[tS]||(n[tS]=++FV)}(this)},_l.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function nS(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function s(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Fg(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function a(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}a.prototype.h=function(){this.defaultPrevented=!0};var u=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pn.addEventListener("test",Ng,e),pn.removeEventListener("test",Ng,e)}catch{}return n}();function h(n){return/^[\s\xa0]*$/.test(n)}var f=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function m(n,e){return n<e?-1:n>e?1:0}function y(){var n=pn.navigator;return n&&(n=n.userAgent)?n:""}function C(n){return-1!=y().indexOf(n)}function I(n){return I[" "](n),n}I[" "]=Ng;var Rt,n,k=C("Opera"),z=C("Trident")||C("MSIE"),X=C("Edge"),ue=X||z,Pe=C("Gecko")&&!(-1!=y().toLowerCase().indexOf("webkit")&&!C("Edge"))&&!(C("Trident")||C("MSIE"))&&!C("Edge"),nt=-1!=y().toLowerCase().indexOf("webkit")&&!C("Edge");function ft(){var n=pn.document;return n?n.documentMode:void 0}e:{var en="",We=(n=y(),Pe?/rv:([^\);]+)(\)|;)/.exec(n):X?/Edge\/([\d\.]+)/.exec(n):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nt?/WebKit\/(\S+)/.exec(n):k?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(We&&(en=We?We[1]:""),z){var an=ft();if(null!=an&&an>parseFloat(en)){Rt=String(an);break e}}Rt=en}var ui={};var V8=pn.document&&z&&(ft()||parseInt(Rt,10))||void 0;function Kb(n,e){if(a.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pe){e:{try{I(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:U8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kb.X.h.call(this)}}Or(Kb,a);var U8={2:"touch",3:"pen",4:"mouse"};Kb.prototype.h=function(){Kb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qb="closure_listenable_"+(1e6*Math.random()|0),z8=0;function j8(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++z8,this.ba=this.ea=!1}function rS(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Jk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function zV(n){const e={};for(const t in n)e[t]=n[t];return e}const jV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<jV.length;o++)t=jV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function oS(n){this.src=n,this.g={},this.h=0}function eR(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=Xk(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(rS(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tR(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==i)return r}return-1}oS.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=tR(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new j8(e,this.src,o,!!i,r)).ea=t,n.push(e)),e};var nR="closure_lm_"+(1e6*Math.random()|0),iR={};function $V(n,e,t,i,r){if(i&&i.once)return WV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$V(n,e[o],t,i,r);return null}return t=aR(t),n&&n[Qb]?n.N(e,t,Mf(i)?!!i.capture:!!i,r):GV(n,e,t,!1,i,r)}function GV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var c=Mf(r)?!!r.capture:!!r,d=oR(n);if(d||(n[nR]=d=new oS(n)),(t=d.add(e,t,i,c,o)).proxy)return t;if(i=function H8(){const e=$8;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)u||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(YV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function WV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)WV(n,e[o],t,i,r);return null}return t=aR(t),n&&n[Qb]?n.O(e,t,Mf(i)?!!i.capture:!!i,r):GV(n,e,t,!0,i,r)}function qV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)qV(n,e[o],t,i,r);else i=Mf(i)?!!i.capture:!!i,t=aR(t),n&&n[Qb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tR(o=n.g[e],t,i,r))&&(rS(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=oR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tR(e,t,i,r)),(t=-1<n?e[n]:null)&&rR(t))}function rR(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Qb])eR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(YV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=oR(e))?(eR(t,n),0==t.h&&(t.src=null,e[nR]=null)):rS(n)}}}function YV(n){return n in iR?iR[n]:iR[n]="on"+n}function $8(n,e){if(n.ba)n=!0;else{e=new Kb(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&rR(n),n=t.call(i,e)}return n}function oR(n){return(n=n[nR])instanceof oS?n:null}var sR="__closure_events_fn_"+(1e9*Math.random()>>>0);function aR(n){return"function"==typeof n?n:(n[sR]||(n[sR]=function(e){return n.handleEvent(e)}),n[sR])}function Pr(){_l.call(this),this.i=new oS(this),this.P=this,this.I=null}function Zr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new a(e,n);else if(e instanceof a)e.target=e.target||n;else{var r=e;HV(e=new a(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];r=sS(c,i,!0,e)&&r}if(r=sS(c=e.g=n,i,!0,e)&&r,r=sS(c,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=sS(c=e.g=t[o],i,!1,e)&&r}function sS(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ba&&c.capture==t){var d=c.listener,p=c.ha||c.src;c.ea&&eR(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Or(Pr,_l),Pr.prototype[Qb]=!0,Pr.prototype.removeEventListener=function(n,e,t,i){qV(this,n,e,t,i)},Pr.prototype.M=function(){if(Pr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)rS(t[i]);delete n.g[e],n.h--}}this.I=null},Pr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Pr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var cR=pn.JSON.stringify;function G8(){var n=QV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lR,ZV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new q8,n=>n.reset());class q8{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Y8(n){pn.setTimeout(()=>{throw n},0)}function KV(n,e){lR||function Z8(){var n=pn.Promise.resolve(void 0);lR=function(){n.then(K8)}}(),uR||(lR(),uR=!0),QV.add(n,e)}var uR=!1,QV=new class W8{constructor(){this.h=this.g=null}add(e,t){const i=ZV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function K8(){for(var n;n=G8();){try{n.h.call(n.g)}catch(t){Y8(t)}var e=ZV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uR=!1}function aS(n,e){Pr.call(this),this.h=n||1,this.g=e||pn,this.j=Rr(this.lb,this),this.l=Date.now()}function dR(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hR(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:pn.setTimeout(n,e||0)}function XV(n){n.g=hR(()=>{n.g=null,n.i&&(n.i=!1,XV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Or(aS,Pr),(Wt=aS.prototype).ca=!1,Wt.R=null,Wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zr(this,"tick"),this.ca&&(dR(this),this.start()))}},Wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wt.M=function(){aS.X.M.call(this),dR(this),delete this.g};class Q8 extends _l{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XV(this)}M(){super.M(),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xb(n){_l.call(this),this.h=n,this.g={}}Or(Xb,_l);var JV=[];function eU(n,e,t,i){Array.isArray(t)||(t&&(JV[0]=t.toString()),t=JV);for(var r=0;r<t.length;r++){var o=$V(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function tU(n){Jk(n.g,function(e,t){this.g.hasOwnProperty(t)&&rR(e)},n),n.g={}}function cS(){this.g=!0}function Lg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tq(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return cR(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Xb.prototype.M=function(){Xb.X.M.call(this),tU(this)},Xb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cS.prototype.Aa=function(){this.g=!1},cS.prototype.info=function(){};var kf={},nU=null;function lS(){return nU=nU||new Pr}function iU(n){a.call(this,kf.Pa,n)}function Jb(n){const e=lS();Zr(e,new iU(e))}function rU(n,e){a.call(this,kf.STAT_EVENT,n),this.stat=e}function wo(n){const e=lS();Zr(e,new rU(e,n))}function oU(n,e){a.call(this,kf.Qa,n),this.size=e}function e0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pn.setTimeout(function(){n()},e)}kf.Pa="serverreachability",Or(iU,a),kf.STAT_EVENT="statevent",Or(rU,a),kf.Qa="timingevent",Or(oU,a);var uS={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fR(){}function cU(){}fR.prototype.h=null;var gR,t0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pR(){a.call(this,"d")}function mR(){a.call(this,"c")}function dS(){}function n0(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Xb(this),this.O=nq,this.T=new aS(n=ue?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new lU}function lU(){this.i=null,this.g="",this.h=!1}Or(pR,a),Or(mR,a),Or(dS,fR),dS.prototype.g=function(){return new XMLHttpRequest},dS.prototype.i=function(){return{}},gR=new dS;var nq=45e3,_R={},hS={};function vR(n,e,t){n.K=1,n.v=gS(vl(e)),n.s=t,n.P=!0,uU(n,null)}function uU(n,e){n.F=Date.now(),r0(n),n.A=vl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),bU(t.i,"t",i),n.C=0,t=n.l.H,n.h=new lU,n.g=$U(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Q8(Rr(n.La,n,n.g),n.N)),eU(n.S,n.g,"readystatechange",n.ib),e=n.H?zV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Jb(),function X8(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var x=b.split("_");c=2<=x.length&&"type"==x[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function dU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function hU(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=iq(n,t),r==hS){4==e&&(n.o=4,wo(14),i=!1),Lg(n.j,n.m,null,"[Incomplete Response]");break}if(r==_R){n.o=4,wo(15),Lg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Lg(n.j,n.m,r,null),yR(n,r)}dU(n)&&r!=hS&&r!=_R&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),TR(e),e.K=!0,wo(11))):(Lg(n.j,n.m,t,"[Invalid Chunked Response]"),Rf(n),o0(n))}function iq(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?hS:(t=Number(e.substring(t,i)),isNaN(t)?_R:(i+=1)+t>e.length?hS:(e=e.substr(i,t),n.C=i+t,e))}function r0(n){n.V=Date.now()+n.O,fU(n,n.O)}function fU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=e0(Rr(n.gb,n),e)}function fS(n){n.B&&(pn.clearTimeout(n.B),n.B=null)}function o0(n){0==n.l.G||n.I||UU(n.l,n)}function Rf(n){fS(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dR(n.T),tU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||bR(t.h,n)))if(!n.J&&bR(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;CS(t),bS(t)}SR(t),wo(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=e0(Rr(t.cb,t),6e3));if(1>=EU(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Pf(t,11)}else if((n.J||t.g==n)&&CS(t),!h(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const b=_[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const x=_[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const T=_[5];null!=T&&"number"==typeof T&&0<T&&(t.J=i=1.5*T,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const M=n.g;if(M){const N=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var o=i.h;o.g||-1==N.indexOf("spdy")&&-1==N.indexOf("quic")&&-1==N.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wR(o,o.h),o.h=null))}if(i.D){const q=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.za=q,Ai(i.F,i.D,q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=HU(i,i.H?i.ka:null,i.V),c.J){xU(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(fS(d),r0(d)),i.g=c}else BU(i);0<t.i.length&&wS(t)}else"stop"!=_[0]&&"close"!=_[0]||Pf(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Pf(t,7):IR(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Jb()}catch{}}function pU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function oq(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function rq(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fg(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(Wt=n0.prototype).setTimeout=function(n){this.O=n},Wt.ib=function(n){n=n.target;const e=this.L;e&&3==yl(n)?e.l():this.La(n)},Wt.La=function(n){try{if(n==this.g)e:{const b=yl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||ue||this.g&&(this.h.h||this.g.fa()||RU(this.g)))){this.I||4!=b||7==e||Jb(),fS(this);var t=this.g.aa();this.Y=t;t:if(dU(this)){var i=RU(this.g);n="";var r=i.length,o=4==yl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rf(this),o0(this);var c="";break t}this.h.i=new pn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function J8(n,e,t,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!h(d)){var _=d;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,wo(12),Rf(this),o0(this);break e}Lg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yR(this,t)}this.P?(hU(this,b,c),ue&&this.i&&3==b&&(eU(this.S,this.T,"tick",this.hb),this.T.start())):(Lg(this.j,this.m,c,null),yR(this,c)),4==b&&Rf(this),this.i&&!this.I&&(4==b?UU(this.l,this):(this.i=!1,r0(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,wo(12)):(this.o=0,wo(13)),Rf(this),o0(this)}}}catch{}},Wt.hb=function(){if(this.g){var n=yl(this.g),e=this.g.fa();this.C<e.length&&(fS(this),hU(this,n,e),this.i&&4!=n&&r0(this))}},Wt.cancel=function(){this.I=!0,Rf(this)},Wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function eq(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jb(),wo(17)),Rf(this),this.o=2,o0(this)):fU(this,this.V-n)};var mU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Of){this.h=void 0!==e?e:n.h,pS(this,n.j),this.s=n.s,this.g=n.g,mS(this,n.m),this.l=n.l,e=n.i;var t=new c0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gU(this,t),this.o=n.o}else n&&(t=String(n).match(mU))?(this.h=!!e,pS(this,t[1]||"",!0),this.s=s0(t[2]||""),this.g=s0(t[3]||"",!0),mS(this,t[4]),this.l=s0(t[5]||"",!0),gU(this,t[6]||"",!0),this.o=s0(t[7]||"")):(this.h=!!e,this.i=new c0(null,this.h))}function vl(n){return new Of(n)}function pS(n,e,t){n.j=t?s0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gU(n,e,t){e instanceof c0?(n.i=e,function hq(n,e){e&&!n.j&&(Ju(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(vU(this,i),bU(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=a0(e,uq)),n.i=new c0(e,n.h))}function Ai(n,e,t){n.i.set(e,t)}function gS(n){return Ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function s0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function a0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Of.prototype.toString=function(){var n=[],e=this.j;e&&n.push(a0(e,_U,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(a0(e,_U,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(a0(t,"/"==t.charAt(0)?lq:cq,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",a0(t,dq)),n.join("")};var _U=/[#\/\?@]/g,cq=/[#\?:]/g,lq=/[#\?]/g,uq=/[#\?@]/g,dq=/#/g;function c0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ju(n){n.g||(n.g=new Map,n.h=0,n.i&&function sq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vU(n,e){Ju(n),e=Bg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yU(n,e){return Ju(n),e=Bg(n,e),n.g.has(e)}function bU(n,e,t){vU(n,e),0<t.length&&(n.i=null,n.g.set(Bg(n,e),nS(t)),n.h+=t.length)}function Bg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wU(n){this.l=n||pq,n=pn.PerformanceNavigationTiming?0<(n=pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pn.g&&pn.g.Ga&&pn.g.Ga()&&pn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Wt=c0.prototype).add=function(n,e){Ju(this),this.i=null,n=Bg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Wt.forEach=function(n,e){Ju(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Wt.oa=function(){Ju(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},Wt.W=function(n){Ju(this);let e=[];if("string"==typeof n)yU(this,n)&&(e=e.concat(this.g.get(Bg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Wt.set=function(n,e){return Ju(this),this.i=null,yU(this,n=Bg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var pq=10;function CU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EU(n){return n.h?1:n.g?n.g.size:0}function bR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wR(n,e){n.g?n.g.add(e):n.h=e}function xU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function IU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nS(n.i)}function CR(){}function mq(){this.g=new CR}function gq(n,e,t){const i=t||"";try{pU(n,function(r,o){let c=r;Mf(r)&&(c=cR(r)),e.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function _S(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function l0(n){this.l=n.ac||null,this.j=n.jb||!1}function vS(n,e){Pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ER,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wU.prototype.cancel=function(){if(this.i=IU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},CR.prototype.stringify=function(n){return pn.JSON.stringify(n,void 0)},CR.prototype.parse=function(n){return pn.JSON.parse(n,void 0)},Or(l0,fR),l0.prototype.g=function(){return new vS(this.l,this.j)},l0.prototype.i=function(n){return function(){return n}}({}),Or(vS,Pr);var ER=0;function SU(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function u0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,d0(n)}function d0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Wt=vS.prototype).open=function(n,e){if(this.readyState!=ER)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,d0(this)},Wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||pn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,u0(this)),this.readyState=ER},Wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,d0(this)),this.g&&(this.readyState=3,d0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SU(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?u0(this):d0(this),3==this.readyState&&SU(this)}},Wt.Va=function(n){this.g&&(this.response=this.responseText=n,u0(this))},Wt.Ua=function(n){this.g&&(this.response=n,u0(this))},Wt.ga=function(){this.g&&u0(this)},Wt.setRequestHeader=function(n,e){this.v.append(n,e)},Wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vq=pn.JSON.parse;function Zi(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TU,this.K=this.L=!1}Or(Zi,Pr);var TU="",yq=/^https?$/i,bq=["POST","PUT"];function DU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AU(n),yS(n)}function AU(n){n.D||(n.D=!0,Zr(n,"complete"),Zr(n,"error"))}function MU(n){if(n.h&&typeof eS<"u"&&(!n.C[1]||4!=yl(n)||2!=n.aa()))if(n.v&&4==yl(n))hR(n.Ha,0,n);else if(Zr(n,"readystatechange"),4==yl(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(mU)[1]||null;if(!r&&pn.self&&pn.self.location){var o=pn.self.location.protocol;r=o.substr(0,o.length-1)}i=!yq.test(r?r.toLowerCase():"")}t=i}if(t)Zr(n,"complete"),Zr(n,"success");else{n.m=6;try{var c=2<yl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",AU(n)}}finally{yS(n)}}}function yS(n,e){if(n.g){kU(n);const t=n.g,i=n.C[0]?Ng:null;n.g=null,n.C=null,e||Zr(n,"ready");try{t.onreadystatechange=i}catch{}}}function kU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pn.clearTimeout(n.A),n.A=null)}function yl(n){return n.g?n.g.readyState:0}function RU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case TU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function OU(n){let e="";return Jk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function xR(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=OU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ai(n,e,t))}function h0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function PU(n){this.Ca=0,this.i=[],this.j=new cS,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=h0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=h0("baseRetryDelayMs",5e3,n),this.bb=h0("retryDelaySeedMs",1e4,n),this.$a=h0("forwardChannelMaxRetries",2,n),this.ta=h0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new wU(n&&n.concurrentRequestLimit),this.Fa=new mq,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function IR(n){if(NU(n),3==n.G){var e=n.U++,t=vl(n.F);Ai(t,"SID",n.I),Ai(t,"RID",e),Ai(t,"TYPE","terminate"),f0(n,t),(e=new n0(n,n.j,e,void 0)).K=2,e.v=gS(vl(t)),t=!1,pn.navigator&&pn.navigator.sendBeacon&&(t=pn.navigator.sendBeacon(e.v.toString(),"")),!t&&pn.Image&&((new Image).src=e.v,t=!0),t||(e.g=$U(e.l,null),e.g.da(e.v)),e.F=Date.now(),r0(e)}jU(n)}function bS(n){n.g&&(TR(n),n.g.cancel(),n.g=null)}function NU(n){bS(n),n.u&&(pn.clearTimeout(n.u),n.u=null),CS(n),n.h.cancel(),n.m&&("number"==typeof n.m&&pn.clearTimeout(n.m),n.m=null)}function wS(n){CU(n.h)||n.m||(n.m=!0,KV(n.Ja,n),n.C=0)}function FU(n,e){var t;t=e?e.m:n.U++;const i=vl(n.F);Ai(i,"SID",n.I),Ai(i,"RID",t),Ai(i,"AID",n.T),f0(n,i),n.o&&n.s&&xR(i,n.o,n.s),t=new n0(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=LU(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wR(n.h,t),vR(t,i,e)}function f0(n,e){n.ia&&Jk(n.ia,function(t,i){Ai(e,i,t)}),n.l&&pU({},function(t,i){Ai(e,i,t)})}function LU(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Rr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let p=0;p<t;p++){let _=r[p].h;const b=r[p].g;if(_-=o,0>_)o=Math.max(0,r[p].h-100),d=!1;else try{gq(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function BU(n){n.g||n.u||(n.Z=1,KV(n.Ia,n),n.A=0)}function SR(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=e0(Rr(n.Ia,n),zU(n,n.A)),n.A++,0))}function TR(n){null!=n.B&&(pn.clearTimeout(n.B),n.B=null)}function VU(n){n.g=new n0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=vl(n.sa);Ai(e,"RID","rpc"),Ai(e,"SID",n.I),Ai(e,"CI",n.L?"0":"1"),Ai(e,"AID",n.T),Ai(e,"TYPE","xmlhttp"),f0(n,e),n.o&&n.s&&xR(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=gS(vl(e)),t.s=null,t.P=!0,uU(t,n)}function CS(n){null!=n.v&&(pn.clearTimeout(n.v),n.v=null)}function UU(n,e){var t=null;if(n.g==e){CS(n),TR(n),n.g=null;var i=2}else{if(!bR(n.h,e))return;t=e.D,xU(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Zr(i=lS(),new oU(i,t)),wS(n)}else BU(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function Cq(n,e){return!(EU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=e0(Rr(n.Ja,n,e),zU(n,n.C)),n.C++,0)))}(n,e)||2==i&&SR(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Pf(n,5);break;case 4:Pf(n,10);break;case 3:Pf(n,6);break;default:Pf(n,2)}}function zU(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Pf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Rr(n.kb,n);t||(t=new Of("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||pS(t,"https"),gS(t)),function _q(n,e){const t=new cS;if(pn.Image){const i=new Image;i.onload=Zb(_S,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Zb(_S,t,i,"TestLoadImage: error",!1,e),i.onabort=Zb(_S,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zb(_S,t,i,"TestLoadImage: timeout",!1,e),pn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else wo(2);n.G=0,n.l&&n.l.va(e),jU(n),NU(n)}function jU(n){if(n.G=0,n.la=[],n.l){const e=IU(n.h);(0!=e.length||0!=n.i.length)&&(s(n.la,e),s(n.la,n.i),n.h.i.length=0,nS(n.i),n.i.length=0),n.l.ua()}}function HU(n,e,t){var i=t instanceof Of?vl(t):new Of(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),mS(i,i.m);else{var r=pn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Of(null,void 0);i&&pS(o,i),e&&(o.g=e),r&&mS(o,r),t&&(o.l=t),i=o}return e=n.za,(t=n.D)&&e&&Ai(i,t,e),Ai(i,"VER",n.ma),f0(n,i),i}function $U(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zi(t&&n.Da&&!n.ra?new l0({jb:!0}):n.ra)).Ka(n.H),e}function GU(){}function ES(){if(z&&!(10<=Number(V8)))throw Error("Environmental error: no available transport.")}function ss(n,e){Pr.call(this),this.g=new PU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!h(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!h(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vg(this)}function WU(n){pR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qU(){mR.call(this),this.status=1}function Vg(n){this.g=n}(Wt=Zi.prototype).Ka=function(n){this.L=n},Wt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gR.g(),this.C=function aU(n){return n.h||(n.h=n.i())}(this.u?this.u:gR),this.g.onreadystatechange=Rr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void DU(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=pn.FormData&&n instanceof pn.FormData,!(0<=Xk(bq,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kU(this),0<this.B&&((this.K=function wq(n){return z&&function zi(){return function S(n){var e=ui;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=f(String(Rt)).split("."),t=f("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",o=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=m(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||m(0==r[2].length,0==o[2].length)||m(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.qa,this)):this.A=hR(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){DU(this,o)}},Wt.qa=function(){typeof eS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},Wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zr(this,"complete"),Zr(this,"abort"),yS(this))},Wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yS(this,!0)),Zi.X.M.call(this)},Wt.Ha=function(){this.s||(this.F||this.v||this.l?MU(this):this.fb())},Wt.fb=function(){MU(this)},Wt.aa=function(){try{return 2<yl(this)?this.g.status:-1}catch{return-1}},Wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vq(e)}},Wt.Ea=function(){return this.m},Wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wt=PU.prototype).ma=8,Wt.G=1,Wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new n0(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=zV(o),HV(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LU(this,r,e),Ai(t=vl(this.F),"RID",n),Ai(t,"CVER",22),this.D&&Ai(t,"X-HTTP-Session-Id",this.D),f0(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(OU(o)))+"&"+e:this.o&&xR(t,this.o,o)),wR(this.h,r),this.Ya&&Ai(t,"TYPE","init"),this.O?(Ai(t,"$req",e),Ai(t,"SID","null"),r.Z=!0,vR(r,t,null)):vR(r,t,e),this.G=2}}else 3==this.G&&(n?FU(this,n):0==this.i.length||CU(this.h)||FU(this))},Wt.Ia=function(){if(this.u=null,VU(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=e0(Rr(this.eb,this),n)}},Wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wo(10),bS(this),VU(this))},Wt.cb=function(){null!=this.v&&(this.v=null,bS(this),SR(this),wo(19))},Wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),wo(2)):(this.j.info("Failed to ping google.com"),wo(1))},(Wt=GU.prototype).xa=function(){},Wt.wa=function(){},Wt.va=function(){},Wt.ua=function(){},Wt.Ra=function(){},ES.prototype.g=function(n,e){return new ss(n,e)},Or(ss,Pr),ss.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;wo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=HU(n,null,n.V),wS(n)},ss.prototype.close=function(){IR(this.g)},ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=cR(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&wS(e)},ss.prototype.M=function(){this.g.l=null,delete this.j,IR(this.g),delete this.g,ss.X.M.call(this)},Or(WU,pR),Or(qU,mR),Or(Vg,GU),Vg.prototype.xa=function(){Zr(this.g,"a")},Vg.prototype.wa=function(n){Zr(this.g,new WU(n))},Vg.prototype.va=function(n){Zr(this.g,new qU)},Vg.prototype.ua=function(){Zr(this.g,"b")},ES.prototype.createWebChannel=ES.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,uS.NO_ERROR=0,uS.TIMEOUT=8,uS.HTTP_ERROR=6,sU.COMPLETE="complete",cU.EventType=t0,t0.OPEN="a",t0.CLOSE="b",t0.ERROR="c",t0.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.Oa,Zi.prototype.getLastErrorCode=Zi.prototype.Ea,Zi.prototype.getStatus=Zi.prototype.aa,Zi.prototype.getResponseJson=Zi.prototype.Sa,Zi.prototype.getResponseText=Zi.prototype.fa,Zi.prototype.send=Zi.prototype.da,Zi.prototype.setWithCredentials=Zi.prototype.Ka;var Eq=ga.createWebChannelTransport=function(){return new ES},xq=ga.getStatEventTarget=function(){return lS()},DR=ga.ErrorCode=uS,Iq=ga.EventType=sU,Sq=ga.Event=kf,YU=ga.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Tq=ga.FetchXmlHttpFactory=l0,xS=ga.WebChannel=cU,Dq=ga.XhrIo=Zi;const ZU="@firebase/firestore";class Nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Ug="9.17.1";const ed=new os.Yd("@firebase/firestore");function AR(){return ed.logLevel}function et(n,...e){if(ed.logLevel<=os.in.DEBUG){const t=e.map(MR);ed.debug(`Firestore (${Ug}): ${n}`,...t)}}function or(n,...e){if(ed.logLevel<=os.in.ERROR){const t=e.map(MR);ed.error(`Firestore (${Ug}): ${n}`,...t)}}function Nf(n,...e){if(ed.logLevel<=os.in.WARN){const t=e.map(MR);ed.warn(`Firestore (${Ug}): ${n}`,...t)}}function MR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nt(n="Unexpected state"){const e=`FIRESTORE (${Ug}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function Yt(n,e){n||Nt()}function bt(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends J.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nr.UNAUTHENTICATED))}shutdown(){}}class Rq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Oq{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable((0,Ae.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},p=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt("string"==typeof i.accessToken),new KU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new Nr(e)}}class Pq{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Yt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Nq{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Pq(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fq{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=o=>{null!=o.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,et("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt("string"==typeof t.token),this.A=t.token,new QU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class XU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Lq(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function vn(n,e){return n<e?-1:n>e?1:0}function zg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function JU(n){return n+"\0"}class Mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mi.fromMillis(Date.now())}static fromDate(e){return Mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new Mi(0,0))}static max(){return new Qt(new Mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class p0{constructor(e,t,i){void 0===t?t=0:t>e.length&&Nt(),void 0===i?i=e.length-t:i>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===p0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof p0?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),c=t.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gn extends p0{construct(e,t,i){return new Gn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Gn(t)}static emptyPath(){return new Gn([])}}const Bq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends p0{construct(e,t,i){return new Ki(e,t,i)}static isValidIdentifier(e){return Bq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new qe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new qe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new qe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new qe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)}static emptyPath(){return new Ki([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Gn.fromString(e))}static fromName(e){return new gt(Gn.fromString(e).popFirst(5))}static empty(){return new gt(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Gn(e.slice()))}}class IS{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function kR(n){return n.fields.find(e=>2===e.kind)}function Ff(n){return n.fields.filter(e=>2!==e.kind)}IS.UNKNOWN_ID=-1;class SS{constructor(e,t){this.fieldPath=e,this.kind=t}}class m0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new m0(0,as.min())}}function e6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Qt.fromTimestamp(1e9===i?new Mi(t+1,0):new Mi(t,i));return new as(r,gt.empty(),e)}function t6(n){return new as(n.readTime,n.key,-1)}class as{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new as(Qt.min(),gt.empty(),-1)}static max(){return new as(Qt.max(),gt.empty(),-1)}}function RR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:vn(n.largestBatchId,e.largestBatchId))}const n6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function td(n){return OR.apply(this,arguments)}function OR(){return OR=(0,Ae.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==n6)throw n;et("LocalStore","Unexpectedly lost primary lease")}),OR.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let r=0,o=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&t()},p=>i(p))}),c=!0,o===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(r=>r?Ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,r)=>{const o=e.length,c=new Array(o);let d=0;for(let p=0;p<o;p++){const _=p;t(e[_]).next(b=>{c[_]=b,++d,d===o&&i(c)},b=>r(b))}})}static doWhile(e,t){return new Ce((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class TS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new br,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new g0(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=PR(i.target.error);this.P.reject(new g0(e,r))}}static open(e,t,i,r){try{return new TS(t,e.transaction(r,i))}catch(o){throw new g0(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jq(t)}}class _a{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===_a.D((0,J.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return et("SimpleDb","Removing database:",e),Lf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,J.hl)())return!1;if(_a.N())return!0;const e=(0,J.z$)(),t=_a.D(e),i=0<t&&t<10,r=_a.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new g0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new qe(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new qe(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new g0(e,d))},o.onupgradeneeded=c=>{et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,Ae.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{o.db=yield o.F(e);const p=TS.open(o.db,e,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),Ce.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(et("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zq{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Lf(this.q.delete())}}class g0 extends qe{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function nd(n){return"IndexedDbTransactionError"===n.name}class jq{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(et("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Lf(i)}add(e){return et("SimpleDb","ADD",this.store.name,e,e),Lf(this.store.add(e))}get(e){return Lf(this.store.get(e)).next(t=>(void 0===t&&(t=null),et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return et("SimpleDb","DELETE",this.store.name,e),Lf(this.store.delete(e))}count(){return et("SimpleDb","COUNT",this.store.name),Lf(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ce((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ce((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(o,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new Ce((i,r)=>{t.onerror=o=>{const c=PR(o.target.error);r(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(e,t){const i=[];return new Ce((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new zq(d),_=t(d.primaryKey,d.value,p);if(_ instanceof Ce){const b=_.catch(x=>(p.done(),Ce.reject(x)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>Ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lf(n){return new Ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=PR(i.target.error);t(r)}})}let r6=!1;function PR(n){const e=_a.D((0,J.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r6||(r6=!0,setTimeout(()=>{throw i},0)),i}}return n}class Hq{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{et("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){nd(i)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield td(i)}yield t.nt(6e4)}))}}class $q{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,o=!0;return Ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return et("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,i.add(c)});o=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,o)).next(d=>(et("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,o)=>{const c=t6(o);RR(c,i)>0&&(i=c)}),new as(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let cs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Gq{constructor(e,t,i,r,o,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class id{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new id("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}function o6(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _0(n){return null==n}function v0(n){return 0===n&&1/n==-1/0}function a6(n){return"number"==typeof n&&Number.isInteger(n)&&!v0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const qq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(n){if(Yt(!!n),"string"==typeof n){let e=0;const t=qq.exec(n);if(Yt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vf(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function NR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function c6(n){const e=n.mapValue.fields.__previous_value__;return NR(e)?c6(e):e}function y0(n){const e=rd(n.mapValue.fields.__local_write_time__.timestampValue);return new Mi(e.seconds,e.nanos)}const od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DS={nullValue:"NULL_VALUE"};function Uf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NR(n)?4:h6(n)?9007199254740991:10:Nt()}function sc(n,e){if(n===e)return!0;const t=Uf(n);if(t!==Uf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return y0(n).isEqual(y0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=rd(i.timestampValue),c=rd(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Vf(n.bytesValue).isEqual(Vf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Qi(i.geoPointValue.latitude)===Qi(r.geoPointValue.latitude)&&Qi(i.geoPointValue.longitude)===Qi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Qi(i.integerValue)===Qi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Qi(i.doubleValue),c=Qi(r.doubleValue);return o===c?v0(o)===v0(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return zg(n.arrayValue.values||[],e.arrayValue.values||[],sc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(o6(o)!==o6(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!sc(o[d],c[d])))return!1;return!0}(n,e);default:return Nt()}var r}function b0(n,e){return void 0!==(n.values||[]).find(t=>sc(t,e))}function sd(n,e){if(n===e)return 0;const t=Uf(n),i=Uf(e);if(t!==i)return vn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return vn(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Qi(r.integerValue||r.doubleValue),d=Qi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return l6(n.timestampValue,e.timestampValue);case 4:return l6(y0(n),y0(e));case 5:return vn(n.stringValue,e.stringValue);case 6:return function(r,o){const c=Vf(r),d=Vf(o);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=vn(c[p],d[p]);if(0!==_)return _}return vn(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=vn(Qi(r.latitude),Qi(o.latitude));return 0!==c?c:vn(Qi(r.longitude),Qi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=sd(c[p],d[p]);if(_)return _}return vn(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===od.mapValue&&o===od.mapValue)return 0;if(r===od.mapValue)return 1;if(o===od.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=o.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const x=vn(d[b],_[b]);if(0!==x)return x;const T=sd(c[d[b]],p[_[b]]);if(0!==T)return T}return vn(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Nt()}}function l6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return vn(n,e);const t=rd(n),i=rd(e),r=vn(t.seconds,i.seconds);return 0!==r?r:vn(t.nanos,i.nanos)}function jg(n){return FR(n)}function FR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=rd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vf(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=FR(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${FR(i.fields[d])}`;return o+"}"}(n.mapValue):Nt();var e}function zf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function LR(n){return!!n&&"integerValue"in n}function w0(n){return!!n&&"arrayValue"in n}function u6(n){return!!n&&"nullValue"in n}function d6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AS(n){return!!n&&"mapValue"in n}function C0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=C0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=C0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yq(n){return"nullValue"in n?DS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zf(id.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Nt()}function Zq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zf(id.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?od:Nt()}function f6(n,e){const t=sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function p6(n,e){const t=sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ad{constructor(e,t){this.position=e,this.inclusive=t}}function m6(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(i=o.field.isKeyField()?gt.comparator(gt.fromName(c.referenceValue),t.key):sd(c,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function g6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sc(n.position[t],e.position[t]))return!1;return!0}class _6{}class Nn extends _6{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Kq(e,t,i):"array-contains"===t?new Jq(e,i):"in"===t?new E6(e,i):"not-in"===t?new e7(e,i):"array-contains-any"===t?new t7(e,i):new Nn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Qq(e,i):new Xq(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sd(t,this.value)):null!==t&&Uf(this.value)===Uf(t)&&this.matchesComparison(sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ti extends _6{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ti(e,t)}matches(e){return Hg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Hg(n){return"and"===n.op}function BR(n){return"or"===n.op}function VR(n){return v6(n)&&Hg(n)}function v6(n){for(const e of n.filters)if(e instanceof ti)return!1;return!0}function UR(n){if(n instanceof Nn)return n.field.canonicalString()+n.op.toString()+jg(n.value);if(VR(n))return n.filters.map(e=>UR(e)).join(",");{const e=n.filters.map(t=>UR(t)).join(",");return`${n.op}(${e})`}}function y6(n,e){return n instanceof Nn?(t=n,(i=e)instanceof Nn&&t.op===i.op&&t.field.isEqual(i.field)&&sc(t.value,i.value)):n instanceof ti?function(t,i){return i instanceof ti&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,c)=>r&&y6(o,i.filters[c]),!0)}(n,e):void Nt();var t,i}function b6(n,e){const t=n.filters.concat(e);return ti.create(t,n.op)}function w6(n){return n instanceof Nn?`${(e=n).field.canonicalString()} ${e.op} ${jg(e.value)}`:n instanceof ti?function(e){return e.op.toString()+" {"+e.getFilters().map(w6).join(" ,")+"}"}(n):"Filter";var e}class Kq extends Nn{constructor(e,t,i){super(e,t,i),this.key=gt.fromName(i.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qq extends Nn{constructor(e,t){super(e,"in",t),this.keys=C6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xq extends Nn{constructor(e,t){super(e,"not-in",t),this.keys=C6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>gt.fromName(i.referenceValue))}class Jq extends Nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w0(t)&&b0(t.arrayValue,this.value)}}class E6 extends Nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&b0(this.value.arrayValue,t)}}class e7 extends Nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(b0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!b0(this.value.arrayValue,t)}}class t7 extends Nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>b0(this.value.arrayValue,i))}}class $g{constructor(e,t="asc"){this.field=e,this.dir=t}}function n7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xi{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new Xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new Xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new MS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new MS(this.root,e,this.comparator,!1)}getReverseIterator(){return new MS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new MS(this.root,e,this.comparator,!0)}}class MS{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=o??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Kr(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oi{constructor(e){this.comparator=e,this.data=new Xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x6(this.data.getIterator())}getIteratorFrom(e){return new x6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oi(this.comparator);return t.data=e,t}}class x6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gg(n){return n.hasNext()?n.getNext():void 0}class Uo{constructor(e){this.fields=e,e.sort(Ki.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new oi(Ki.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!AS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=C0(t)}setAll(e){let t=Ki.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=C0(c):r.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());AS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];AS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Bf(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Qr(C0(this.value))}}function I6(n){const e=[];return Bf(n.fields,(t,i)=>{const r=new Ki([t]);if(AS(i)){const o=I6(i.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new Uo(e)}class _i{constructor(e,t,i,r,o,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _i(e,0,Qt.min(),Qt.min(),Qt.min(),Qr.empty(),0)}static newFoundDocument(e,t,i,r){return new _i(e,1,t,Qt.min(),i,r,0)}static newNoDocument(e,t){return new _i(e,2,t,Qt.min(),Qt.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,Qt.min(),Qt.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class i7{constructor(e,t=null,i=[],r=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ft=null}}function zR(n,e=null,t=[],i=[],r=null,o=null,c=null){return new i7(n,e,t,i,r,o,c)}function jf(n){const e=bt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>UR(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),_0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jg(i)).join(",")),e.ft=t}return e.ft}function E0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!y6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!g6(n.startAt,e.startAt)&&g6(n.endAt,e.endAt)}function kS(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function RS(n,e){return n.filters.filter(t=>t instanceof Nn&&t.field.isEqual(e))}function S6(n,e,t){let i=DS,r=!0;for(const o of RS(n,e)){let c=DS,d=!0;switch(o.op){case"<":case"<=":c=Yq(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=DS}f6({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];f6({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function T6(n,e,t){let i=od,r=!0;for(const o of RS(n,e)){let c=od,d=!0;switch(o.op){case">=":case">":c=Zq(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=od}p6({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];p6({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class bl{constructor(e,t=null,i=[],r=[],o=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.dt=null,this._t=null}}function D6(n,e,t,i,r,o,c,d){return new bl(n,e,t,i,r,o,c,d)}function Wg(n){return new bl(n)}function A6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function OS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function HR(n){return null!==n.collectionGroup}function Hf(n){const e=bt(n);if(null===e.dt){e.dt=[];const t=OS(e),i=jR(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new $g(t)),e.dt.push(new $g(Ki.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $g(Ki.keyField(),o))}}}return e.dt}function Co(n){const e=bt(n);if(!e._t)if("F"===e.limitType)e._t=zR(e.path,e.collectionGroup,Hf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Hf(e))t.push(new $g(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new ad(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ad(e.startAt.position,e.startAt.inclusive):null;e._t=zR(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function $R(n,e){e.getFirstInequalityField(),OS(n);const t=n.filters.concat([e]);return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function PS(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function x0(n,e){return E0(Co(n),Co(e))&&n.limitType===e.limitType}function M6(n){return`${jf(Co(n))}|lt:${n.limitType}`}function GR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>w6(i)).join(", ")}]`),_0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jg(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jg(i)).join(",")),`Target(${t})`}(Co(n))}; limitType=${n.limitType})`}function I0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):gt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Hf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,c){const d=m6(r,o,c);return r.inclusive?d<=0:d<0}(t.startAt,Hf(t),i)||t.endAt&&!function(r,o,c){const d=m6(r,o,c);return r.inclusive?d>=0:d>0}(t.endAt,Hf(t),i)));var t,i}function k6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R6(n){return(e,t)=>{let i=!1;for(const r of Hf(n)){const o=r7(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function r7(n,e,t){const i=n.field.isKeyField()?gt.comparator(e.key,t.key):function(r,o,c){const d=o.data.field(r),p=c.data.field(r);return null!==d&&null!==p?sd(d,p):Nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}function O6(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v0(e)?"-0":e}}function P6(n){return{integerValue:""+n}}function N6(n,e){return a6(e)?P6(e):O6(n,e)}class NS{constructor(){this._=void 0}}function o7(n,e,t){return n instanceof qg?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof $f?L6(n,e):n instanceof Gf?B6(n,e):function(i,r){const o=F6(i,r),c=V6(o)+V6(i.gt);return LR(o)&&LR(i.gt)?P6(c):O6(i.yt,c)}(n,e)}function s7(n,e,t){return n instanceof $f?L6(n,e):n instanceof Gf?B6(n,e):t}function F6(n,e){return n instanceof Yg?LR(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class qg extends NS{}class $f extends NS{constructor(e){super(),this.elements=e}}function L6(n,e){const t=U6(e);for(const i of n.elements)t.some(r=>sc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Gf extends NS{constructor(e){super(),this.elements=e}}function B6(n,e){let t=U6(e);for(const i of n.elements)t=t.filter(r=>!sc(r,i));return{arrayValue:{values:t}}}class Yg extends NS{constructor(e,t){super(),this.yt=e,this.gt=t}}function V6(n){return Qi(n.integerValue||n.doubleValue)}function U6(n){return w0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class S0{constructor(e,t){this.field=e,this.transform=t}}class c7{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function FS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class LS{}function z6(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Kg(n.key,ki.none()):new Zg(n.key,n.data,ki.none());{const t=n.data,i=Qr.empty();let r=new oi(Ki.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new wl(n.key,i,new Uo(r.toArray()),ki.none())}}function l7(n,e,t){n instanceof Zg?function(i,r,o){const c=i.value.clone(),d=$6(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof wl?function(i,r,o){if(!FS(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=$6(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(H6(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function T0(n,e,t,i){return n instanceof Zg?function(r,o,c,d){if(!FS(r.precondition,o))return c;const p=r.value.clone(),_=G6(r.fieldTransforms,d,o);return p.setAll(_),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof wl?function(r,o,c,d){if(!FS(r.precondition,o))return c;const p=G6(r.fieldTransforms,d,o),_=o.data;return _.setAll(H6(r)),_.setAll(p),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(c=t,FS(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function u7(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=F6(i.transform,r||null);null!=o&&(null===t&&(t=Qr.empty()),t.set(i.field,o))}return t||null}function j6(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&zg(t,i,(r,o)=>function a7(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof $f&&i instanceof $f||t instanceof Gf&&i instanceof Gf?zg(t.elements,i.elements,sc):t instanceof Yg&&i instanceof Yg?sc(t.gt,i.gt):t instanceof qg&&i instanceof qg);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Zg extends LS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wl extends LS{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function H6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $6(n,e,t){const i=new Map;Yt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,d=e.data.field(o.field);i.set(o.field,s7(c,d,t[r]))}return i}function G6(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,o7(o,c,e))}return i}class Kg extends LS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WR extends LS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d7{constructor(e){this.count=e}}var fr,Wn;function W6(n){switch(n){default:return Nt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function q6(n){if(void 0===n)return or("GRPC error has no .code"),xe.UNKNOWN;switch(n){case fr.OK:return xe.OK;case fr.CANCELLED:return xe.CANCELLED;case fr.UNKNOWN:return xe.UNKNOWN;case fr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case fr.INTERNAL:return xe.INTERNAL;case fr.UNAVAILABLE:return xe.UNAVAILABLE;case fr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case fr.NOT_FOUND:return xe.NOT_FOUND;case fr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case fr.ABORTED:return xe.ABORTED;case fr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case fr.DATA_LOSS:return xe.DATA_LOSS;default:return Nt()}}(Wn=fr||(fr={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";class cd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bf(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return s6(this.inner)}size(){return this.innerSize}}const h7=new Xi(gt.comparator);function zo(){return h7}const Y6=new Xi(gt.comparator);function D0(...n){let e=Y6;for(const t of n)e=e.insert(t.key,t);return e}function Z6(n){let e=Y6;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ac(){return A0()}function K6(){return A0()}function A0(){return new cd(n=>n.toString(),(n,e)=>n.isEqual(e))}const f7=new Xi(gt.comparator),p7=new oi(gt.comparator);function En(...n){let e=p7;for(const t of n)e=e.add(t);return e}const m7=new oi(vn);function BS(){return m7}class M0{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,k0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new M0(Qt.min(),r,BS(),zo(),En())}}class k0{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new k0(i,t,En(),En(),En())}}class VS{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Q6{constructor(e,t){this.targetId=e,this.Et=t}}class X6{constructor(e,t,i=wr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class J6{constructor(){this.At=0,this.Rt=t3(),this.bt=wr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=En(),t=En(),i=En();return this.Rt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Nt()}}),new k0(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=t3()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class g7{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=zo(),this.qt=e3(),this.Ut=new oi(vn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const o=r.target;if(kS(o))if(0===i){const c=new gt(o.path);this.Qt(t,c,_i.newNoDocument(c,Qt.min()))}else Yt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,c)=>{const d=this.Yt(c);if(d){if(o.current&&kS(d.target)){const p=new gt(d.target.path);null!==this.Lt.get(p)||this.te(c,p)||this.Qt(c,p,_i.newNoDocument(p,e))}o.St&&(t.set(c,o.Ct()),o.xt())}});let i=En();this.qt.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Yt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.Lt.forEach((o,c)=>c.setReadTime(e));const r=new M0(e,t,this.Ut,this.Lt,i);return this.Lt=zo(),this.qt=e3(),this.Ut=new oi(vn),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new J6,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new oi(vn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new J6),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function e3(){return new Xi(gt.comparator)}function t3(){return new Xi(gt.comparator)}const _7={asc:"ASCENDING",desc:"DESCENDING"},v7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y7={and:"AND",or:"OR"};class b7{constructor(e,t){this.databaseId=e,this.wt=t}}function Qg(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n3(n,e){return n.wt?e.toBase64():e.toUint8Array()}function w7(n,e){return Qg(n,e.toTimestamp())}function sr(n){return Yt(!!n),Qt.fromTimestamp(function(e){const t=rd(e);return new Mi(t.seconds,t.nanos)}(n))}function qR(n,e){return(t=n,new Gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function r3(n){const e=Gn.fromString(n);return Yt(f3(e)),e}function R0(n,e){return qR(n.databaseId,e.path)}function cc(n,e){const t=r3(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(s3(t))}function YR(n,e){return qR(n.databaseId,e)}function o3(n){const e=r3(n);return 4===e.length?Gn.emptyPath():s3(e)}function O0(n){return new Gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function s3(n){return Yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function a3(n,e,t){return{name:R0(n,e),fields:t.value.mapValue.fields}}function c3(n,e,t){const i=cc(n,e.name),r=sr(e.updateTime),o=e.createTime?sr(e.createTime):Qt.min(),c=new Qr({mapValue:{fields:e.fields}}),d=_i.newFoundDocument(i,r,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function P0(n,e){let t;if(e instanceof Zg)t={update:a3(n,e.key,e.value)};else if(e instanceof Kg)t={delete:R0(n,e.key)};else if(e instanceof wl)t={update:a3(n,e.key,e.data),updateMask:A7(e.fieldMask)};else{if(!(e instanceof WR))return Nt();t={verify:R0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof qg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $f)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yg)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw Nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:w7(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Nt()),t;var r}function ZR(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ki.updateTime(sr(r.updateTime)):void 0!==r.exists?ki.exists(r.exists):ki.none():ki.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Yt("REQUEST_TIME"===c.setToServerValue),d=new qg):"appendMissingElements"in c?d=new $f(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Gf(c.removeAllFromArray.values||[]):"increment"in c?d=new Yg(o,c.increment):Nt();const p=Ki.fromServerFormat(c.fieldPath);return new S0(p,d)}(n,r)):[];var r;if(e.update){const r=cc(n,e.update.name),o=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Uo((e.updateMask.fieldPaths||[]).map(_=>Ki.fromServerFormat(_)));return new wl(r,o,c,t,i)}return new Zg(r,o,t,i)}if(e.delete){const r=cc(n,e.delete);return new Kg(r,t)}if(e.verify){const r=cc(n,e.verify);return new WR(r,t)}return Nt()}function l3(n,e){return{documents:[YR(n,e.path)]}}function KR(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=YR(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=YR(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return h3(ti.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(_=>{return{field:Xg((b=_).field),direction:S7(b.dir)};var b})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=(_=e.limit,n.wt||_0(_)?_:{value:_});var _,d,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function u3(n){let e=o3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Yt(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=function(b){const x=d3(b);return x instanceof ti&&VR(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new $g(Jg((x=b).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;t.limit&&(d=function(b){let x;return x="object"==typeof b?b.value:b,_0(x)?null:x}(t.limit));let p=null;var b;t.startAt&&(p=new ad((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new ad(b.values||[],!b.before)}(t.endAt)),D6(e,r,c,o,d,"F",p,_)}function d3(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jg(e.unaryFilter.field);return Nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Jg(e.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jg(e.unaryFilter.field);return Nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jg(e.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(n):void 0!==n.fieldFilter?Nn.create(Jg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ti.create(e.compositeFilter.filters.map(t=>d3(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nt()}}(e.compositeFilter.op))}(n):Nt();var e}function S7(n){return _7[n]}function T7(n){return v7[n]}function D7(n){return y7[n]}function Xg(n){return{fieldPath:n.canonicalString()}}function Jg(n){return Ki.fromServerFormat(n.fieldPath)}function h3(n){return n instanceof Nn?function(e){if("=="===e.op){if(d6(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NAN"}};if(u6(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(d6(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NOT_NAN"}};if(u6(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xg(e.field),op:T7(e.op),value:e.value}}}(n):n instanceof ti?function(e){const t=e.getFilters().map(i=>h3(i));return 1===t.length?t[0]:{compositeFilter:{op:D7(e.op),filters:t}}}(n):Nt()}function A7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=p3(e)),e=M7(n.get(t),e);return p3(e)}function M7(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function p3(n){return n+"\x01\x01"}function lc(n){const e=n.length;if(Yt(e>=2),2===e)return Yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&Nt(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:Nt()}o=c+2}return new Gn(i)}const m3=["userId","batchId"];function US(n,e){return[n,Eo(e)]}function g3(n,e,t){return[n,Eo(e),t]}const k7={},R7=["prefixPath","collectionGroup","readTime","documentId"],O7=["prefixPath","collectionGroup","documentId"],P7=["collectionGroup","readTime","prefixPath","documentId"],N7=["canonicalId","targetId"],F7=["targetId","path"],L7=["path","targetId"],B7=["collectionId","parent"],V7=["indexId","uid"],U7=["uid","sequenceNumber"],z7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j7=["indexId","uid","orderedDocumentKey"],H7=["userId","collectionPath","documentId"],$7=["userId","collectionPath","largestBatchId"],G7=["userId","collectionGroup","largestBatchId"],_3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W7=[..._3,"documentOverlays"],v3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],y3=v3,q7=[...y3,"indexConfiguration","indexState","indexEntries"];class QR extends i6{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=bt(n);return _a.M(t.se,e)}class XR{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&l7(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=T0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=T0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=K6();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(r.key)?null:d;const p=z6(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Qt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&zg(this.mutations,e.mutations,(t,i)=>j6(t,i))&&zg(this.baseMutations,e.baseMutations,(t,i)=>j6(t,i))}}class JR{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Yt(e.mutations.length===i.length);let r=f7;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new JR(e,t,i,r)}}class eO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ld{constructor(e,t,i,r,o=Qt.min(),c=Qt.min(),d=wr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class b3{constructor(e){this.ie=e}}function w3(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:R0(r=n.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Qg(r,o.version.toTimestamp()),createTime:Qg(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Wf(e.version)};else{if(!e.isUnknownDocument())return Nt();i.unknownDocument={path:t.path.toArray(),version:Wf(e.version)}}var r,o;return i}function zS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qf(n){const e=new Mi(n.seconds,n.nanoseconds);return Qt.fromTimestamp(e)}function Yf(n,e){const t=(e.baseMutations||[]).map(o=>ZR(n.ie,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>ZR(n.ie,o)),r=Mi.fromMillis(e.localWriteTimeMs);return new XR(e.batchId,r,t,i)}function N0(n){const e=qf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qf(n.lastLimboFreeSnapshotVersion):Qt.min();let i;var r;return void 0!==n.query.documents?(Yt(1===(r=n.query).documents.length),i=Co(Wg(o3(r.documents[0])))):i=Co(u3(n.query)),new ld(i,n.targetId,0,n.lastListenSequenceNumber,e,t,wr.fromBase64String(n.resumeToken))}function C3(n,e){const t=Wf(e.snapshotVersion),i=Wf(e.lastLimboFreeSnapshotVersion);let r;r=kS(e.target)?l3(n.ie,e.target):KR(n.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jf(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tO(n){const e=u3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PS(e,e.limit,"L"):e}function nO(n,e){return new eO(e.largestBatchId,ZR(n.ie,e.overlayMutation))}function E3(n,e){const t=e.path.lastSegment();return[n,Eo(e.path.popLast()),t]}function x3(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wf(i.readTime),documentKey:Eo(i.documentKey.path),largestBatchId:i.largestBatchId}}class Z7{getBundleMetadata(e,t){return I3(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:qf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return I3(e).put({bundleId:(i=t).id,createTime:Wf(sr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return S3(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:tO(r.bundledQuery),readTime:qf(r.readTime)};var r})}saveNamedQuery(e,t){return S3(e).put({name:(i=t).name,readTime:Wf(sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function I3(n){return Fr(n,"bundles")}function S3(n){return Fr(n,"namedQueries")}class jS{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new jS(e,t.uid||"")}getOverlay(e,t){return F0(e).get(E3(this.userId,t)).next(i=>i?nO(this.yt,i):null)}getOverlays(e,t){const i=ac();return Ce.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,c)=>{const d=new eO(t,c);r.push(this.oe(e,d))}),Ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Eo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(F0(e).Y("collectionPathOverlayIndex",d))}),Ce.waitFor(o)}getOverlaysForCollection(e,t,i){const r=ac(),o=Eo(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return F0(e).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=nO(this.yt,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=ac();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return F0(e).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const x=nO(this.yt,_);o.size()<r||x.largestBatchId===c?(o.set(x.getKey(),x),c=x.largestBatchId):b.done()}).next(()=>o)}oe(e,t){return F0(e).put(function(i,r,o){const[c,d,p]=E3(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:P0(i.ie,o.mutation)}}(this.yt,this.userId,t))}}function F0(n){return Fr(n,"documentOverlays")}class Zf{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Qi(e.integerValue));else if("doubleValue"in e){const i=Qi(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),v0(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Vf(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?h6(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Nt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),gt.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function K7(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function T3(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=K7(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Zf.Ie=new Zf;class Q7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=T3(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=T3(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class X7{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class J7{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class L0{constructor(){this.$e=new Q7,this.Be=new X7(this.$e),this.Le=new J7(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Kf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Kf(this.indexId,this.documentKey,this.arrayValue,i)}}function ud(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=D3(n.arrayValue,e.arrayValue),0!==t?t:(t=D3(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function D3(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class eY{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Yt(e.collectionGroup===this.collectionId);const t=kR(e);if(void 0!==t&&!this.We(t))return!1;const i=Ff(e);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[o++],c))return!1;++r}for(;r<i.length;++r)if(o>=this.Ke.length||!this.He(this.Ke[o++],i[r]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function A3(n){var e,t;if(Yt(n instanceof Nn||n instanceof ti),n instanceof Nn){if(n instanceof E6){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Nn.create(n.field,"==",o)))||[];return ti.create(r,"or")}return n}const i=n.filters.map(r=>A3(r));return ti.create(i,n.op)}function tY(n){if(0===n.getFilters().length)return[];const e=oO(A3(n));return Yt(M3(e)),iO(e)||rO(e)?[e]:e.getFilters()}function iO(n){return n instanceof Nn}function rO(n){return n instanceof ti&&VR(n)}function M3(n){return iO(n)||rO(n)||function(e){if(e instanceof ti&&BR(e)){for(const t of e.getFilters())if(!iO(t)&&!rO(t))return!1;return!0}return!1}(n)}function oO(n){if(Yt(n instanceof Nn||n instanceof ti),n instanceof Nn)return n;if(1===n.filters.length)return oO(n.filters[0]);const e=n.filters.map(i=>oO(i));let t=ti.create(e,n.op);return t=HS(t),M3(t)?t:(Yt(t instanceof ti),Yt(Hg(t)),Yt(t.filters.length>1),t.filters.reduce((i,r)=>sO(i,r)))}function sO(n,e){let t;return Yt(n instanceof Nn||n instanceof ti),Yt(e instanceof Nn||e instanceof ti),t=n instanceof Nn?e instanceof Nn?ti.create([n,e],"and"):k3(n,e):e instanceof Nn?k3(e,n):function(i,r){if(Yt(i.filters.length>0&&r.filters.length>0),Hg(i)&&Hg(r))return b6(i,r.getFilters());const o=BR(i)?i:r,c=BR(i)?r:i,d=o.filters.map(p=>sO(p,c));return ti.create(d,"or")}(n,e),HS(t)}function k3(n,e){if(Hg(e))return b6(e,n.getFilters());{const t=e.filters.map(i=>sO(n,i));return ti.create(t,"or")}}function HS(n){if(Yt(n instanceof Nn||n instanceof ti),n instanceof Nn)return n;const e=n.getFilters();if(1===e.length)return HS(e[0]);if(v6(n))return n;const t=e.map(r=>HS(r)),i=[];return t.forEach(r=>{r instanceof Nn?i.push(r):r instanceof ti&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ti.create(i,n.op)}class nY{constructor(){this.Je=new aO}addToCollectionParentIndex(e,t){return this.Je.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(as.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class aO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new oi(Gn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new oi(Gn.comparator)).toArray()}}const $S=new Uint8Array(0);class iY{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new aO,this.Xe=new cd(i=>jf(i),(i,r)=>E0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const o={collectionId:i,parent:Eo(r)};return R3(e).put(o)}return Ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[JU(t),""],!1,!0);return R3(e).W(r).next(o=>{for(const c of o){if(c.collectionId!==t)break;i.push(lc(c.parent))}return i})}addFieldIndex(e,t){const i=GS(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=i.add(r);if(t.indexState){const c=V0(e);return o.next(d=>{c.put(x3(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=GS(e),r=V0(e),o=B0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=B0(e);let r=!0;const o=new Map;return Ce.forEach(this.Ze(t),c=>this.tn(e,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=En();const d=[];return Ce.forEach(o,(p,_)=>{var b;et("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Ke=>`${Ke.fieldPath}:${Ke.kind}`).join(",")}`} to execute ${jf(t)}`);const x=function(Ke,tt){const Et=kR(tt);if(void 0===Et)return null;for(const zt of RS(Ke,Et.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(_,p),T=function(Ke,tt){const Et=new Map;for(const zt of Ff(tt))for(const hn of RS(Ke,zt.fieldPath))switch(hn.op){case"==":case"in":Et.set(zt.fieldPath.canonicalString(),hn.value);break;case"not-in":case"!=":return Et.set(zt.fieldPath.canonicalString(),hn.value),Array.from(Et.values())}return null}(_,p),M=function(Ke,tt){const Et=[];let zt=!0;for(const hn of Ff(tt)){const Ci=0===hn.kind?S6(Ke,hn.fieldPath,Ke.startAt):T6(Ke,hn.fieldPath,Ke.startAt);Et.push(Ci.value),zt&&(zt=Ci.inclusive)}return new ad(Et,zt)}(_,p),N=function(Ke,tt){const Et=[];let zt=!0;for(const hn of Ff(tt)){const Ci=0===hn.kind?T6(Ke,hn.fieldPath,Ke.endAt):S6(Ke,hn.fieldPath,Ke.endAt);Et.push(Ci.value),zt&&(zt=Ci.inclusive)}return new ad(Et,zt)}(_,p),q=this.en(p,_,M),ce=this.en(p,_,N),ze=this.nn(p,_,T),Xe=this.sn(p.indexId,x,q,M.inclusive,ce,N.inclusive,ze);return Ce.forEach(Xe,Ke=>i.J(Ke,t.limit).next(tt=>{tt.forEach(Et=>{const zt=gt.fromSegments(Et.documentKey);c.has(zt)||(c=c.add(zt),d.push(zt))})}))}).next(()=>d)}return Ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:tY(ti.create(e.filters,"and")).map(i=>zR(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,o,c,d){const p=(null!=t?t.length:1)*Math.max(i.length,o.length),_=p/(null!=t?t.length:1),b=[];for(let x=0;x<p;++x){const T=t?this.rn(t[x/_]):$S,M=this.on(e,T,i[x%_],r),N=this.un(e,T,o[x%_],c),q=d.map(ce=>this.on(e,T,ce,!0));b.push(...this.createRange(M,N,q))}return b}on(e,t,i,r){const o=new Kf(e,gt.empty(),t,i);return r?o:o.Ue()}un(e,t,i,r){const o=new Kf(e,gt.empty(),t,i);return r?o.Ue():o}tn(e,t){const i=new eY(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const d of o)i.je(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;const r=this.Ze(t);return Ce.forEach(r,o=>this.tn(e,o).next(c=>{c?0!==i&&c.fields.length<function(d){let p=new oi(Ki.comparator),_=!1;for(const b of d.filters)for(const x of b.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?_=!0:p=p.add(x.field));for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new L0;for(const r of Ff(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const c=i.qe(r.kind);Zf.Ie.ue(o,c)}return i.Fe()}rn(e){const t=new L0;return Zf.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new L0;return Zf.Ie.ue(zf(this.databaseId,t),i.qe(function(r){const o=Ff(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new L0);let o=0;for(const c of Ff(e)){const d=i[o++];for(const p of r)if(this.hn(t,c.fieldPath)&&w0(d))r=this.ln(r,c,d);else{const _=p.qe(c.kind);Zf.Ie.ue(d,_)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new L0;p.seed(d.Fe()),Zf.Ie.ue(c,p.qe(t.kind)),o.push(p)}return o}hn(e,t){return!!e.filters.find(i=>i instanceof Nn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=GS(e),r=V0(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const c=[];return Ce.forEach(o,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const x=b?new m0(b.sequenceNumber,new as(qf(b.readTime),new gt(lc(b.documentKey)),b.largestBatchId)):m0.empty(),T=_.fields.map(([M,N])=>new SS(Ki.fromServerFormat(M),N));return new IS(_.indexId,_.collectionGroup,T,x)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:vn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=GS(e),o=V0(e);return this.dn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>Ce.forEach(d,p=>o.put(x3(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return Ce.forEach(t,(r,o)=>{const c=i.get(r.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Ce.forEach(d,p=>this._n(e,r,p).next(_=>{const b=this.wn(o,p);return _.isEqual(b)?Ce.resolve():this.mn(e,o,p,_,b)}))))})}gn(e,t,i,r){return B0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return B0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=B0(e);let o=new oi(ud);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(c,d)=>{o=o.add(new Kf(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>o)}wn(e,t){let i=new oi(ud);const r=this.cn(t,e);if(null==r)return i;const o=kR(t);if(null!=o){const c=e.data.field(o.fieldPath);if(w0(c))for(const d of c.arrayValue.values||[])i=i.add(new Kf(t.indexId,e.key,this.rn(d),r))}else i=i.add(new Kf(t.indexId,e.key,$S,r));return i}mn(e,t,i,r,o){et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,p,_,b,x){const T=d.getIterator(),M=p.getIterator();let N=Gg(T),q=Gg(M);for(;N||q;){let ce=!1,ze=!1;if(N&&q){const Xe=_(N,q);Xe<0?ze=!0:Xe>0&&(ce=!0)}else null!=N?ze=!0:ce=!0;ce?(b(q),q=Gg(M)):ze?(x(N),N=Gg(T)):(N=Gg(T),q=Gg(M))}}(r,o,ud,d=>{c.push(this.gn(e,t,i,d))},d=>{c.push(this.yn(e,t,i,d))}),Ce.waitFor(c)}dn(e){let t=1;return V0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>ud(c,d)).filter((c,d,p)=>!d||0!==ud(c,p[d-1]));const r=[];r.push(e);for(const c of i){const d=ud(c,e),p=ud(c,t);if(0===d)r[0]=e.Ue();else if(d>0&&p<0)r.push(c),r.push(c.Ue());else if(p>0)break}r.push(t);const o=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,$S,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,$S,[]]))}return o}pn(e,t){return ud(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(O3)}getMinOffset(e,t){return Ce.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||Nt())).next(O3)}}function R3(n){return Fr(n,"collectionParents")}function B0(n){return Fr(n,"indexEntries")}function GS(n){return Fr(n,"indexConfiguration")}function V0(n){return Fr(n,"indexState")}function O3(n){Yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;RR(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new as(e.readTime,e.documentKey,t)}const P3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new jo(e,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function N3(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.Z({range:c},(b,x,T)=>(d++,T.delete()));o.push(p.next(()=>{Yt(1===d)}));const _=[];for(const b of t.mutations){const x=g3(e,b.key.path,t.batchId);o.push(r.delete(x)),_.push(b.key)}return Ce.waitFor(o).next(()=>_)}function WS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Nt();e=n.noDocument}return JSON.stringify(e).length}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class qS{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){Yt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new qS(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dd(e).Z({index:"userMutationsIndex",range:i},(r,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=e_(e),c=dd(e);return c.add({}).next(d=>{Yt("number"==typeof d);const p=new XR(d,t,i,r),_=function(T,M,N){const q=N.baseMutations.map(ze=>P0(T.ie,ze)),ce=N.mutations.map(ze=>P0(T.ie,ze));return{userId:M,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:q,mutations:ce}}(this.yt,this.userId,p),b=[];let x=new oi((T,M)=>vn(T.canonicalString(),M.canonicalString()));for(const T of r){const M=g3(this.userId,T.key.path,d);x=x.add(T.key.path.popLast()),b.push(c.put(_)),b.push(o.put(M,k7))}return x.forEach(T=>{b.push(this.indexManager.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(()=>{this.In[d]=p.keys()}),Ce.waitFor(b).next(()=>p)})}lookupMutationBatch(e,t){return dd(e).get(t).next(i=>i?(Yt(i.userId===this.userId),Yf(this.yt,i)):null)}Tn(e,t){return this.In[t]?Ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return dd(e).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Yt(d.batchId>=i),o=Yf(this.yt,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return dd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dd(e).W("userMutationsIndex",t).next(i=>i.map(r=>Yf(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=US(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return e_(e).Z({range:r},(c,d,p)=>{const[_,b,x]=c,T=lc(b);if(_===this.userId&&t.path.isEqual(T))return dd(e).get(x).next(M=>{if(!M)throw Nt();Yt(M.userId===this.userId),o.push(Yf(this.yt,M))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new oi(vn);const r=[];return t.forEach(o=>{const c=US(this.userId,o.path),d=IDBKeyRange.lowerBound(c),p=e_(e).Z({range:d},(_,b,x)=>{const[T,M,N]=_,q=lc(M);T===this.userId&&o.path.isEqual(q)?i=i.add(N):x.done()});r.push(p)}),Ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=US(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new oi(vn);return e_(e).Z({range:c},(p,_,b)=>{const[x,T,M]=p,N=lc(T);x===this.userId&&i.isPrefixOf(N)?N.length===r&&(d=d.add(M)):b.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(o=>{r.push(dd(e).get(o).next(c=>{if(null===c)throw Nt();Yt(c.userId===this.userId),i.push(Yf(this.yt,c))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return N3(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return e_(e).Z({range:i},(o,c,d)=>{if(o[0]===this.userId){const p=lc(o[1]);r.push(p)}else d.done()}).next(()=>{Yt(0===r.length)})})}containsKey(e,t){return F3(e,this.userId,t)}Rn(e){return L3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function F3(n,e,t){const i=US(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return e_(n).Z({range:o,X:!0},(d,p,_)=>{const[b,x,T]=d;b===e&&x===r&&(c=!0),_.done()}).next(()=>c)}function dd(n){return Fr(n,"mutations")}function e_(n){return Fr(n,"documentMutations")}function L3(n){return Fr(n,"mutationQueues")}class Qf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Qf(0)}static vn(){return new Qf(-1)}}class rY{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Qf(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Qt.fromTimestamp(new Mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>t_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Yt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return t_(e).Z((c,d)=>{const p=N0(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(e,p)))}).next(()=>Ce.waitFor(o)).next(()=>r)}forEachTarget(e,t){return t_(e).Z((i,r)=>{const o=N0(r);t(o)})}Vn(e){return B3(e).get("targetGlobalKey").next(t=>(Yt(null!==t),t))}Sn(e,t){return B3(e).put("targetGlobalKey",t)}Dn(e,t){return t_(e).put(C3(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=jf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return t_(e).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=N0(d);E0(t,_.target)&&(o=_,p.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=hd(e);return t.forEach(c=>{const d=Eo(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),Ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=hd(e);return Ce.forEach(t,o=>{const c=Eo(o.path);return Ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=hd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=hd(e);let o=En();return r.Z({range:i,X:!0},(c,d,p)=>{const _=lc(c[1]),b=new gt(_);o=o.add(b)}).next(()=>o)}containsKey(e,t){const i=Eo(t.path),r=IDBKeyRange.bound([i],[JU(i)],!1,!0);let o=0;return hd(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}ne(e,t){return t_(e).get(t).next(i=>i?N0(i):null)}}function t_(n){return Fr(n,"targets")}function B3(n){return Fr(n,"targetGlobal")}function hd(n){return Fr(n,"targetDocuments")}function V3([n,e],[t,i]){const r=vn(n,t);return 0===r?vn(e,i):r}class oY{constructor(e){this.xn=e,this.buffer=new oi(V3),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();V3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sY{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){nd(i)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield td(i)}yield t.Fn(3e5)}))}}class aY{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(cs.at);const i=new oY(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(P3)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P3):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,o,c,d,p,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,c=Date.now(),this.nthSequenceNumber(e,r))).next(x=>(i=x,d=Date.now(),this.removeTargets(e,i,t))).next(x=>(o=x,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(_=Date.now(),AR()<=os.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${x} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:x})))}}class cY{constructor(e,t){this.db=e,this.garbageCollector=new aY(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return YS(e,i)}removeReference(e,t,i){return YS(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return YS(e,t)}Gn(e,t){return function(i,r){let o=!1;return L3(i).tt(c=>F3(i,c,r).next(d=>(d&&(o=!0),Ce.resolve(!d)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(e,(c,d)=>{if(d<=t){const p=this.Gn(e,c).next(_=>{if(!_)return o++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Qt.min()),hd(e).delete([0,Eo(c.path)])))});r.push(p)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return YS(e,t)}Kn(e,t){const i=hd(e);let r,o=cs.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(o!==cs.at&&t(new gt(lc(r)),o),o=_,r=p):o=cs.at}).next(()=>{o!==cs.at&&t(new gt(lc(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function YS(n,e){return hd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Eo(e.path),sequenceNumber:i}));var i}class U3{constructor(){this.changes=new cd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lY{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Xf(e).put(i)}removeEntry(e,t,i){return Xf(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],zS(o),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=_i.newInvalidDocument(t);return Xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(r,o)=>{i=this.jn(t,o)}).next(()=>i)}Wn(e,t){let i={size:0,document:_i.newInvalidDocument(t)};return Xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(r,o)=>{i={document:this.jn(t,o),size:WS(o)}}).next(()=>i)}getEntries(e,t){let i=zo();return this.zn(e,t,(r,o)=>{const c=this.jn(r,o);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=zo(),r=new Xi(gt.comparator);return this.zn(e,t,(o,c)=>{const d=this.jn(o,c);i=i.insert(o,d),r=r.insert(o,WS(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return Ce.resolve();let r=new oi($3);t.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(U0(r.first()),U0(r.last())),c=r.getIterator();let d=c.getNext();return Xf(e).Z({index:"documentKeyIndex",range:o},(p,_,b)=>{const x=gt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&$3(d,x)<0;)i(d,null),d=c.getNext();d&&d.isEqual(x)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(U0(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),zS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xf(e).W(IDBKeyRange.bound(c,d,!0)).next(p=>{let _=zo();for(const b of p){const x=this.jn(gt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);x.isFoundDocument()&&(I0(t,x)||r.has(x.key))&&(_=_.insert(x.key,x))}return _})}getAllFromCollectionGroup(e,t,i,r){let o=zo();const c=H3(t,i),d=H3(t,as.max());return Xf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const x=this.jn(gt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(x.key,x),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(e){return new uY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return j3(e).get("remoteDocumentGlobalKey").next(t=>(Yt(!!t),t))}Qn(e,t){return j3(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function Y7(n,e){let t;if(e.document)t=c3(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=gt.fromSegments(e.noDocument.path),r=qf(e.noDocument.readTime);t=_i.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const i=gt.fromSegments(e.unknownDocument.path),r=qf(e.unknownDocument.version);t=_i.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Mi(i[0],i[1]);return Qt.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Qt.min()))return i}return _i.newInvalidDocument(e)}}function z3(n){return new lY(n)}class uY extends U3{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new cd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new oi((o,c)=>vn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,d.readTime)),c.isValidDocument()){const p=w3(this.Yn.yt,c);r=r.add(o.path.popLast());const _=WS(p);i+=_-d.size,t.push(this.Yn.addEntry(e,o,p))}else if(i-=d.size,this.trackRemovals){const p=w3(this.Yn.yt,c.convertToNoDocument(Qt.min()));t.push(this.Yn.addEntry(e,o,p))}}),r.forEach(o=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Yn.updateMetadata(e,i)),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((o,c)=>{this.Xn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function j3(n){return Fr(n,"remoteDocumentGlobal")}function Xf(n){return Fr(n,"remoteDocumentsV14")}function U0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function H3(n,e){const t=e.documentKey.path.toArray();return[n,zS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $3(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=vn(t[o],i[o]),r)return r;return r=vn(t.length,i.length),r||(r=vn(t[t.length-2],i[i.length-2]),r||vn(t[t.length-1],i[i.length-1]))}class dY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class G3{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&T0(i.mutation,r,Uo.empty(),Mi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,En()).next(()=>i))}getLocalViewOfDocuments(e,t,i=En()){const r=ac();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=D0();return o.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ac();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,En()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let o=zo();const c=A0(),d=A0();return t.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof wl)?o=o.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),T0(b.mutation,_,b.mutation.getFieldMask(),Mi.now())):c.set(_.key,Uo.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((_,b)=>c.set(_,b)),t.forEach((_,b)=>{var x;return d.set(_,new dY(b,null!==(x=c.get(_))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(e,t){const i=A0();let r=new Xi((c,d)=>c-d),o=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let b=i.get(p)||Uo.empty();b=d.applyToLocalView(_,b),i.set(p,b);const x=(r.get(d.batchId)||En()).add(p);r=r.insert(d.batchId,x)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,x=K6();b.forEach(T=>{if(!o.has(T)){const M=z6(t.get(T),i.get(T));null!==M&&x.set(T,M),o=o.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return gt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):HR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):Ce.resolve(ac());let d=-1,p=o;return c.next(_=>Ce.forEach(_,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(b)?Ce.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{p=p.insert(b,T)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,p,_,En())).next(b=>({batchId:d,changes:Z6(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(i=>{let r=D0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=D0();return this.indexManager.getCollectionParents(e,r).next(c=>Ce.forEach(c,d=>{const p=(_=t,b=d.child(r),new bl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(_=>{_.forEach((b,x)=>{o=o.insert(b,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((d,p)=>{const _=p.getKey();null===o.get(_)&&(o=o.insert(_,_i.newInvalidDocument(_)))});let c=D0();return o.forEach((d,p)=>{const _=r.get(d);void 0!==_&&T0(_.mutation,p,Uo.empty(),Mi.now()),I0(t,p)&&(c=c.insert(d,p))}),c})}}class hY{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:sr(i.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:tO(i.bundledQuery),readTime:sr(i.readTime)}),Ce.resolve();var i}}class fY{constructor(){this.overlays=new Xi(gt.comparator),this.es=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ac();return Ce.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.oe(e,t,o)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const r=ac(),o=t.length+1,c=new gt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Xi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=ac(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=ac(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return Ce.resolve(d)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new eO(t,i));let o=this.es.get(t);void 0===o&&(o=En(),this.es.set(t,o)),this.es.set(t,o.add(i.key))}}class cO{constructor(){this.ns=new oi(Lr.ss),this.rs=new oi(Lr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Lr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Lr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new gt(new Gn([])),i=new Lr(t,e),r=new Lr(t,e+1),o=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),o.push(c.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new gt(new Gn([])),i=new Lr(t,e),r=new Lr(t,e+1);let o=En();return this.rs.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Lr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Lr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return gt.comparator(e.key,t.key)||vn(e._s,t._s)}static os(e,t){return vn(e._s,t._s)||gt.comparator(e.key,t.key)}}class pY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new oi(Lr.ss)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.ws;this.ws++;const c=new XR(o,t,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Lr(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(e,t){return Ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),o=r<0?0:r;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lr(t,0),r=new Lr(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);o.push(d)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new oi(vn);return t.forEach(r=>{const o=new Lr(r,0),c=new Lr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,c],d=>{i=i.add(d._s)})}),Ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;gt.isDocumentKey(o)||(o=o.child(""));const c=new Lr(new gt(o),0);let d=new oi(vn);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),Ce.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Yt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ce.forEach(t.mutations,r=>{const o=new Lr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Lr(t,0),r=this.gs.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mY{constructor(e){this.Es=e,this.docs=new Xi(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let i=zo();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_i.newInvalidDocument(r))}),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=zo();const c=t.path,d=new gt(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||RR(t6(b),i)<=0||(r.has(b.key)||I0(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Nt()}As(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gY(this)}getSize(e){return Ce.resolve(this.size)}}class gY extends U3{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class _Y{constructor(e){this.persistence=e,this.Rs=new cd(t=>jf(t),E0),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cO,this.targetCount=0,this.vs=Qf.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Qf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Dn(t),Ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),Ce.waitFor(o).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.Ps.containsKey(t))}}class W3{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new cs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new _Y(this),this.indexManager=new nY,this.remoteDocumentCache=new mY(i=>this.referenceDelegate.xs(i)),this.yt=new b3(t),this.Ns=new hY(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new pY(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){et("MemoryPersistence","Starting transaction:",e);const r=new vY(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(e,t){return Ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class vY extends i6{constructor(e){super(),this.currentSequenceNumber=e}}class ZS{constructor(e){this.persistence=e,this.Fs=new cO,this.$s=null}static Bs(e){return new ZS(e)}get Ls(){if(this.$s)return this.$s;throw Nt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,i=>{const r=gt.fromPath(i);return this.qs(e,r).next(o=>{o||t.removeEntry(r,Qt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class yY{constructor(e){this.yt=e}$(e,t,i,r){const o=new TS("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m3,{unique:!0}),d.createObjectStore("documentMutations"),q3(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),q3(e)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m3,{unique:!0});const b=p.store("mutations"),x=_.map(T=>b.put(T));return Ce.waitFor(x)})}(e,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Us(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(o))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:H7});p.createIndex("collectionPathOverlayIndex",$7,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",G7,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:R7});p.createIndex("documentKeyIndex",O7),p.createIndex("collectionGroupIndex",P7)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,o))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:V7}).createIndex("sequenceNumberIndex",U7,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:z7}).createIndex("documentKeyIndex",j7,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=WS(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>Ce.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>Ce.forEach(d,p=>{Yt(p.userId===o.userId);const _=Yf(this.yt,p);return N3(e,o.userId,_).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((c,d)=>{const p=new Gn(c),_=[0,Eo(p)];o.push(t.get(_).next(b=>b?Ce.resolve():t.put({targetId:0,path:Eo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(o))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:B7});const i=t.store("collectionParents"),r=new aO,o=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Eo(p)})}};return t.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Gn(c);return o(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=lc(d);return o(b.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const o=N0(r),c=C3(this.yt,o);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((o,c)=>{const d=t.store("remoteDocumentsV14"),p=(_=c,_.document?new gt(Gn.fromString(_.document.name).popFirst(5)):_.noDocument?gt.fromSegments(_.noDocument.path):_.unknownDocument?gt.fromSegments(_.unknownDocument.path):Nt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>Ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=z3(this.yt),o=new W3(ZS.Bs,this.yt.ie);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:En();Yf(this.yt,p).keys().forEach(x=>b=b.add(x)),d.set(p.userId,b)}),Ce.forEach(d,(p,_)=>{const b=new Nr(_),x=jS.re(this.yt,b),T=o.getIndexManager(b),M=qS.re(b,this.yt,T,o.referenceDelegate);return new G3(r,M,x,T).recalculateAndSaveOverlaysForDocumentKeys(new QR(t,cs.at),p).next()})})}}function q3(n){n.createObjectStore("targetDocuments",{keyPath:F7}).createIndex("documentTargetsIndex",L7,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N7,{unique:!0}),n.createObjectStore("targetGlobal")}const lO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uO{constructor(e,t,i,r,o,c,d,p,_,b,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=o,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=T=>Promise.resolve(),!uO.C())throw new qe(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cY(this,r),this.ii=t+"main",this.yt=new b3(p),this.ri=new _a(this.ii,this.Xs,new yY(this.yt)),this.Cs=new rY(this.referenceDelegate,this.yt),this.remoteDocumentCache=z3(this.yt),this.Ns=new Z7,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(xe.FAILED_PRECONDITION,lO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new cs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Ae.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ae.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>KS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(nd(e))return et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return z0(e).get("owner").next(t=>Ce.resolve(this.mi(t)))}gi(e){return KS(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Fr(i,"clientMetadata");return r.W().next(o=>{const c=e.Ii(o,18e5),d=o.filter(p=>-1===c.indexOf(p));return Ce.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ce.resolve(!0):z0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new qe(xe.FAILED_PRECONDITION,lO);return!1}}return!(!this.networkEnabled||!this.inForeground)||KS(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new QR(t,cs.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>KS(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return qS.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iY(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return jS.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){et("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.Xs)?q7:14===c?y3:13===c?v3:12===c?W7:11===c?_3:void Nt();var c;let d;return this.ri.runTransaction(e,r,o,p=>(d=new QR(p,this.Ss?this.Ss.next():cs.at),"readwrite-primary"===t?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new qe(xe.FAILED_PRECONDITION,n6);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(e){return z0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qe(xe.FAILED_PRECONDITION,lO)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return z0(e).put("owner",t)}static C(){return _a.C()}_i(e){const t=z0(e);return t.get("owner").next(i=>this.mi(i)?(et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(or(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,J.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return et("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return or("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function z0(n){return Fr(n,"owner")}function KS(n){return Fr(n,"clientMetadata")}function dO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=En(),r=En();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new hO(e,t.fromCache,i,r)}}class Y3{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(o=>o||this.Oi(e,t,r,i)).next(o=>o||this.Mi(e,t))}ki(e,t){if(A6(t))return Ce.resolve(null);let i=Co(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=PS(t,null,"F"),i=Co(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=En(...o);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.Fi(t,d);return this.$i(t,_,c,p.readTime)?this.ki(e,PS(t,null,"F")):this.Bi(e,_,t,p)}))})))}Oi(e,t,i,r){return A6(t)||r.isEqual(Qt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(o=>{const c=this.Fi(t,o);return this.$i(t,c,i,r)?this.Mi(e,t):(AR()<=os.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),GR(t)),this.Bi(e,c,t,e6(r,-1)))})}Fi(e,t){let i=new oi(R6(e));return t.forEach((r,o)=>{I0(e,o)&&(i=i.add(o))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(e,t){return AR()<=os.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",GR(t)),this.Ni.getDocumentsMatchingQuery(e,t,as.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class bY{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Xi(vn),this.Ui=new cd(o=>jf(o),E0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Z3(n,e,t,i){return new bY(n,e,t,i)}function K3(n,e){return fO.apply(this,arguments)}function fO(){return fO=(0,Ae.Z)(function*(n,e){const t=bt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let p=En();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of o){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),fO.apply(this,arguments)}function Q3(n){const e=bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function X3(n,e,t){let i=En(),r=En();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=zo();return t.forEach((d,p)=>{const _=o.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Qt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):et("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function EY(n,e){const t=bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n_(n,e){const t=bt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(o=>o?(r=o,Ce.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new ld(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function i_(n,e,t){return pO.apply(this,arguments)}function pO(){return pO=(0,Ae.Z)(function*(n,e,t){const i=bt(n),r=i.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!nd(c))throw c;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),pO.apply(this,arguments)}function QS(n,e,t){const i=bt(n);let r=Qt.min(),o=En();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=bt(d),x=b.Ui.get(_);return void 0!==x?Ce.resolve(b.qi.get(x)):b.Cs.getTargetData(p,_)}(i,c,Co(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Qt.min(),t?o:En())).next(d=>(tz(i,k6(e),d),{documents:d,Hi:o})))}function J3(n,e){const t=bt(n),i=bt(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,e).next(c=>c?c.target:null))}function ez(n,e){const t=bt(n),i=t.Ki.get(e)||Qt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,e6(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tz(t,e,r),r))}function tz(n,e,t){let i=n.Ki.get(e)||Qt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(e,i)}function mO(){return mO=(0,Ae.Z)(function*(n,e,t,i){const r=bt(n);let o=En(),c=zo();for(const _ of t){const b=e.Ji(_.metadata.name);_.document&&(o=o.add(b));const x=e.Yi(_);x.setReadTime(e.Xi(_.metadata.readTime)),c=c.insert(b,x)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield n_(r,(_=i,Co(Wg(Gn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>X3(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),mO.apply(this,arguments)}function IY(n,e){return gO.apply(this,arguments)}function gO(){return gO=(0,Ae.Z)(function*(n,e,t=En()){const i=yield n_(n,Co(tO(e.bundledQuery))),r=bt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=sr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(o,e);const d=i.withResumeToken(wr.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(o,d).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,e))})}),gO.apply(this,arguments)}function nz(n,e){return`firestore_clients_${n}_${e}`}function iz(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _O(n,e){return`firestore_targets_${n}_${e}`}class XS{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new qe(r.error.code,r.error.message))),c?new XS(e,t,r.state,o):(or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new qe(i.error.code,i.error.message))),o?new j0(e,i.state,r):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class JS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=BS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=a6(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new JS(e,o):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vO{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vO(t.clientId,t.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yO{constructor(){this.activeTargetIds=BS()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bO{constructor(e,t,i,r,o){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xi(vn),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=nz(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new yO),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const o=e.getItem(nz(e.persistenceKey,r));if(o){const c=JS.Zi(r,o);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_O(this.persistenceKey,e));if(i){const r=j0.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_O(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return et("SharedClientState","READ",e,t),t}setItem(e,t){et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(o){let c=cs.at;if(null!=o)try{const d=JSON.parse(o);Yt("number"==typeof d),c=d}catch(d){or("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==cs.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Mr(o)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new XS(this.currentUser,e,t,i),o=iz(this.persistenceKey,this.currentUser,e);this.setItem(o,r.tr())}Er(e){const t=iz(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=_O(this.persistenceKey,e),o=new j0(e,t,i);this.setItem(r,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return JS.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return XS.Zi(new Nr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return j0.Zi(r,t)}yr(e){return vO.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),o=this.Ir(i),c=[],d=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=BS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rz{constructor(){this.Lr=new yO,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new yO,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SY{Ur(e){}shutdown(){}}class oz{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DY{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class AY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,o){const c=this.ho(e,t);et("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,o),this.fo(e,c,d,i).then(p=>(et("RestConnection","Received: ",p),p),p=>{throw Nf("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}_o(e,t,i,r,o,c){return this.ao(e,t,i,r,o)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ug,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}ho(e,t){return`${this.oo}/v1/${t}:${TY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((o,c)=>{const d=new Dq;d.setWithCredentials(!0),d.listenOnce(Iq.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case DR.NO_ERROR:const _=d.getResponseJson();et("Connection","XHR received:",JSON.stringify(_)),o(_);break;case DR.TIMEOUT:et("Connection",'RPC "'+e+'" timed out'),c(new qe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case DR.HTTP_ERROR:const b=d.getStatus();if(et("Connection",'RPC "'+e+'" failed with status:',b,"response text:",d.getResponseText()),b>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x?.error;if(T&&T.status&&T.message){const M=function(N){const q=N.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(q)>=0?q:xe.UNKNOWN}(T.status);c(new qe(M,T.message))}else c(new qe(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new qe(xe.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{et("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Eq(),c=xq(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Tq({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const p=r.join("");et("Connection","Creating WebChannel: "+p,d);const _=o.createWebChannel(p,d);let b=!1,x=!1;const T=new DY({Hr:N=>{x?et("Connection","Not sending because WebChannel is closed:",N):(b||(et("Connection","Opening WebChannel transport."),_.open(),b=!0),et("Connection","WebChannel sending:",N),_.send(N))},Jr:()=>_.close()}),M=(N,q,ce)=>{N.listen(q,ze=>{try{ce(ze)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return M(_,xS.EventType.OPEN,()=>{x||et("Connection","WebChannel transport opened.")}),M(_,xS.EventType.CLOSE,()=>{x||(x=!0,et("Connection","WebChannel transport closed"),T.io())}),M(_,xS.EventType.ERROR,N=>{x||(x=!0,Nf("Connection","WebChannel transport errored:",N),T.io(new qe(xe.UNAVAILABLE,"The operation could not be completed")))}),M(_,xS.EventType.MESSAGE,N=>{var q;if(!x){const ce=N.data[0];Yt(!!ce);const Xe=ce.error||(null===(q=ce[0])||void 0===q?void 0:q.error);if(Xe){et("Connection","WebChannel received error:",Xe);const Ke=Xe.status;let tt=function(zt){const hn=fr[zt];if(void 0!==hn)return q6(hn)}(Ke),Et=Xe.message;void 0===tt&&(tt=xe.INTERNAL,Et="Unknown error status: "+Ke+" with message "+Xe.message),x=!0,T.io(new qe(tt,Et)),_.close()}else et("Connection","WebChannel received:",ce),T.ro(ce)}}),M(c,Sq.STAT_EVENT,N=>{N.stat===YU.PROXY?et("Connection","Detected buffering proxy"):N.stat===YU.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function sz(){return typeof window<"u"?window:null}function eT(){return typeof document<"u"?document:null}function H0(n){return new b7(n,!0)}class wO{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class az{constructor(e,t,i,r,o,c,d,p){this.Hs=e,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wO(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Ae.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===xe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new qe(xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MY extends az{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function E7(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Nt(),r=e.targetChange.targetIds||[],o=function(p,_){return p.wt?(Yt(void 0===_||"string"==typeof _),wr.fromBase64String(_||"")):(Yt(void 0===_||_ instanceof Uint8Array),wr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=void 0===p.code?xe.UNKNOWN:q6(p.code);return new qe(_,p.message||"")}(c);t=new X6(i,r,o,d||null)}else if("documentChange"in e){const i=e.documentChange,r=cc(n,i.document.name),o=sr(i.document.updateTime),c=i.document.createTime?sr(i.document.createTime):Qt.min(),d=new Qr({mapValue:{fields:i.document.fields}}),p=_i.newFoundDocument(r,o,c,d);t=new VS(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=cc(n,i.document),o=i.readTime?sr(i.readTime):Qt.min(),c=_i.newNoDocument(r,o);t=new VS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=cc(n,i.document);t=new VS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Nt();{const i=e.filter,o=new d7(i.count||0);t=new Q6(i.targetId,o)}}var p;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return Qt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Qt.min():o.readTime?sr(o.readTime):Qt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=O0(this.yt),t.addTarget=function(r,o){let c;const d=o.target;return c=kS(d)?{documents:l3(r,d)}:{query:KR(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=n3(r,o.resumeToken):o.snapshotVersion.compareTo(Qt.min())>0&&(c.readTime=Qg(r,o.snapshotVersion.toTimestamp())),c}(this.yt,e);const i=function I7(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=O0(this.yt),t.removeTarget=e,this.Bo(t)}}class kY extends az{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function x7(n,e){return n&&n.length>0?(Yt(void 0!==e),n.map(t=>function(i,r){let o=sr(i.updateTime?i.updateTime:r);return o.isEqual(Qt.min())&&(o=sr(r)),new c7(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.Zo(i,t)}return Yt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=O0(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>P0(this.yt,i))};this.Bo(t)}}class RY extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new qe(xe.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection._o(e,t,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(xe.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class PY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(or(t),this.ou=!1):et("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class NY{constructor(e,t,i,r,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(d=>{i.enqueueAndForget((0,Ae.Z)(function*(){var p;Cl(c)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ae.Z)(function*(_){const b=bt(_);b._u.add(4),yield r_(b),b.gu.set("Unknown"),b._u.delete(4),yield $0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new PY(i,r)}}function $0(n){return EO.apply(this,arguments)}function EO(){return EO=(0,Ae.Z)(function*(n){if(Cl(n))for(const e of n.wu)yield e(!0)}),EO.apply(this,arguments)}function r_(n){return xO.apply(this,arguments)}function xO(){return xO=(0,Ae.Z)(function*(n){for(const e of n.wu)yield e(!1)}),xO.apply(this,arguments)}function tT(n,e){const t=bt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),TO(t)?SO(t):s_(t).ko()&&IO(t,e))}function G0(n,e){const t=bt(n),i=s_(t);t.du.delete(e),i.ko()&&cz(t,e),0===t.du.size&&(i.ko()?i.Fo():Cl(t)&&t.gu.set("Unknown"))}function IO(n,e){n.yu.Ot(e.targetId),s_(n).zo(e)}function cz(n,e){n.yu.Ot(e),s_(n).Ho(e)}function SO(n){n.yu=new g7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),s_(n).start(),n.gu.uu()}function TO(n){return Cl(n)&&!s_(n).No()&&n.du.size>0}function Cl(n){return 0===bt(n)._u.size}function lz(n){n.yu=void 0}function FY(n){return DO.apply(this,arguments)}function DO(){return DO=(0,Ae.Z)(function*(n){n.du.forEach((e,t)=>{IO(n,e)})}),DO.apply(this,arguments)}function LY(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,Ae.Z)(function*(n,e){lz(n),TO(n)?(n.gu.hu(e),SO(n)):n.gu.set("Unknown")}),AO.apply(this,arguments)}function BY(n,e,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Ae.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof X6&&2===e.state&&e.cause)try{yield(i=(0,Ae.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nT(n,i)}else if(e instanceof VS?n.yu.Kt(e):e instanceof Q6?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Qt.min()))try{const i=yield Q3(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const c=r.yu.Zt(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(wr.EMPTY_BYTE_STRING,p.snapshotVersion)),cz(r,d);const _=new ld(p.target,d,1,p.sequenceNumber);IO(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){et("RemoteStore","Failed to raise snapshot:",i),yield nT(n,i)}var i}),MO.apply(this,arguments)}function nT(n,e,t){return kO.apply(this,arguments)}function kO(){return kO=(0,Ae.Z)(function*(n,e,t){if(!nd(e))throw e;n._u.add(1),yield r_(n),n.gu.set("Offline"),t||(t=()=>Q3(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield $0(n)}))}),kO.apply(this,arguments)}function uz(n,e){return e().catch(t=>nT(n,t,e))}function o_(n){return RO.apply(this,arguments)}function RO(){return RO=(0,Ae.Z)(function*(n){const e=bt(n),t=fd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;VY(e);)try{const r=yield EY(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,UY(e,r)}catch(r){yield nT(e,r)}dz(e)&&hz(e)}),RO.apply(this,arguments)}function VY(n){return Cl(n)&&n.fu.length<10}function UY(n,e){n.fu.push(e);const t=fd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function dz(n){return Cl(n)&&!fd(n).No()&&n.fu.length>0}function hz(n){fd(n).start()}function zY(n){return OO.apply(this,arguments)}function OO(){return OO=(0,Ae.Z)(function*(n){fd(n).eu()}),OO.apply(this,arguments)}function jY(n){return PO.apply(this,arguments)}function PO(){return PO=(0,Ae.Z)(function*(n){const e=fd(n);for(const t of n.fu)e.Xo(t.mutations)}),PO.apply(this,arguments)}function HY(n,e,t){return NO.apply(this,arguments)}function NO(){return NO=(0,Ae.Z)(function*(n,e,t){const i=n.fu.shift(),r=JR.from(i,e,t);yield uz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield o_(n)}),NO.apply(this,arguments)}function $Y(n,e){return FO.apply(this,arguments)}function FO(){return FO=(0,Ae.Z)(function*(n,e){var t;e&&fd(n).Yo&&(yield(t=(0,Ae.Z)(function*(i,r){if(W6(o=r.code)&&o!==xe.ABORTED){const c=i.fu.shift();fd(i).Mo(),yield uz(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield o_(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),dz(n)&&hz(n)}),FO.apply(this,arguments)}function fz(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,Ae.Z)(function*(n,e){const t=bt(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=Cl(t);t._u.add(3),yield r_(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield $0(t)}),LO.apply(this,arguments)}function BO(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,Ae.Z)(function*(n,e){const t=bt(n);e?(t._u.delete(2),yield $0(t)):e||(t._u.add(2),yield r_(t),t.gu.set("Unknown"))}),VO.apply(this,arguments)}function s_(n){return n.pu||(n.pu=function(e,t,i){const r=bt(e);return r.su(),new MY(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:FY.bind(null,n),Zr:LY.bind(null,n),Wo:BY.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.pu.Mo(),TO(n)?SO(n):n.gu.set("Unknown")):(yield n.pu.stop(),lz(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function fd(n){return n.Iu||(n.Iu=function(e,t,i){const r=bt(e);return r.su(),new kY(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:zY.bind(null,n),Zr:$Y.bind(null,n),tu:jY.bind(null,n),Zo:HY.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Iu.Mo(),yield o_(n)):(yield n.Iu.stop(),n.fu.length>0&&(et("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class UO{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,d=new UO(e,t,c,r,o);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(n,e){if(or("AsyncQueue",`${e}: ${n}`),nd(n))return new qe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class c_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||gt.comparator(t.key,i.key):(t,i)=>gt.comparator(t.key,i.key),this.keyedMap=D0(),this.sortedSet=new Xi(this.comparator)}static emptySet(e){return new c_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof c_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new c_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pz{constructor(){this.Tu=new Xi(gt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Nt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class l_{constructor(e,t,i,r,o,c,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new l_(e,t,c_.emptySet(t),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class GY{constructor(){this.Au=void 0,this.listeners=[]}}class WY{constructor(){this.queries=new cd(e=>M6(e),x0),this.onlineState="Unknown",this.Ru=new Set}}function zO(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,Ae.Z)(function*(n,e){const t=bt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new GY),r)try{o.Au=yield t.onListen(i)}catch(c){const d=a_(c,`Initialization of query '${GR(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&GO(t)}),jO.apply(this,arguments)}function HO(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,Ae.Z)(function*(n,e){const t=bt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),$O.apply(this,arguments)}function qY(n,e){const t=bt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&GO(t)}function YY(n,e,t){const i=bt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function GO(n){n.Ru.forEach(e=>{e.next()})}class WO{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new l_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=l_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ZY{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class mz{constructor(e){this.yt=e}Ji(e){return cc(this.yt,e)}Yi(e){return e.metadata.exists?c3(this.yt,e.document,!1):_i.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return sr(e)}}class KY{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gz(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Gn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new mz(this.yt);for(const r of e)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||En()).add(o);t.set(c,d)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function xY(n,e,t,i){return mO.apply(this,arguments)}(e.localStore,new mz(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield IY(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function gz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _z{constructor(e){this.key=e}}class vz{constructor(e){this.key=e}}class yz{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=En(),this.mutatedKeys=En(),this.Gu=R6(e),this.Qu=new c_(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new pz,r=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,x)=>{const T=r.get(b),M=I0(this.query,x)?x:null,N=!!T&&this.mutatedKeys.has(T.key),q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let ce=!1;T&&M?T.data.isEqual(M.data)?N!==q&&(i.track({type:3,doc:M}),ce=!0):this.Hu(T,M)||(i.track({type:2,doc:M}),ce=!0,(p&&this.Gu(M,p)>0||_&&this.Gu(M,_)<0)&&(d=!0)):!T&&M?(i.track({type:0,doc:M}),ce=!0):T&&!M&&(i.track({type:1,doc:T}),ce=!0,(p||_)&&(d=!0)),ce&&(M?(c=c.add(M),o=q?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{Qu:c,zu:i,$i:d,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((_,b)=>function(x,T){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return M(x)-M(T)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(i);const c=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==o.length||p?{snapshot:new l_(this.query,e.Qu,r,o,e.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new pz,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=En(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new vz(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new _z(i))}),t}tc(e){this.qu=e.Hi,this.Ku=En();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return l_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class QY{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class XY{constructor(e){this.key=e,this.nc=!1}}class JY{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new cd(d=>M6(d),x0),this.rc=new Map,this.oc=new Set,this.uc=new Xi(gt.comparator),this.cc=new Map,this.ac=new cO,this.hc={},this.lc=new Map,this.fc=Qf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function eZ(n,e){return qO.apply(this,arguments)}function qO(){return qO=(0,Ae.Z)(function*(n,e){const t=gP(n);let i,r;const o=t.ic.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const c=yield n_(t.localStore,Co(e));t.isPrimaryClient&&tT(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield YO(t,e,i,"current"===d,c.resumeToken)}return r}),qO.apply(this,arguments)}function YO(n,e,t,i,r){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,Ae.Z)(function*(n,e,t,i,r){n._c=(x,T,M)=>{return(N=(0,Ae.Z)(function*(q,ce,ze,Xe){let Ke=ce.view.Wu(ze);Ke.$i&&(Ke=yield QS(q.localStore,ce.query,!1).then(({documents:zt})=>ce.view.Wu(zt,Ke)));const tt=Xe&&Xe.targetChanges.get(ce.targetId),Et=ce.view.applyChanges(Ke,q.isPrimaryClient,tt);return oP(q,ce.targetId,Et.Xu),Et.snapshot}),function(q,ce,ze,Xe){return N.apply(this,arguments)})(n,x,T,M);var N};const o=yield QS(n.localStore,e,!0),c=new yz(e,o.Hi),d=c.Wu(o.documents),p=k0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,p);oP(n,t,_.Xu);const b=new QY(e,t,c);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),ZO.apply(this,arguments)}function tZ(n,e){return KO.apply(this,arguments)}function KO(){return KO=(0,Ae.Z)(function*(n,e){const t=bt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(o=>!x0(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield i_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),G0(t.remoteStore,i.targetId),u_(t,i.targetId)}).catch(td))):(u_(t,i.targetId),yield i_(t.localStore,i.targetId,!0))}),KO.apply(this,arguments)}function QO(){return QO=(0,Ae.Z)(function*(n,e,t){const i=_P(n);try{const r=yield function(o,c){const d=bt(o),p=Mi.now(),_=c.reduce((T,M)=>T.add(M.key),En());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let M=zo(),N=En();return d.Gi.getEntries(T,_).next(q=>{M=q,M.forEach((ce,ze)=>{ze.isValidDocument()||(N=N.add(ce))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,M)).next(q=>{b=q;const ce=[];for(const ze of c){const Xe=u7(ze,b.get(ze.key).overlayedDocument);null!=Xe&&ce.push(new wl(ze.key,Xe,I6(Xe.value.mapValue),ki.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,ce,c)}).next(q=>{x=q;const ce=q.applyToLocalDocumentSet(b,N);return d.documentOverlayCache.saveOverlays(T,q.batchId,ce)})}).then(()=>({batchId:x.batchId,changes:Z6(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.hc[o.currentUser.toKey()];p||(p=new Xi(vn)),p=p.insert(c,d),o.hc[o.currentUser.toKey()]=p}(i,r.batchId,t),yield El(i,r.changes),yield o_(i.remoteStore)}catch(r){const o=a_(r,"Failed to persist write");t.reject(o)}}),QO.apply(this,arguments)}function bz(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,Ae.Z)(function*(n,e){const t=bt(n);try{const i=yield function CY(n,e){const t=bt(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const d=[];e.targetChanges.forEach((b,x)=>{const T=r.get(x);if(!T)return;d.push(t.Cs.removeMatchingKeys(o,b.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(o,b.addedDocuments,x)));let M=T.withSequenceNumber(o.currentSequenceNumber);var N,q,ce;e.targetMismatches.has(x)?M=M.withResumeToken(wr.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,i)),r=r.insert(x,M),q=M,ce=b,(0===(N=T).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(o,M))});let p=zo(),_=En();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))}),d.push(X3(o,c,e.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Qt.min())){const b=t.Cs.getLastRemoteSnapshotVersion(o).next(x=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(b)}return Ce.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,_)).next(()=>p)}).then(o=>(t.qi=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.cc.get(o);c&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Yt(c.nc):r.removedDocuments.size>0&&(Yt(c.nc),c.nc=!1))}),yield El(t,i,e)}catch(i){yield td(i)}}),XO.apply(this,arguments)}function wz(n,e,t){const i=bt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((o,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=bt(o);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const x of b.listeners)x.bu(c)&&(p=!0)}),p&&GO(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function iZ(n,e,t){return JO.apply(this,arguments)}function JO(){return JO=(0,Ae.Z)(function*(n,e,t){const i=bt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),o=r&&r.key;if(o){let c=new Xi(gt.comparator);c=c.insert(o,_i.newNoDocument(o,Qt.min()));const d=En().add(o),p=new M0(Qt.min(),new Map,new oi(vn),c,d);yield bz(i,p),i.uc=i.uc.remove(o),i.cc.delete(e),sP(i)}else yield i_(i.localStore,e,!1).then(()=>u_(i,e,t)).catch(td)}),JO.apply(this,arguments)}function rZ(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,Ae.Z)(function*(n,e){const t=bt(n),i=e.batch.batchId;try{const r=yield function wY(n,e){const t=bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,x=b.keys();let T=Ce.resolve();return x.forEach(M=>{T=T.next(()=>_.getEntry(d,M)).next(N=>{const q=p.docVersions.get(M);Yt(null!==q),N.version.compareTo(q)<0&&(b.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),_.addEntry(N)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=En();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);rP(t,i,null),iP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield El(t,r)}catch(r){yield td(r)}}),eP.apply(this,arguments)}function oZ(n,e,t){return tP.apply(this,arguments)}function tP(){return tP=(0,Ae.Z)(function*(n,e,t){const i=bt(n);try{const r=yield function(o,c){const d=bt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(Yt(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,e);rP(i,e,t),iP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield El(i,r)}catch(r){yield td(r)}}),tP.apply(this,arguments)}function nP(){return nP=(0,Ae.Z)(function*(n,e){const t=bt(n);Cl(t.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=bt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=a_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),nP.apply(this,arguments)}function iP(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function rP(n,e,t){const i=bt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function u_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||Cz(n,i)})}function Cz(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(G0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),sP(n))}function oP(n,e,t){for(const i of t)i instanceof _z?(n.ac.addReference(i.key,e),aZ(n,i)):i instanceof vz?(et("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||Cz(n,i.key)):Nt()}function aZ(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(et("SyncEngine","New document in limbo: "+t),n.oc.add(i),sP(n))}function sP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new gt(Gn.fromString(e)),i=n.fc.next();n.cc.set(i,new XY(t)),n.uc=n.uc.insert(t,i),tT(n.remoteStore,new ld(Co(Wg(t.path)),i,2,cs.at))}}function El(n,e,t){return aP.apply(this,arguments)}function aP(){return aP=(0,Ae.Z)(function*(n,e,t){const i=bt(n),r=[],o=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=hO.Ci(p.targetId,_);o.push(b)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,Ae.Z)(function*(p,_){const b=bt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ce.forEach(_,T=>Ce.forEach(T.Si,M=>b.persistence.referenceDelegate.addReference(x,T.targetId,M)).next(()=>Ce.forEach(T.Di,M=>b.persistence.referenceDelegate.removeReference(x,T.targetId,M)))))}catch(x){if(!nd(x))throw x;et("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const T=x.targetId;if(!x.fromCache){const M=b.qi.get(T),q=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);b.qi=b.qi.insert(T,q)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,o))}),aP.apply(this,arguments)}function cZ(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,Ae.Z)(function*(n,e){const t=bt(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const i=yield K3(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(d=>{d.reject(new qe(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield El(t,i.ji)}var r}),cP.apply(this,arguments)}function lZ(n,e){const t=bt(n),i=t.cc.get(e);if(i&&i.nc)return En().add(i.key);{let r=En();const o=t.rc.get(e);if(!o)return r;for(const c of o){const d=t.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function uZ(n,e){return lP.apply(this,arguments)}function lP(){return lP=(0,Ae.Z)(function*(n,e){const t=bt(n),i=yield QS(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&oP(t,e.targetId,r.Xu),r}),lP.apply(this,arguments)}function dZ(n,e){return uP.apply(this,arguments)}function uP(){return uP=(0,Ae.Z)(function*(n,e){const t=bt(n);return ez(t.localStore,e).then(i=>El(t,i))}),uP.apply(this,arguments)}function hZ(n,e,t,i){return dP.apply(this,arguments)}function dP(){return dP=(0,Ae.Z)(function*(n,e,t,i){const r=bt(n),o=yield function(c,d){const p=bt(c),_=bt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(x=>x?p.localDocuments.getDocuments(b,x):Ce.resolve(null)))}(r.localStore,e);var d;null!==o?("pending"===t?yield o_(r.remoteStore):"acknowledged"===t||"rejected"===t?(rP(r,e,i||null),iP(r,e),d=e,bt(bt(r.localStore).mutationQueue).An(d)):Nt(),yield El(r,o)):et("SyncEngine","Cannot apply mutation batch with id: "+e)}),dP.apply(this,arguments)}function hP(){return hP=(0,Ae.Z)(function*(n,e){const t=bt(n);if(gP(t),_P(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Ez(t,i.toArray());t.dc=!0,yield BO(t.remoteStore,!0);for(const o of r)tT(t.remoteStore,o)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(u_(t,c),i_(t.localStore,c,!0))),G0(t.remoteStore,c)}),yield r,yield Ez(t,i),function(o){const c=bt(o);c.cc.forEach((d,p)=>{G0(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new Xi(gt.comparator)}(t),t.dc=!1,yield BO(t.remoteStore,!1)}}),hP.apply(this,arguments)}function Ez(n,e,t){return fP.apply(this,arguments)}function fP(){return fP=(0,Ae.Z)(function*(n,e,t){const i=bt(n),r=[],o=[];for(const c of e){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield n_(i.localStore,Co(p[0]));for(const _ of p){const b=i.ic.get(_),x=yield uZ(i,b);x.snapshot&&o.push(x.snapshot)}}else{const _=yield J3(i.localStore,c);d=yield n_(i.localStore,_),yield YO(i,xz(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(o),r}),fP.apply(this,arguments)}function xz(n){return D6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pZ(n){const e=bt(n);return bt(bt(e.localStore).persistence).vi()}function mZ(n,e,t,i){return pP.apply(this,arguments)}function pP(){return pP=(0,Ae.Z)(function*(n,e,t,i){const r=bt(n);if(r.dc)return void et("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield ez(r.localStore,k6(o[0])),d=M0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,wr.EMPTY_BYTE_STRING);yield El(r,c,d);break}case"rejected":yield i_(r.localStore,e,!0),u_(r,e,i);break;default:Nt()}}),pP.apply(this,arguments)}function gZ(n,e,t){return mP.apply(this,arguments)}function mP(){return mP=(0,Ae.Z)(function*(n,e,t){const i=gP(n);if(i.dc){for(const r of e){if(i.rc.has(r)){et("SyncEngine","Adding an already active target "+r);continue}const o=yield J3(i.localStore,r),c=yield n_(i.localStore,o);yield YO(i,xz(o),c.targetId,!1,c.resumeToken),tT(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield i_(i.localStore,r,!1).then(()=>{G0(i.remoteStore,r),u_(i,r)}).catch(td))}}),mP.apply(this,arguments)}function gP(n){const e=bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iZ.bind(null,e),e.sc.Wo=qY.bind(null,e.eventManager),e.sc.wc=YY.bind(null,e.eventManager),e}function _P(n){const e=bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oZ.bind(null,e),e}class Iz{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.yt=H0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Z3(this.persistence,new Y3,e.initialUser,this.yt)}yc(e){return new W3(ZS.Bs,this.yt)}gc(e){return new rz}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sz extends Iz{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ae.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield _P(i.Ac.syncEngine),yield o_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Z3(this.persistence,new Y3,e.initialUser,this.yt)}Tc(e,t){return new sY(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new $q(t,this.persistence);return new Hq(e.asyncQueue,i)}yc(e){const t=dO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new uO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sz(),eT(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rz}}class vZ extends Sz{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ae.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof bO&&(i.sharedClientState.syncEngine={Fr:hZ.bind(null,r),$r:mZ.bind(null,r),Br:gZ.bind(null,r),vi:pZ.bind(null,r),Mr:dZ.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Ae.Z)(function*(c){yield function fZ(n,e){return hP.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}gc(e){const t=sz();if(!bO.C(t))throw new qe(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bO(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class vP{initialize(e,t){var i=this;return(0,Ae.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=cZ.bind(null,i.syncEngine),yield BO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new WY}createDatastore(e){const t=H0(e.databaseInfo.databaseId),i=new AY(e.databaseInfo);return new RY(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=d=>wz(this.syncEngine,d,0),c=oz.C()?new oz:new SY,new NY(t,i,r,o,c);var t,i,r,o,c}createSyncEngine(e,t){return function(i,r,o,c,d,p,_){const b=new JY(i,r,o,c,d,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const i=bt(t);et("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield r_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yP(n,e,t){if(!t)throw new qe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Tz(n,e,t,i){if(!0===e&&!0===i)throw new qe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Dz(n){if(!gt.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Az(n){if(gt.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nt()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iT(n);throw new qe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mz(n,e){if(e<=0)throw new qe(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const kz=new Map;class Rz{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Tz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class W0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kq;switch(t.type){case"gapi":return new Nq(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kz.get(e);t&&(et("ComponentProvider","Removing Datastore"),kz.delete(e),t.terminate())}(this),Promise.resolve()}}function Oz(n,e,t,i={}){var r;const o=(n=Fn(n,W0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Nf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Nr.MOCK_USER;else{c=(0,J.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new qe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Nr(p)}n._authCredentials=new Rq(new KU(c,d))}}class vi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class Xr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class uc extends Xr{constructor(e,t,i){super(e,t,Wg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new gt(e))}withConverter(e){return new uc(this.firestore,e,this._path)}}function Pz(n,e,...t){if(n=(0,J.m9)(n),yP("collection","path",e),n instanceof W0){const i=Gn.fromString(e,...t);return Az(i),new uc(n,null,i)}{if(!(n instanceof vi||n instanceof uc))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gn.fromString(e,...t));return Az(i),new uc(n.firestore,null,i)}}function rT(n,e,...t){if(n=(0,J.m9)(n),1===arguments.length&&(e=XU.R()),yP("doc","path",e),n instanceof W0){const i=Gn.fromString(e,...t);return Dz(i),new vi(n,null,new gt(i))}{if(!(n instanceof vi||n instanceof uc))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Gn.fromString(e,...t));return Dz(i),new vi(n.firestore,n instanceof uc?n.converter:null,new gt(i))}}function Nz(n,e){return n=(0,J.m9)(n),e=(0,J.m9)(e),(n instanceof vi||n instanceof uc)&&(e instanceof vi||e instanceof uc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function bP(n,e){return n=(0,J.m9)(n),e=(0,J.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&x0(n._query,e._query)&&n.converter===e.converter}function Fz(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bZ{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new br,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const o=yield e.Cc(r);return new ZY(JSON.parse(o),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class EZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qe(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ae.Z)(function*(o,c){const d=bt(o),p=O0(d.yt)+"/documents",_={documents:c.map(M=>R0(d.yt,M))},b=yield d._o("BatchGetDocuments",p,_,c.length),x=new Map;b.forEach(M=>{const N=function C7(n,e){return"found"in e?function(t,i){Yt(!!i.found);const r=cc(t,i.found.name),o=sr(i.found.updateTime),c=i.found.createTime?sr(i.found.createTime):Qt.min(),d=new Qr({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,o,c,d)}(n,e):"missing"in e?function(t,i){Yt(!!i.missing),Yt(!!i.readTime);const r=cc(t,i.missing),o=sr(i.readTime);return _i.newNoDocument(r,o)}(n,e):Nt()}(d.yt,M);x.set(N.key.toString(),N)});const T=[];return c.forEach(M=>{const N=x.get(M.toString());Yt(!!N),T.push(N)}),T}),function(o,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=gt.fromPath(r);e.mutations.push(new WR(o,e.precondition(o)))}),yield(i=(0,Ae.Z)(function*(r,o){const c=bt(r),d=O0(c.yt)+"/documents",p={writes:o.map(_=>P0(c.yt,_))};yield c.ao("Commit",d,p)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt();t=Qt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new qe(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qt.min())?ki.exists(!1):ki.updateTime(t):ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qt.min()))throw new qe(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(t)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xZ{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new wO(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ae.Z)(function*(){const t=new EZ(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Fc(o)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!_0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!W6(t)}return!1}}class IZ{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Nr.UNAUTHENTICATED,this.clientId=XU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ae.Z)(function*(d){et("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(et("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=a_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Lz(n,e){return wP.apply(this,arguments)}function wP(){return wP=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ae.Z)(function*(o){i.isEqual(o)||(yield K3(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),wP.apply(this,arguments)}function Bz(n,e){return CP.apply(this,arguments)}function CP(){return CP=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield EP(n);et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fz(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>fz(e.remoteStore,o)),n.onlineComponents=e}),CP.apply(this,arguments)}function EP(n){return xP.apply(this,arguments)}function xP(){return xP=(0,Ae.Z)(function*(n){return n.offlineComponents||(et("FirestoreClient","Using default OfflineComponentProvider"),yield Lz(n,new Iz)),n.offlineComponents}),xP.apply(this,arguments)}function sT(n){return IP.apply(this,arguments)}function IP(){return IP=(0,Ae.Z)(function*(n){return n.onlineComponents||(et("FirestoreClient","Using default OnlineComponentProvider"),yield Bz(n,new vP)),n.onlineComponents}),IP.apply(this,arguments)}function Vz(n){return EP(n).then(e=>e.persistence)}function aT(n){return EP(n).then(e=>e.localStore)}function SP(n){return sT(n).then(e=>e.remoteStore)}function TP(n){return sT(n).then(e=>e.syncEngine)}function d_(n){return DP.apply(this,arguments)}function DP(){return DP=(0,Ae.Z)(function*(n){const e=yield sT(n),t=e.eventManager;return t.onListen=eZ.bind(null,e.syncEngine),t.onUnlisten=tZ.bind(null,e.syncEngine),t}),DP.apply(this,arguments)}function zz(n,e,t={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,o,c,d,p){const _=new oT({next:x=>{o.enqueueAndForget(()=>HO(r,b));const T=x.docs.has(c);!T&&x.fromCache?p.reject(new qe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&"server"===d.source?p.reject(new qe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new WO(Wg(c.path),_,{includeMetadataChanges:!0,Nu:!0});return zO(r,b)}(yield d_(n),n.asyncQueue,e,t,i)})),i.promise}function jz(n,e,t={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,o,c,d,p){const _=new oT({next:x=>{o.enqueueAndForget(()=>HO(r,b)),x.fromCache&&"server"===d.source?p.reject(new qe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new WO(c,_,{includeMetadataChanges:!0,Nu:!0});return zO(r,b)}(yield d_(n),n.asyncQueue,e,t,i)})),i.promise}class OZ{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wO(this,"async_queue_retry"),this.Wc=()=>{const t=eT();t&&et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=eT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=eT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new br;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!nd(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,or("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=UO.createAndSchedule(this,e,t,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&Nt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function AP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class PZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yi extends W0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new OZ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hz(this),this._firestoreClient.terminate()}}function FZ(n,e){const t="object"==typeof n?n:(0,$n.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,$n._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,J.P0)("firestore");o&&Oz(r,...o)}return r}function ar(n){return n._firestoreClient||Hz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Hz(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Gq(n._databaseId,o,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new IZ(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $z(n,e,t){const i=new br;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield Lz(n,t),yield Bz(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===xe.FAILED_PRECONDITION||c.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;Nf("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function Gz(n){if(n._initialized||n._terminated)throw new qe(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(wr.fromBase64String(e))}catch(t){throw new qe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jf{constructor(e){this._methodName=e}}class cT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const GZ=/^__.*__$/;class WZ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new wl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zg(e,this.data,t,this.fieldTransforms)}}class Wz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class lT{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new lT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return hT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(qz(this.sa)&&GZ.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class qZ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||H0(e)}da(e,t,i,r=!1){return new lT({sa:e,methodName:t,fa:i,path:Ki.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ep(n){const e=n._freezeSettings(),t=H0(n._databaseId);return new qZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uT(n,e,t,i,r,o={}){const c=n.da(o.merge||o.mergeFields?2:0,e,t,r);OP("Data must be an object, but it was:",c,i);const d=Kz(i,c);let p,_;if(o.merge)p=new Uo(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const x of o.mergeFields){const T=PP(e,x,t);if(!c.contains(T))throw new qe(xe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Xz(b,T)||b.push(T)}p=new Uo(b),_=c.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,_=c.fieldTransforms;return new WZ(new Qr(d),p,_)}class q0 extends Jf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof q0}}function Yz(n,e,t){return new lT({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class MP extends Jf{_toFieldTransform(e){return new S0(e.path,new qg)}isEqual(e){return e instanceof MP}}class YZ extends Jf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Yz(this,e,!0),i=this._a.map(o=>tp(o,t)),r=new $f(i);return new S0(e.path,r)}isEqual(e){return this===e}}class ZZ extends Jf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Yz(this,e,!0),i=this._a.map(o=>tp(o,t)),r=new Gf(i);return new S0(e.path,r)}isEqual(e){return this===e}}class KZ extends Jf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Yg(e.yt,N6(e.yt,this.wa));return new S0(e.path,t)}isEqual(e){return this===e}}function kP(n,e,t,i){const r=n.da(1,e,t);OP("Data must be an object, but it was:",r,i);const o=[],c=Qr.empty();Bf(i,(p,_)=>{const b=dT(e,p,t);_=(0,J.m9)(_);const x=r.ca(b);if(_ instanceof q0)o.push(b);else{const T=tp(_,x);null!=T&&(o.push(b),c.set(b,T))}});const d=new Uo(o);return new Wz(c,d,r.fieldTransforms)}function RP(n,e,t,i,r,o){const c=n.da(1,e,t),d=[PP(e,i,t)],p=[r];if(o.length%2!=0)throw new qe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)d.push(PP(e,o[T])),p.push(o[T+1]);const _=[],b=Qr.empty();for(let T=d.length-1;T>=0;--T)if(!Xz(_,d[T])){const M=d[T];let N=p[T];N=(0,J.m9)(N);const q=c.ca(M);if(N instanceof q0)_.push(M);else{const ce=tp(N,q);null!=ce&&(_.push(M),b.set(M,ce))}}const x=new Uo(_);return new Wz(b,x,c.fieldTransforms)}function Zz(n,e,t,i=!1){return tp(t,n.da(i?4:3,e))}function tp(n,e){if(Qz(n=(0,J.m9)(n)))return OP("Unsupported field value:",e,n),Kz(n,e);if(n instanceof Jf)return function(t,i){if(!qz(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const c of t){let d=tp(c,i.aa(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,J.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return N6(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Mi.fromDate(t);return{timestampValue:Qg(i.yt,r)}}if(t instanceof Mi){const r=new Mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Qg(i.yt,r)}}if(t instanceof cT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dc)return{bytesValue:n3(i.yt,t._byteString)};if(t instanceof vi){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qR(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${iT(t)}`)}(n,e)}function Kz(n,e){const t={};return s6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bf(n,(i,r)=>{const o=tp(r,e.ra(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function Qz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mi||n instanceof cT||n instanceof dc||n instanceof vi||n instanceof Jf)}function OP(n,e,t){if(!Qz(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=iT(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function PP(n,e,t){if((e=(0,J.m9)(e))instanceof xl)return e._internalPath;if("string"==typeof e)return dT(n,e);throw hT("Field path arguments must be of type string or ",n,!1,void 0,t)}const QZ=new RegExp("[~\\*/\\[\\]]");function dT(n,e,t){if(e.search(QZ)>=0)throw hT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw hT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hT(n,e,t,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new qe(xe.INVALID_ARGUMENT,d+n+p)}function Xz(n,e){return n.some(t=>t.isEqual(e))}class Y0{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XZ extends Y0{data(){return super.data()}}function fT(n,e){return"string"==typeof e?dT(n,e):e instanceof xl?e._internalPath:e._delegate._internalPath}function Jz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NP{}class Z0 extends NP{}function pd(n,e,...t){let i=[];e instanceof NP&&i.push(e),i=i.concat(t),function(r){const o=r.filter(d=>d instanceof h_).length,c=r.filter(d=>d instanceof K0).length;if(o>1||o>0&&c>0)throw new qe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class K0 extends Z0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new K0(e,t,i)}_apply(e){const t=this._parse(e);return r4(e._query,t),new Xr(e.firestore,e.converter,$R(e._query,t))}_parse(e){const t=ep(e.firestore);return function(r,o,c,d,p,_,b){let x;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){n4(b,_);const T=[];for(const M of b)T.push(t4(d,r,M));x={arrayValue:{values:T}}}else x=t4(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||n4(b,_),x=Zz(c,"where",b,"in"===_||"not-in"===_);return Nn.create(p,_,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class h_ extends NP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new h_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const d of c)r4(o,d),o=$R(o,d)}(e._query,t),new Xr(e.firestore,e.converter,$R(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class FP extends Z0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new FP(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new $g(r,o);return function(d,p){if(null===jR(d)){const _=OS(d);null!==_&&o4(0,_,p.field)}}(i,c),c}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new bl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class pT extends Z0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new pT(e,t,i)}_apply(e){return new Xr(e.firestore,e.converter,PS(e._query,this._limit,this._limitType))}}class mT extends Z0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new mT(e,t,i)}_apply(e){const t=e4(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new bl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gT extends Z0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gT(e,t,i)}_apply(e){const t=e4(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new bl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function e4(n,e,t,i){if(t[0]=(0,J.m9)(t[0]),t[0]instanceof Y0)return function(r,o,c,d,p){if(!d)throw new qe(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Hf(r))if(b.field.isKeyField())_.push(zf(o,d.key));else{const x=d.data.field(b.field);if(NR(x))throw new qe(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const T=b.field.canonicalString();throw new qe(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}_.push(x)}return new ad(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ep(n.firestore);return function(o,c,d,p,_,b){const x=o.explicitOrderBy;if(_.length>x.length)throw new qe(xe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let M=0;M<_.length;M++){const N=_[M];if(x[M].field.isKeyField()){if("string"!=typeof N)throw new qe(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof N}`);if(!HR(o)&&-1!==N.indexOf("/"))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${N}' contains a slash.`);const q=o.path.child(Gn.fromString(N));if(!gt.isDocumentKey(q))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const ce=new gt(q);T.push(zf(c,ce))}else{const q=Zz(d,p,N);T.push(q)}}return new ad(T,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function t4(n,e,t){if("string"==typeof(t=(0,J.m9)(t))){if(""===t)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HR(e)&&-1!==t.indexOf("/"))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Gn.fromString(t));if(!gt.isDocumentKey(i))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zf(n,new gt(i))}if(t instanceof vi)return zf(n,t._key);throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iT(t)}.`)}function n4(n,e){if(!Array.isArray(n)||0===n.length)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function r4(n,e){if(e.isInequality()){const i=OS(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=jR(n);null!==o&&o4(0,r,o)}const t=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qe(xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function o4(n,e,t){if(!t.isEqual(e))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class LP{convertValue(e,t="none"){switch(Uf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){const i={};return Bf(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new cT(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=c6(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(y0(e));default:return null}}convertTimestamp(e){const t=rd(e);return new Mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Gn.fromString(e);Yt(f3(i));const r=new id(i.get(1),i.get(3)),o=new gt(i.popFirst(5));return r.isEqual(t)||or(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function _T(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class aK extends LP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,t)}}class np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Il extends Y0{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Q0 extends Il{data(e={}){return super.data(e)}}class md{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new np(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Q0(this._firestore,this._userDataWriter,i.key,i,new np(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Q0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new np(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Q0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new np(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:cK(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function a4(n,e){return n instanceof Il&&e instanceof Il?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof md&&e instanceof md&&n._firestore===e._firestore&&bP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gd extends LP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,t)}}function c4(n,e,t){n=Fn(n,vi);const i=Fn(n.firestore,yi),r=_T(n.converter,e,t);return f_(i,[uT(ep(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ki.none())])}function l4(n,e,t,...i){n=Fn(n,vi);const r=Fn(n.firestore,yi),o=ep(r);let c;return c="string"==typeof(e=(0,J.m9)(e))||e instanceof xl?RP(o,"updateDoc",n._key,e,t,i):kP(o,"updateDoc",n._key,e),f_(r,[c.toMutation(n._key,ki.exists(!0))])}function u4(n,...e){var t,i,r;n=(0,J.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||AP(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(AP(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[c+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let p,_,b;if(n instanceof vi)_=Fn(n.firestore,yi),b=Wg(n._key.path),p={next:x=>{e[c]&&e[c](BP(_,n,x))},error:e[c+1],complete:e[c+2]};else{const x=Fn(n,Xr);_=Fn(x.firestore,yi),b=x._query;const T=new gd(_);p={next:M=>{e[c]&&e[c](new md(_,T,x,M))},error:e[c+1],complete:e[c+2]},Jz(n._query)}return function(x,T,M,N){const q=new oT(N),ce=new WO(T,q,M);return x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return zO(yield d_(x),ce)})),()=>{q.bc(),x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return HO(yield d_(x),ce)}))}}(ar(_),b,d,p)}function f_(n,e){return function(t,i){const r=new br;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function nZ(n,e,t){return QO.apply(this,arguments)}(yield TP(t),i,r)})),r.promise}(ar(n),e)}function BP(n,e,t){const i=t.docs.get(e._key),r=new gd(n);return new Il(n,r,e._key,i,new np(t.hasPendingWrites,t.fromCache),e.converter)}const vK={maxAttempts:5};class d4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ep(e)}set(e,t,i){this._verifyNotCommitted();const r=_d(e,this._firestore),o=_T(r.converter,t,i),c=uT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ki.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=_d(e,this._firestore);let c;return c="string"==typeof(t=(0,J.m9)(t))||t instanceof xl?RP(this._dataReader,"WriteBatch.update",o._key,t,i,r):kP(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_d(e,this._firestore);return this._mutations=this._mutations.concat(new Kg(t._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _d(n,e){if((n=(0,J.m9)(n)).firestore!==e)throw new qe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yK extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ep(e)}get(e){const t=_d(e,this._firestore),i=new aK(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Nt();const o=r[0];if(o.isFoundDocument())return new Y0(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new Y0(this._firestore,i,t._key,null,t.converter);throw Nt()})}set(e,t,i){const r=_d(e,this._firestore),o=_T(r.converter,t,i),c=uT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const o=_d(e,this._firestore);let c;return c="string"==typeof(t=(0,J.m9)(t))||t instanceof xl?RP(this._dataReader,"Transaction.update",o._key,t,i,r):kP(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=_d(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_d(e,this._firestore),i=new gd(this._firestore);return super.get(e).then(r=>new Il(this._firestore,i,t._key,r._document,new np(!1,!1),t.converter))}}!function(n,e=!0){Ug=$n.SDK_VERSION,(0,$n._registerComponent)(new Ps.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),c=new yi(new Oq(t.getProvider("auth-internal")),new Fq(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new qe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(d.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,$n.registerVersion)(ZU,"3.8.3",n),(0,$n.registerVersion)(ZU,"3.8.3","esm2017")}();function VP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function f4(){if(typeof Uint8Array>"u")throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function p4(){if(!function Wq(){return typeof atob<"u"}())throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class X0{constructor(e){this._delegate=e}static fromBase64String(e){return p4(),new X0(dc.fromBase64String(e))}static fromUint8Array(e){return f4(),new X0(dc.fromUint8Array(e))}toBase64(){return p4(),this._delegate.toBase64()}toUint8Array(){return f4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UP(n){return function DK(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class AK{enableIndexedDbPersistence(e,t){return function LZ(n,e){Gz(n=Fn(n,yi));const t=ar(n),i=n._freezeSettings(),r=new vP;return $z(t,r,new Sz(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function BZ(n){Gz(n=Fn(n,yi));const e=ar(n),t=n._freezeSettings(),i=new vP;return $z(e,i,new vZ(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VZ(n){if(n._initialized&&!n._terminated)throw new qe(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(i){if(!_a.C())return Promise.resolve();const r=i+"main";yield _a.delete(r)}),function(i){return t.apply(this,arguments)})(dO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class m4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof id||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){Oz(this._delegate,e,t,i)}enableNetwork(){return function zZ(n){return function SZ(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Vz(n),t=yield SP(n);return e.setNetworkEnabled(!0),function(i){const r=bt(i);return r._u.delete(0),$0(r)}(t)}))}(ar(n=Fn(n,yi)))}(this._delegate)}disableNetwork(){return function jZ(n){return function TZ(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Vz(n),t=yield SP(n);return e.setNetworkEnabled(!1),(i=(0,Ae.Z)(function*(r){const o=bt(r);o._u.add(0),yield r_(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ar(n=Fn(n,yi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Tz("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UZ(n){return function(e){const t=new br;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function sZ(n,e){return nP.apply(this,arguments)}(yield TP(e),t)})),t.promise}(ar(n=Fn(n,yi)))}(this._delegate)}onSnapshotsInSync(e){return function _K(n,e){return function MZ(n,e){const t=new oT(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return i=yield d_(n),r=t,bt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return i=yield d_(n),r=t,void bt(i).Ru.delete(r);var i,r}))}}(ar(n=Fn(n,yi)),AP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new p_(this,Pz(this._delegate,e))}catch(t){throw xo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ns(this,rT(this._delegate,e))}catch(t){throw xo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Io(this,function yZ(n,e){if(n=Fn(n,W0),yP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qe(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(t=e,new bl(Gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bK(n,e,t){n=Fn(n,yi);const i=Object.assign(Object.assign({},vK),t);return function(r){if(r.maxAttempts<1)throw new qe(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const d=new br;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const p=yield function Uz(n){return sT(n).then(e=>e.datastore)}(r);new xZ(r.asyncQueue,p,c,o,d).run()})),d.promise}(ar(n),r=>e(new yK(n,r)),i)}(this._delegate,t=>e(new g4(this,t)))}batch(){return ar(this._delegate),new _4(new d4(this._delegate,e=>f_(this._delegate,e)))}loadBundle(e){return function HZ(n,e){const t=ar(n=Fn(n,yi)),i=new PZ;return function kZ(n,e,t,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,_){if(p instanceof Uint8Array)return Fz(p,_);if(p instanceof ArrayBuffer)return Fz(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new bZ(p,c);var p}(t,H0(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function _Z(n,e,t){const i=bt(n);var r;(r=(0,Ae.Z)(function*(o,c,d){try{const p=yield c.getMetadata();if(yield function(T,M){const N=bt(T),q=sr(M.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",ce=>N.Ns.getBundleMetadata(ce,M.id)).then(ce=>!!ce&&ce.createTime.compareTo(q)>=0)}(o.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(T=p).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);d._updateProgress(gz(p));const _=new KY(p,o.localStore,c.yt);let b=yield c.mc();for(;b;){const T=yield _.Fu(b);T&&d._updateProgress(T),b=yield c.mc()}const x=yield _.complete();return yield El(o,x.Lu,void 0),yield function(T,M){const N=bt(T);return N.persistence.runTransaction("Save bundle","readwrite",q=>N.Ns.saveBundleMetadata(q,M))}(o.localStore,p),d._completeWith(x.progress),Promise.resolve(x.Bu)}catch(p){return Nf("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var T}),function(o,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield TP(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function $Z(n,e){return function RZ(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,i){const r=bt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield aT(n),e)}))}(ar(n=Fn(n,yi)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Io(this,t):null)}}class vT extends LP{constructor(e){super(),this.firestore=e}convertBytes(e){return new X0(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ns.forKey(t,this.firestore,null)}}class g4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vT(e)}get(e){const t=rp(e);return this._delegate.get(t).then(i=>new J0(this._firestore,new Il(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=rp(e);return i?(VP("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=rp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=rp(e);return this._delegate.delete(t),this}}class _4{constructor(e){this._delegate=e}set(e,t,i){const r=rp(e);return i?(VP("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=rp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=rp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ip{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ew(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ip.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new ip(e,new vT(e),t),r.set(t,o)),o}}ip.INSTANCES=new WeakMap;class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vT(e)}static forPath(e,t,i){if(e.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ns(t,new vi(t._delegate,i,new gt(e)))}static forKey(e,t,i){return new Ns(t,new vi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new p_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new p_(this.firestore,Pz(this._delegate,e))}catch(t){throw xo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,J.m9)(e))instanceof vi&&Nz(this._delegate,e)}set(e,t){t=VP("DocumentReference.set",t);try{return t?c4(this._delegate,e,t):c4(this._delegate,e)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?l4(this._delegate,e):l4(this._delegate,e,t,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function mK(n){return f_(Fn(n.firestore,yi),[new Kg(n._key,ki.none())])}(this._delegate)}onSnapshot(...e){const t=v4(e),i=y4(e,r=>new J0(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return u4(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function uK(n){n=Fn(n,vi);const e=Fn(n.firestore,yi),t=ar(e),i=new gd(e);return function DZ(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(i=(0,Ae.Z)(function*(r,o,c){try{const d=yield function(p,_){const b=bt(p);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,_))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new qe(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=a_(d,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield aT(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Il(e,i,n._key,r,new np(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dK(n){n=Fn(n,vi);const e=Fn(n.firestore,yi);return zz(ar(e),n._key,{source:"server"}).then(t=>BP(e,n,t))}(this._delegate):function lK(n){n=Fn(n,vi);const e=Fn(n.firestore,yi);return zz(ar(e),n._key).then(t=>BP(e,n,t))}(this._delegate),t.then(i=>new J0(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function xo(n,e,t){return n.message=n.message.replace(e,t),n}function v4(n){for(const e of n)if("object"==typeof e&&!UP(e))return e;return{}}function y4(n,e){var t,i;let r;return r=UP(n[0])?n[0]:UP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class J0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ns(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return a4(this._delegate,e._delegate)}}class ew extends J0{data(e){const t=this._delegate.data(e);return function Mq(n,e){n||Nt()}(void 0!==t),t}}class Io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vT(e)}where(e,t,i){try{return new Io(this.firestore,pd(this._delegate,function JZ(n,e,t){const i=e,r=fT("where",n);return K0._create(r,i,t)}(e,t,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Io(this.firestore,pd(this._delegate,function eK(n,e="asc"){const t=e,i=fT("orderBy",n);return FP._create(i,t)}(e,t)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Io(this.firestore,pd(this._delegate,function tK(n){return Mz("limit",n),pT._create("limit",n,"F")}(e)))}catch(t){throw xo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Io(this.firestore,pd(this._delegate,function nK(n){return Mz("limitToLast",n),pT._create("limitToLast",n,"L")}(e)))}catch(t){throw xo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Io(this.firestore,pd(this._delegate,function iK(...n){return mT._create("startAt",n,!0)}(...e)))}catch(t){throw xo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Io(this.firestore,pd(this._delegate,function rK(...n){return mT._create("startAfter",n,!1)}(...e)))}catch(t){throw xo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Io(this.firestore,pd(this._delegate,function oK(...n){return gT._create("endBefore",n,!1)}(...e)))}catch(t){throw xo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Io(this.firestore,pd(this._delegate,function sK(...n){return gT._create("endAt",n,!0)}(...e)))}catch(t){throw xo(t,"endAt()","Query.endAt()")}}isEqual(e){return bP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fK(n){n=Fn(n,Xr);const e=Fn(n.firestore,yi),t=ar(e),i=new gd(e);return function AZ(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(i=(0,Ae.Z)(function*(r,o,c){try{const d=yield QS(r,o,!0),p=new yz(o,d.Hi),_=p.Wu(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=a_(d,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield aT(n),e,t);var i})),t.promise}(t,n._query).then(r=>new md(e,i,n,r))}(this._delegate):"server"===e?.source?function pK(n){n=Fn(n,Xr);const e=Fn(n.firestore,yi),t=ar(e),i=new gd(e);return jz(t,n._query,{source:"server"}).then(r=>new md(e,i,n,r))}(this._delegate):function hK(n){n=Fn(n,Xr);const e=Fn(n.firestore,yi),t=ar(e),i=new gd(e);return Jz(n._query),jz(t,n._query).then(r=>new md(e,i,n,r))}(this._delegate),t.then(i=>new zP(this.firestore,new md(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=v4(e),i=y4(e,r=>new zP(this.firestore,new md(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return u4(this._delegate,t,i)}withConverter(e){return new Io(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}class kK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ew(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ew(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kK(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new ew(this._firestore,i))})}isEqual(e){return a4(this._delegate,e._delegate)}}class p_ extends Io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ns(this.firestore,e):null}doc(e){try{return new Ns(this.firestore,void 0===e?rT(this._delegate):rT(this._delegate,e))}catch(t){throw xo(t,"doc()","CollectionReference.doc()")}}add(e){return function gK(n,e){const t=Fn(n.firestore,yi),i=rT(n),r=_T(n.converter,e);return f_(t,[uT(ep(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ns(this.firestore,t))}isEqual(e){return Nz(this._delegate,e._delegate)}withConverter(e){return new p_(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function rp(n){return Fn(n,vi)}class jP{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new jP(Ki.keyField().canonicalString())}isEqual(e){return(e=(0,J.m9)(e))instanceof xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CK(){return new MP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new op(e)}static delete(){const e=function wK(){return new q0("deleteField")}();return e._methodName="FieldValue.delete",new op(e)}static arrayUnion(...e){const t=function EK(...n){return new YZ("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new op(t)}static arrayRemove(...e){const t=function xK(...n){return new ZZ("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new op(t)}static increment(e){const t=function IK(n){return new KZ("increment",n)}(e);return t._methodName="FieldValue.increment",new op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RK={Firestore:m4,GeoPoint:cT,Timestamp:Mi,Blob:X0,Transaction:g4,WriteBatch:_4,DocumentReference:Ns,DocumentSnapshot:J0,Query:Io,QueryDocumentSnapshot:ew,QuerySnapshot:zP,CollectionReference:p_,FieldPath:jP,FieldValue:op,setLogLevel:function MK(n){!function Aq(n){ed.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function PK(n){(function OK(n,e){n.INTERNAL.registerComponent(new Ps.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},RK)))})(n,(e,t)=>new m4(e,t,new AK)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Qk.Z);var yT=L(592),NK=L(5156),FK=function(n){function e(t,i,r){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===r&&(r=NK.l);var o=n.call(this)||this;return o._bufferSize=t,o._windowTime=i,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=i===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,i),o}return(0,Ii.ZT)(e,n),e.prototype.next=function(t){var i=this,o=i._buffer,c=i._infiniteTimeWindow,d=i._timestampProvider,p=i._windowTime;i.isStopped||(o.push(t),!c&&o.push(d.now()+p)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(t),o=this._infiniteTimeWindow,d=this._buffer.slice(),p=0;p<d.length&&!t.closed;p+=o?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),i},e.prototype._trimBuffer=function(){var t=this,i=t._bufferSize,r=t._timestampProvider,o=t._buffer,c=t._infiniteTimeWindow,d=(c?1:2)*i;if(i<1/0&&d<o.length&&o.splice(0,o.length-d),!c){for(var p=r.now(),_=0,b=1;b<o.length&&o[b]<=p;b+=2)_=b;_&&o.splice(0,_+1)}},e}(un.x);function b4(n,e,t){var i,r,o,c=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,t=n.scheduler):o=n??1/0,(0,Pm.B)({connector:function(){return new FK(o,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function w4(n,e){return(0,Ss.m)(e)?Ui(function(){return n},e):Ui(function(){return n})}var HP=L(5062),Jr=L(259);class ls{constructor(e){return e}}class hc{constructor(){return(0,Jr.C6)()}}const $P=new l.OlP("angularfire2._apps"),BK={provide:ls,useFactory:function LK(n){return n&&1===n.length?n[0]:new ls((0,Jr.Mq)())},deps:[[new l.FiY,$P]]},VK={provide:hc,deps:[[new l.FiY,$P]]};function UK(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ls(i)}}let zK=(()=>{class n{constructor(t){(0,Jr.KN)("angularfire",ct.q4.full,"core"),(0,Jr.KN)("angularfire",ct.q4.full,"app"),(0,Jr.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[BK,VK]}),n})();function jK(n,...e){return{ngModule:zK,providers:[{provide:$P,useFactory:UK(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,...e]}]}}const HK=(0,ct.u3)(Jr.ZF,!0),GP=new Map,C4={activated:!1,tokenObservers:[]},$K={initialized:!1,enabled:!1};function eo(n){return GP.get(n)||Object.assign({},C4)}function bT(){return $K}const WP="https://content-firebaseappcheck.googleapis.com/v1",YK="exchangeDebugToken",E4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class KK{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new J.BH,yield function QK(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new J.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const So=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZP(){return ZP=(0,Ae.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const o={method:"POST",body:JSON.stringify(e),headers:i};let c,d;try{c=yield fetch(n,o)}catch(x){throw So.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw So.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(x){throw So.create("fetch-parse-error",{originalErrorMessage:x?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw So.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),ZP.apply(this,arguments)}const n9="firebase-app-check-database",i9=1,tw="firebase-app-check-store";let ET=null;function KP(){return KP=(0,Ae.Z)(function*(n,e){const i=(yield function S4(){return ET||(ET=new Promise((n,e)=>{try{const t=indexedDB.open(n9,i9);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(So.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(tw,{keyPath:"compositeKey"})}}catch(t){e(So.create("storage-open",{originalErrorMessage:t?.message}))}}),ET)}()).transaction(tw,"readwrite"),o=i.objectStore(tw).put({compositeKey:n,value:e});return new Promise((c,d)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var _;d(So.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),KP.apply(this,arguments)}const nw=new os.Yd("@firebase/app-check");function JP(n,e){return(0,J.hl)()?function o9(n,e){return function T4(n,e){return KP.apply(this,arguments)}(function A4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tN(){return tN=(0,Ae.Z)(function*(){const n=bT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tN.apply(this,arguments)}const d9={error:"UNKNOWN_ERROR"};function h9(n){return J.US.encodeString(JSON.stringify(n),!1)}function xT(n){return nN.apply(this,arguments)}function nN(){return nN=(0,Ae.Z)(function*(n,e=!1){const t=n.app;!function x4(n){if(!eo(n).activated)throw So.create("use-before-activation",{appName:n.name})}(t);const i=eo(t);let o,r=i.token;if(r&&!m_(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(m_(p)?r=p:yield JP(t,void 0))}if(!e&&r&&m_(r))return{token:r.token};let d,c=!1;if(function M4(){return bT().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function YP(n,e){return ZP.apply(this,arguments)}(function t9(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${WP}/projects/${t}/apps/${i}:${YK}?key=${r}`,body:{debug_token:e}}}(t,yield function k4(){return tN.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield JP(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield eo(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?nw.warn(p.message):nw.error(p),o=p}return r?o?d=m_(r)?{token:r.token,internalError:o}:P4(o):(d={token:r.token},i.token=r,yield JP(t,r)):d=P4(o),c&&function O4(n,e){const t=eo(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,d),d}),nN.apply(this,arguments)}function rN(n,e){const t=eo(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function R4(n){const{app:e}=n,t=eo(e);let i=t.tokenRefresher;i||(i=function f9(n){const{app:e}=n;return new KK((0,Ae.Z)(function*(){let i;if(i=eo(e).token?yield xT(n,!0):yield xT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=eo(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},E4.RETRIAL_MIN_WAIT,E4.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function m_(n){return n.expireTimeMillis-Date.now()>0}function P4(n){return{token:h9(d9),error:n}}class p9{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=eo(this.app);for(const t of e)rN(this.app,t.next);return Promise.resolve()}}const j4="app-check-internal";!function D9(){(0,$n._registerComponent)(new Ps.wA("app-check",n=>function m9(n,e){return new p9(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(j4).initialize()})),(0,$n._registerComponent)(new Ps.wA(j4,n=>function g9(n){return{getToken:e=>xT(n,e),addTokenListener:e=>function iN(n,e,t,i){const{app:r}=n,o=eo(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&m_(o.token)){const d=o.token;Promise.resolve().then(()=>{t({token:d.token}),R4(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>R4(n))}(n,"INTERNAL",e),removeTokenListener:e=>rN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$n.registerVersion)("@firebase/app-check","0.6.3")}();class vd{constructor(){return(0,ct.vb)("app-check")}}typeof window<"u"&&window;var O9=L(9260);const $4=new l.OlP("angularfire2.auth.use-emulator"),G4=new l.OlP("angularfire2.auth.settings"),W4=new l.OlP("angularfire2.auth.tenant-id"),q4=new l.OlP("angularfire2.auth.langugage-code"),Y4=new l.OlP("angularfire2.auth.use-device-language"),Z4=new l.OlP("angularfire.auth.persistence"),K4=(n,e,t,i,r,o,c,d)=>(0,bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[t,i,r,o,c,d]);let Q4=(()=>{class n{constructor(t,i,r,o,c,d,p,_,b,x,T,M){const N=new un.x,q=wt(void 0).pipe((0,yT.Q)(c.outsideAngular),Ui(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,kt.U)(()=>(0,bo.on)(t,o,i)),(0,kt.U)(ce=>K4(ce,o,d,_,b,x,p,T)),b4({bufferSize:1,refCount:!1}));if(Op(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{q.pipe(Ms()).subscribe();const ze=q.pipe(Ui(tt=>tt.getRedirectResult().then(Et=>Et,()=>null)),ct.iC,b4({bufferSize:1,refCount:!1})),Xe=q.pipe(Ui(tt=>new Di.y(Et=>({unsubscribe:o.runOutsideAngular(()=>tt.onAuthStateChanged(zt=>Et.next(zt),zt=>Et.error(zt),()=>Et.complete()))})))),Ke=q.pipe(Ui(tt=>new Di.y(Et=>({unsubscribe:o.runOutsideAngular(()=>tt.onIdTokenChanged(zt=>Et.next(zt),zt=>Et.error(zt),()=>Et.complete()))}))));this.authState=ze.pipe(w4(Xe),(0,HP.R)(c.outsideAngular),(0,yT.Q)(c.insideAngular)),this.user=ze.pipe(w4(Ke),(0,HP.R)(c.outsideAngular),(0,yT.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ui(tt=>tt?(0,Pn.Dp)(tt.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Ui(tt=>tt?(0,Pn.Dp)(tt.getIdTokenResult()):wt(null))),this.credential=(0,Nu.T)(ze,N,this.authState.pipe(Ti(tt=>!tt))).pipe((0,kt.U)(tt=>tt?.user?tt:null),(0,HP.R)(c.outsideAngular),(0,yT.Q)(c.insideAngular))}return(0,bo.pX)(this,q,o,{spy:{apply:(ce,ze,Xe)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Xe.then(Ke=>N.next(Ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bo.Dh),l.LFG(bo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ct.HU),l.LFG($4,8),l.LFG(G4,8),l.LFG(W4,8),l.LFG(q4,8),l.LFG(Y4,8),l.LFG(Z4,8),l.LFG(vd,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function X4(n,e){return function N9(n,e=zc.z){return new Di.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function lN(n,e){return X4(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function ST(n,e){return lN(n,e).pipe(kr(void 0),Af(),(0,kt.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=t?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function J4(n,e,t){return ST(n,t).pipe(sf((i,r)=>function L9(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function B9(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Lv(),(0,kt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function uN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function ej(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tj{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=ST(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(kr(void 0),Af(),Ti(([i,r])=>r.length>0||!i),(0,kt.U)(([i,r])=>r),ct.iC)}auditTrail(e){return this.stateChanges(e).pipe(sf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ej(e);return J4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(e={}){return lN(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ct.iC)}get(e){return(0,Pn.Dp)(this.query.get(e)).pipe(ct.iC)}add(e){return this.ref.add(e)}doc(e){return new nj(this.ref.doc(e),this.afs)}}class nj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=oj(i,t);return new tj(r,o,this.afs)}snapshotChanges(){return function F9(n,e){return X4(n,e).pipe(kr(void 0),Af(),(0,kt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Pn.Dp)(this.ref.get(e)).pipe(ct.iC)}}class V9{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ST(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ti(t=>t.length>0),ct.iC):ST(this.query,this.afs.schedulers.outsideAngular).pipe(ct.iC)}auditTrail(e){return this.stateChanges(e).pipe(sf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ej(e);return J4(this.query,t,this.afs.schedulers.outsideAngular).pipe(ct.iC)}valueChanges(e={}){return lN(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ct.iC)}get(e){return(0,Pn.Dp)(this.query.get(e)).pipe(ct.iC)}}const ij=new l.OlP("angularfire2.enableFirestorePersistence"),rj=new l.OlP("angularfire2.firestore.persistenceSettings"),U9=new l.OlP("angularfire2.firestore.settings"),z9=new l.OlP("angularfire2.firestore.use-emulator");function oj(n,e=(t=>t)){return{query:e(n),ref:n}}let TT=(()=>{class n{constructor(t,i,r,o,c,d,p,_,b,x,T,M,N,q,ce,ze,Xe){this.schedulers=p;const Ke=(0,bo.on)(t,d,i),tt=b;x&&K4(Ke,d,T,N,q,ce,M,ze),[this.firestore,this.persistenceEnabled$]=(0,bo.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const Et=d.runOutsideAngular(()=>Ke.firestore());if(o&&Et.settings(o),tt&&Et.useEmulator(...tt),r&&!Op(c)){const zt=()=>{try{return(0,Pn.Dp)(Et.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(hn){return typeof console<"u"&&console.warn(hn),wt(!1)}};return[Et,d.runOutsideAngular(zt)]}return[Et,wt(!1)]},[o,tt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=oj(r,i),d=this.schedulers.ngZone.run(()=>o);return new tj(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),o=this.firestore.collectionGroup(t);return new V9(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new nj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bo.Dh),l.LFG(bo.xv,8),l.LFG(ij,8),l.LFG(U9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ct.HU),l.LFG(rj,8),l.LFG(z9,8),l.LFG(Q4,8),l.LFG($4,8),l.LFG(G4,8),l.LFG(W4,8),l.LFG(q4,8),l.LFG(Y4,8),l.LFG(Z4,8),l.LFG(vd,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),j9=(()=>{class n{constructor(){O9.Z.registerVersion("angularfire",ct.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ij,useValue:!0},{provide:rj,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[TT]}),n})(),H9=(()=>{class n{constructor(t){this.http=t,this.botToken="6731621412:AAFaZOqAPDFdq9D9dIfDtkZuVsGeI01V_Rc",this.apiUrl=`https://api.telegram.org/bot${this.botToken}/sendMessage`}sendMessage(t){const i={chat_id:encodeURIComponent("-4090991684"),text:t};return this.http.post(this.apiUrl,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),sp=(()=>{class n extends sj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const va=new l.OlP("NgValueAccessor"),G9={provide:va,useExisting:(0,l.Gpc)(()=>g_),multi:!0},q9=new l.OlP("CompositionEventMode");let g_=(()=>{class n extends sj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W9(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(q9,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[l._Bn([G9]),l.qOj]}),n})();const Y9=!1;function yd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ho=new l.OlP("NgValidators"),bd=new l.OlP("NgAsyncValidators");function dj(n){return yd(n.value)?{required:!0}:null}function DT(n){return null}function _j(n){return null!=n}function vj(n){const e=(0,l.QGY)(n)?(0,Pn.Dp)(n):n;if(Y9&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function yj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bj(n,e){return e.map(t=>t(n))}function wj(n){return n.map(e=>function Q9(n){return!n.validate}(e)?e:t=>e.validate(t))}function dN(n){return null!=n?function Cj(n){if(!n)return null;const e=n.filter(_j);return 0==e.length?null:function(t){return yj(bj(t,e))}}(wj(n)):null}function hN(n){return null!=n?function Ej(n){if(!n)return null;const e=n.filter(_j);return 0==e.length?null:function(t){return ey(bj(t,e).map(vj)).pipe((0,kt.U)(yj))}}(wj(n)):null}function xj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fN(n){return n?Array.isArray(n)?n:[n]:[]}function AT(n,e){return Array.isArray(n)?n.includes(e):n===e}function Tj(n,e){const t=fN(e);return fN(n).forEach(r=>{AT(t,r)||t.push(r)}),t}function Dj(n,e){return fN(e).filter(t=>!AT(n,t))}class Aj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class To extends Aj{get formDirective(){return null}get path(){return null}}class Sl extends Aj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MT=(()=>{class n extends Mj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),kj=(()=>{class n extends Mj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(To,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();function Rj(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const gN=!1,iw="VALID",RT="INVALID",__="PENDING",rw="DISABLED";function _N(n){return(OT(n)?n.validators:n)||null}function vN(n,e){return(OT(e)?e.asyncValidators:n)||null}function OT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Nj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===iw}get invalid(){return this.status===RT}get pending(){return this.status==__}get disabled(){return this.status===rw}get enabled(){return this.status!==rw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Dj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Dj(e,this._rawAsyncValidators))}hasValidator(e){return AT(this._rawValidators,e)}hasAsyncValidator(e){return AT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=__,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=iw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iw||this.status===__)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rw:iw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=__,this._hasOwnPendingAsyncValidator=!0;const t=vj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?rw:this.errors?RT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(__)?__:this._anyControlsHaveStatus(RT)?RT:iw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){OT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function rQ(n){return Array.isArray(n)?dN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oQ(n){return Array.isArray(n)?hN(n):n||null}(this._rawAsyncValidators)}}class yN extends Nj{constructor(e,t,i){super(_N(t),vN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Pj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,gN?function iQ(n,e){return`Must supply a value for form control ${Rj(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Oj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,gN?function tQ(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new l.vHH(1001,gN?function nQ(n,e){return`Cannot find form control ${Rj(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const v_=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>PT}),PT="always";function ow(n,e,t=PT){bN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function cQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Fj(n,e)})}(n,e),function uQ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Fj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aQ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function LT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bN(n,e){const t=function Ij(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(xj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Sj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(xj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();LT(e._rawValidators,r),LT(e._rawAsyncValidators,r)}function Fj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const mQ={provide:To,useExisting:(0,l.Gpc)(()=>aw)},sw=(()=>Promise.resolve())();let aw=(()=>{class n extends To{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new yN({},dN(t),hN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ow(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sw.then(()=>{const i=this._findContainer(t.path),r=new yN({});(function Lj(n,e){bN(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){sw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Bj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ho,10),l.Y36(bd,10),l.Y36(v_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([mQ]),l.qOj]}),n})();function Vj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Uj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zj=class extends Nj{constructor(e=null,t,i){super(_N(t),vN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),OT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Uj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Uj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},vQ={provide:Sl,useExisting:(0,l.Gpc)(()=>cw)},$j=(()=>Promise.resolve())();let cw=(()=>{class n extends Sl{constructor(t,i,r,o,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new zj,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function EN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===g_?t=o:function fQ(n){return Object.getPrototypeOf(n.constructor)===sp}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function CN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ow(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$j.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);$j.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function NT(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(To,9),l.Y36(ho,10),l.Y36(bd,10),l.Y36(va,10),l.Y36(l.sBO,8),l.Y36(v_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([vQ]),l.qOj,l.TTD]}),n})(),Gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const xN=new l.OlP("NgModelWithFormControlWarning");let ap=(()=>{class n{constructor(){this._validator=DT}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):DT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const FQ={provide:ho,useExisting:(0,l.Gpc)(()=>UT),multi:!0};let UT=(()=>{class n extends ap{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>dj}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([FQ]),l.qOj]}),n})();const zQ={provide:ho,useExisting:(0,l.Gpc)(()=>AN),multi:!0};let AN=(()=>{class n extends ap{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function gj(n){if(!n)return DT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(yd(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([zQ]),l.qOj]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qj]}),n})(),MN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:v_,useValue:t.callSetDisabledState??PT}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lH]}),n})(),HQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:v_,useValue:t.callSetDisabledState??PT}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lH]}),n})(),$Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-emp-cart"]],decls:15,vars:0,consts:[[1,"container-fluid","mt-100"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body","cart"],[1,"col-sm-12","empty-cart-cls","text-center"],["src","../../../assets/emptyCart.jpg","width","130","height","130",1,"img-fluid","mb-4","mr-3"],["routerLink","/home","routerLinkActive","active","data-abc","true",1,"btn","btn-primary","cart-btn-transform","m-3"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._UZ(4,"div",4),l.TgZ(5,"div",5)(6,"div",6),l._UZ(7,"img",7),l.TgZ(8,"h3")(9,"strong"),l._uU(10,"\u0639\u0631\u0628\u0629 \u0627\u0644\u062a\u0633\u0648\u0642 \u0641\u0627\u0631\u063a\u0629"),l.qZA()(),l.TgZ(11,"h4"),l._uU(12,"\u062a\u0633\u0648\u0642 \u0645\u0646 \u0627\u0641\u0636\u0644 \u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627 :)"),l.qZA(),l.TgZ(13,"a",8),l._uU(14,"\u0628\u062f\u0621 \u0627\u0644\u062a\u0633\u0648\u0642"),l.qZA()()()()()()())},dependencies:[Zu,Tg],styles:["body[_ngcontent-%COMP%]{background-color:#eee;font-family:Calibri,sans-serif!important}.mt-100[_ngcontent-%COMP%]{margin-top:100px}.card[_ngcontent-%COMP%]{margin-bottom:30px;border:0;transition:all .3s ease;letter-spacing:.5px;border-radius:8px;box-shadow:1px 5px 24px #4466f20d}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:none;padding:24px;border-bottom:1px solid #f6f7fb;border-top-left-radius:8px;border-top-right-radius:8px}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px;background-color:transparent}.btn-primary[_ngcontent-%COMP%], .btn-primary.disabled[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:disabled{background-color:var(--main-color)!important;border-color:var(--main-color)!important}"]}),n})();function GQ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._UZ(2,"img",28),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td")(6,"div",29)(7,"div",30),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.plus(o))}),l.O4$(),l.TgZ(8,"svg",31),l._UZ(9,"path",32)(10,"path",33),l.qZA()(),l.kcU(),l.TgZ(11,"div",34),l._uU(12),l.qZA(),l.TgZ(13,"div",35),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.minus(o))}),l.O4$(),l.TgZ(14,"svg",31),l._UZ(15,"path",32)(16,"path",36),l.qZA()()()(),l.kcU(),l.TgZ(17,"td"),l._uU(18),l.ALo(19,"currency"),l.qZA(),l.TgZ(20,"td"),l._uU(21),l.ALo(22,"currency"),l.qZA(),l.TgZ(23,"td")(24,"div",37),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(2);return l.KtG(c.deleteItem(o))}),l.O4$(),l.TgZ(25,"svg",31),l._UZ(26,"path",32)(27,"path",38),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Q6J("src",t.imageUrl,l.LSH),l.xp6(2),l.Oqu(t.title),l.xp6(8),l.Oqu(t.quantity),l.xp6(6),l.Oqu(l.xi3(19,5,t.amount,"EGP")),l.xp6(3),l.Oqu(l.xi3(22,8,t.amount*t.quantity,"EGP"))}}function WQ(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," \u0627\u0644\u0627\u0633\u0645"),l.qZA())}function qQ(n,e){if(1&n&&(l.TgZ(0,"div",39),l.YNc(1,WQ,2,0,"div",1),l.qZA()),2&n){l.oxw();const t=l.MAs(38);l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function YQ(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646"),l.qZA())}function ZQ(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 \u064a\u062c\u0628 \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 11 \u0631\u0642\u0645 \u0648\u064a\u0628\u062f\u0623 \u0628\u0640 010 \u0623\u0648 011 \u0623\u0648 012 \u0623\u0648 015"),l.qZA())}function KQ(n,e){if(1&n&&(l.TgZ(0,"div",39),l.YNc(1,YQ,2,0,"div",1),l.YNc(2,ZQ,2,0,"div",1),l.qZA()),2&n){l.oxw();const t=l.MAs(44);l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.required),l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.pattern)}}function QQ(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),l.qZA())}function XQ(n,e){if(1&n&&(l.TgZ(0,"div",39),l.YNc(1,QQ,2,0,"div",1),l.qZA()),2&n){l.oxw();const t=l.MAs(50);l.xp6(1),l.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function JQ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"h4",4),l._uU(3,"\u0643\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"),l.qZA(),l.TgZ(4,"div",5)(5,"p",6),l._uU(6),l.qZA(),l.TgZ(7,"button",7),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.deleteAll())}),l._uU(8,"\u0645\u0633\u062d \u0627\u0644\u0643\u0644"),l.qZA()(),l.TgZ(9,"div",8)(10,"table",9)(11,"thead")(12,"tr"),l._UZ(13,"th"),l.TgZ(14,"th"),l._uU(15,"\u0627\u0644\u0627\u0633\u0645"),l.qZA(),l._UZ(16,"th"),l.TgZ(17,"th"),l._uU(18,"\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c"),l.qZA(),l.TgZ(19,"th"),l._uU(20,"\u0627\u0644\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u0643\u0644\u064a\u0629"),l.qZA(),l._UZ(21,"th"),l.qZA()(),l.TgZ(22,"tbody"),l.YNc(23,GQ,28,11,"tr",10),l.qZA()()(),l.TgZ(24,"div",11),l._uU(25),l.ALo(26,"currency"),l.TgZ(27,"h5"),l._uU(28),l.ALo(29,"currency"),l.O4$(),l.TgZ(30,"svg",12),l._UZ(31,"path",13),l.qZA()()(),l.kcU(),l.TgZ(32,"form",14,15),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.MAs(33),o=l.oxw();return l.KtG(o.orderTime(r))}),l.TgZ(34,"div",16)(35,"label",17),l._uU(36,"\u0627\u0644\u0627\u0633\u0645*:"),l.qZA(),l._UZ(37,"input",18,19),l.YNc(39,qQ,2,1,"div",20),l.qZA(),l.TgZ(40,"div",16)(41,"label",21),l._uU(42,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646*:"),l.qZA(),l._UZ(43,"input",22,23),l.YNc(45,KQ,3,2,"div",20),l.qZA(),l.TgZ(46,"div",16)(47,"label",24),l._uU(48,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646*:"),l.qZA(),l._UZ(49,"input",25,26),l.YNc(51,XQ,2,1,"div",20),l.qZA(),l.TgZ(52,"button",27),l._uU(53,"\u0627\u0637\u0644\u0628 \u0627\u0644\u0622\u0646"),l.qZA()()()()}if(2&n){const t=l.MAs(33),i=l.MAs(38),r=l.MAs(44),o=l.MAs(50),c=l.oxw();l.xp6(6),l.hij("\u0627\u0644\u0639\u062f\u062f \u0627\u0644\u0643\u0644\u064a: ",c.cartGoods.items.length,""),l.xp6(17),l.Q6J("ngForOf",c.cartGoods.items),l.xp6(2),l.hij(" \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a : ",l.xi3(26,14,c.getTotalCount(c.cartGoods.items),"EGP")," "),l.xp6(3),l.hij(" \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 \u0628\u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u064a ",l.xi3(29,17,c.deliveryPrice,"EGP")," \u062f\u0644\u064a\u0641\u0631\u064a "),l.xp6(9),l.ekj("invalid-input",i.invalid&&(i.dirty||i.touched)),l.xp6(2),l.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),l.xp6(4),l.ekj("invalid-input",r.invalid&&(r.dirty||r.touched)),l.xp6(2),l.Q6J("ngIf",r.invalid&&(r.dirty||r.touched)),l.xp6(4),l.ekj("invalid-input",o.invalid&&(o.dirty||o.touched)),l.xp6(2),l.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),l.xp6(1),l.Q6J("disabled",!t.valid)}}function eX(n,e){1&n&&l._UZ(0,"app-emp-cart")}let tX=(()=>{class n{constructor(t,i,r,o,c,d,p){this.cartService=t,this.fs=i,this.httpClient=r,this.datePipe=o,this.router=c,this.modal=d,this.tl=p,this.cartGoods={items:[]},this.count=0,this.total=0,this.empty=!1,this.orderedData=[],this.deliveryPrice=7,this.orderData={itemId:"",itemName:"",itemPrice:0,itemQuntity:0},this.telegramData="\u0627\u0644\u0635\u0646\u0641|\t\u0627\u0644\u0643\u0645\u064a\u0629|\t\u0633\u0639\u0631\u0627\u06441|\t\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a\n"}ngOnInit(){this.getAllGoods()}deleteAll(){this.cartService.clearCart()}getAllGoods(){this.cartService.cart.subscribe(t=>{this.cartGoods=t,this.noData()})}plus(t){this.cartService.addToCart(t)}minus(t){this.cartService.decreaseQuantity(t),this.noData()}deleteItem(t){this.cartService.removeItem(t),this.noData()}noData(){0==this.cartGoods.items.length&&(this.empty=!0)}getTotalCount(t){return this.total=this.cartService.getTotal(t)+this.deliveryPrice}getOrderData(){this.orderedData=this.cartGoods.items.map(t=>({itemId:t.id,itemName:t.title,itemPrice:t.amount,itemQuntity:t.quantity}));for(const t of this.orderedData)this.telegramData+=`_________________________________\n${t.itemName}\t|\t${t.itemQuntity}\t|\t${t.itemPrice}\t\u062c|\t${t.itemQuntity*t.itemPrice}\n`}orderTime(t){let i=new Date;const r=i.getHours()+1,o=i.getMinutes();if(r>=12&&!(r>=24&&o>=1))return this.onSubmit(t,!0);this.modal.open(Zk,{width:"25rem",disableClose:!0}).afterClosed().subscribe(d=>this.onSubmit(t,d))}orderRes(){}onSubmit(t,i){if(i)if(t.valid)if(this.getTotalCount(this.cartGoods.items)>=50){this.getOrderData();const o=this.datePipe.transform(new Date,"short");this.fs.collection("orders").add({name:t.value.firstN,number:t.value.phoneN,address:t.value.address,date:o?.toString(),order:this.orderedData,netPrice:this.total,id:(new Date).getTime().toString(),done:!1}).then(c=>{this.tl.sendMessage(`\u0627\u0644\u0627\u0633\u0645: ${t.value.firstN}\n\u0627\u0644\u0631\u0642\u0645: ${t.value.phoneN}\n\u0627\u0644\u0639\u0646\u0648\u0627\u0646: ${t.value.address}\n\u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a: ${this.total}\u062c\n\n*******************************\n${this.telegramData}`).subscribe(d=>{console.log("done")}),this.cartGoods.items=[],this.cartService.clearCart(),localStorage.clear(),alert("\u062a\u0645 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"),this.empty=!0,this.router.navigate(["/home"])}).catch(c=>{console.log(c)})}else alert("\u064a\u062c\u0628 \u0627\u0646 \u064a\u0643\u0648\u0646 \u0627\u0644\u0637\u0644\u0628 \u0627\u0639\u0644\u064a \u0645\u0646 50 \u062c\u0646\u064a\u0629");else console.log("Form is invalid")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xu),l.Y36(TT),l.Y36(Lh),l.Y36(nr),l.Y36(Yr),l.Y36($b),l.Y36(H9))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-full-cart"]],decls:2,vars:2,consts:[["dir","rtl","class","card",4,"ngIf"],[4,"ngIf"],["dir","rtl",1,"card"],[1,"container"],[1,"card-title","pt-4"],[1,"d-flex","justify-content-between"],[1,"card-description"],["mat-flat-button","",1,"delete-all",3,"click"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"mb-3","fs-5"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 96 960 960","width","48",1,"car"],["d","M224.118 895Q175 895 140.5 860.583 106 826.167 106 777H40V316q0-24 18-42t42-18h579v167h105l136 181v173h-71q0 49.167-34.382 83.583Q780.235 895 731.118 895 682 895 647.5 860.583 613 826.167 613 777H342q0 49-34.382 83.5-34.383 34.5-83.5 34.5ZM224 835q24 0 41-17t17-41q0-24-17-41t-41-17q-24 0-41 17t-17 41q0 24 17 41t41 17ZM100 717h22q17-27 43.041-43 26.041-16 58-16t58.459 16.5Q308 691 325 717h294V316H100v401Zm631 118q24 0 41-17t17-41q0-24-17-41t-41-17q-24 0-41 17t-17 41q0 24 17 41t41 17Zm-52-204h186L754 483h-75v148ZM360 527Z"],[3,"ngSubmit"],["orderForm","ngForm"],[1,"mb-3"],["for","nameInput",1,"form-label"],["type","text","name","firstN","ngModel","","id","nameInput","placeholder","\u0627\u0644\u0627\u0633\u0645","required","",1,"form-control"],["firstN","ngModel"],["class","text-danger",4,"ngIf"],["for","numberInput",1,"form-label"],["type","text","name","phoneN","ngModel","","id","numberInput","placeholder","\u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646","required","","pattern","^01[0125][0-9]{8}$",1,"form-control"],["phoneN","ngModel"],["for","addressInput",1,"form-label"],["type","text","name","address","ngModel","","id","addressInput","placeholder","\u0627\u0644\u0639\u0646\u0648\u0627\u0646","required","",1,"form-control"],["address","ngModel"],["type","submit",1,"submit","btn","btn-success",3,"disabled"],["alt","",3,"src"],[1,"amount","center-flex"],["type","button",1,"center-flex","btn-success",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000"],["d","M0 0h24v24H0V0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"center-flex"],["type","button",1,"center-flex",3,"click"],["d","M19 13H5v-2h14v2z"],["type","button",1,"clear","center-flex",3,"click"],["d","M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"],[1,"text-danger"]],template:function(t,i){1&t&&(l.YNc(0,JQ,54,20,"div",0),l.YNc(1,eX,1,0,"app-emp-cart",1)),2&t&&(l.Q6J("ngIf",!i.empty),l.xp6(1),l.Q6J("ngIf",i.empty))},dependencies:[go,gr,Gj,g_,MT,kj,UT,AN,cw,aw,Iu,Xc,$Q,$s],styles:["svg[_ngcontent-%COMP%]{fill:#fff}.car[_ngcontent-%COMP%]{fill:#212529;width:20px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:1.25rem}.delete-all[_ngcontent-%COMP%]{background-color:#dc3545!important;color:#fff!important}.amount[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .clear[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:var(--main-color);border-color:var(--main-color);color:#f6f6f6;transition:.3s}.amount[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){background-color:#fff;margin:0 5px;color:#282828;font-size:16px}.amount[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1){background-color:#198754}.amount[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3), .clear[_ngcontent-%COMP%]{background-color:#dc3545}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none!important;border-color:var(--main-color)}.submit[_ngcontent-%COMP%]{margin-bottom:10px;background-color:var(--main-color);border-color:var(--main-color);width:100%}.invalid-input[_ngcontent-%COMP%]{border-color:red}@media (min-width:768px){.submit[_ngcontent-%COMP%]{width:50%}}@media (max-width:768px){.card[_ngcontent-%COMP%]{margin-bottom:80px}}.flex[_ngcontent-%COMP%]{flex:1 1 auto}.card[_ngcontent-%COMP%]{box-shadow:none;-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #d2d2dc;border-radius:0}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#000;margin-bottom:.625rem;text-transform:capitalize;font-size:.875rem;font-weight:500}.card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{margin-bottom:.875rem;font-weight:400;color:#76838f}p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.5rem;line-height:1.5rem}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table[_ngcontent-%COMP%], .jsgrid[_ngcontent-%COMP%]   .jsgrid-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;background-color:transparent}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .jsgrid[_ngcontent-%COMP%]   .jsgrid-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0;border-bottom-width:1px;font-weight:500;font-size:.875rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .jsgrid[_ngcontent-%COMP%]   .jsgrid-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.875rem;padding:.875rem .9375rem}"]}),n})(),nX=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cart"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"app-full-cart")},dependencies:[tX]}),n})(),uH=(()=>{class n{constructor(t){this.fs=t}getAllGoods(){return this.fs.collection("goods").valueChanges()}getFuilterGoods(t){return this.fs.collection("goods",i=>i.where("category","==",t)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[[1,"lds-ripple"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div")(2,"div"),l.qZA())},styles:[".lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid var(--main-color);opacity:1;border-radius:50%;animation:_ngcontent-%COMP%_lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:0}4.9%{top:36px;left:36px;width:0;height:0;opacity:0}5%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}"]}),n})();function iX(n,e){if(1&n&&(l.TgZ(0,"h5",9),l._uU(1),l.ALo(2,"currency"),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(l.xi3(2,1,t.data.amount,"EGP"))}}function rX(n,e){1&n&&(l.TgZ(0,"h5",10),l._uU(1,"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631 \u062d\u0627\u0644\u064a\u0627"),l.qZA())}function oX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.addItem(r.data))}),l.TgZ(1,"mat-icon"),l._uU(2,"add_shopping_cart"),l.qZA(),l._uU(3," \u0627\u0636\u0641 \u0644\u0644\u0639\u0631\u0628\u0629 "),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("disabled",!t.data.exitsing)}}function sX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"button",13),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.addItem(r.data))}),l.TgZ(2,"mat-icon"),l._uU(3,"add_shopping_cart"),l.qZA()(),l.TgZ(4,"h3",14),l._uU(5),l.qZA(),l.TgZ(6,"button",15),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.removeItem(r.data))}),l.TgZ(7,"mat-icon"),l._uU(8,"remove_shopping_cart"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(5),l.Oqu(t.itemQuantity)}}let hH=(()=>{class n{constructor(t){this.cartService=t,this.data="",this.item=new l.vpe,this.itemQuantity=0,this.added=!1}ngOnInit(){this.itemQuantity=this.cartService.getQuantity(this.data),this.itemQuantity>0&&(this.added=!0)}add(){this.item.emit(this.data),this.added=!0}addItem(t){this.cartService.addToCart({quantity:1,id:t.id,amount:t.amount,imageUrl:t.imageUrl,title:t.title}),this.itemQuantity=this.cartService.getQuantity(t),this.itemQuantity>0&&(this.added=!0)}removeItem(t){this.cartService.decreaseQuantity({quantity:1,id:t.id,amount:t.amount,imageUrl:t.imageUrl,title:t.title}),this.itemQuantity=this.cartService.getQuantity(t),0===this.itemQuantity&&(this.added=!1)}addedToCart(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-card"]],inputs:{data:"data"},outputs:{item:"item"},decls:10,vars:7,consts:[[1,"card","text-center","section-card"],[1,"content"],[1,"card-img-top",3,"src","alt"],["dir","rtl",1,"card-body","pb-0"],[1,"card-title"],["class","h5",4,"ngIf"],["class","h5-warn fs-6",4,"ngIf"],["class","btn btn-success mb-2-5 w-100 section-card-button",3,"disabled","click",4,"ngIf"],["class","added-btn d-flex justify-content-around align-items-center mb-0",4,"ngIf"],[1,"h5"],[1,"h5-warn","fs-6"],[1,"btn","btn-success","mb-2-5","w-100","section-card-button",3,"disabled","click"],[1,"added-btn","d-flex","justify-content-around","align-items-center","mb-0"],["mat-icon-button","",1,"success-btn",3,"click"],[1,"fs-5"],["mat-icon-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"li",0)(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"div",3)(4,"h4",4),l._uU(5),l.qZA(),l.YNc(6,iX,3,4,"h5",5),l.YNc(7,rX,2,0,"h5",6),l.YNc(8,oX,4,1,"button",7),l.YNc(9,sX,9,1,"div",8),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("src",i.data.imageUrl,l.LSH)("alt",i.data.title),l.xp6(3),l.Oqu(i.data.title),l.xp6(1),l.Q6J("ngIf",i.data.exitsing),l.xp6(1),l.Q6J("ngIf",!i.data.exitsing),l.xp6(1),l.Q6J("ngIf",!i.added),l.xp6(1),l.Q6J("ngIf",i.added))},dependencies:[gr,Du,Iu,nl,$s],styles:[".content[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;width:6.25rem;height:6.25rem;margin:.6rem auto}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:100%}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;background-color:var(--main-color);border-color:var(--main-color);transition:.5s}.mb-2-5[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.h5[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--main-color)}.success-btn[_ngcontent-%COMP%]{color:#198754}.added-btn[_ngcontent-%COMP%]{padding:-5px}.card-title[_ngcontent-%COMP%]{height:55px!important}@media (width:320px){.card-title[_ngcontent-%COMP%]{height:80px!important}}.section-card[_ngcontent-%COMP%]{border:none;border-radius:10px;background-color:#fff;box-shadow:0 2px 5px #0000001a;transition:transform .3s;width:100%;max-width:300px;margin:4px;cursor:pointer}.section-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.section-card-body[_ngcontent-%COMP%]{padding:0}.section-card-title[_ngcontent-%COMP%]{margin:0;font-size:18px}.section-card-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;background-color:#f8f9fa;display:flex;justify-content:center;align-items:center}.section-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover;display:block}@media (min-width: 425px){.section-card-button[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px}}.added-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:8px;border-radius:10px}.success-btn[_ngcontent-%COMP%], .warning-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:20px}.h5-warn[_ngcontent-%COMP%]{color:red}"]}),n})(),fH=(()=>{class n{constructor(t){this.fs=t}getAllcategories(){return this.fs.collection("sections").valueChanges()}getFuilterGoods(t){return this.fs.collection("goods",i=>i.where("category","==",t)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mX(n,e){1&n&&(l.TgZ(0,"span",8),l.Hsn(1,1),l.qZA())}function gX(n,e){1&n&&(l.TgZ(0,"span",9),l.Hsn(1,2),l.qZA())}const _X=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],vX=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function yX(n,e){1&n&&(l.TgZ(0,"span",12),l.Hsn(1,2),l.qZA())}const bX=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],wX=["mat-chip-avatar, [matChipAvatar]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],kN=["*"],gH=new l.OlP("mat-chips-default-options"),_H=new l.OlP("MatChipAvatar"),vH=new l.OlP("MatChipTrailingIcon"),yH=new l.OlP("MatChipRemove"),zT=new l.OlP("MatChip");class kX{}const RX=km(kX,-1);let y_=(()=>{class n extends RX{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=ir(t)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){super(),this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(zT))},n.\u0275dir=l.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(t,i){1&t&&l.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(l.uIk("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),l.ekj("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[l.qOj]}),n})(),FX=0;const LX=km(vo(fE(Qv(class{constructor(n){this._elementRef=n}})),"primary"),-1);let b_=(()=>{class n extends LX{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get removable(){return this._removable}set removable(t){this._removable=ir(t)}get highlighted(){return this._highlighted}set highlighted(t){this._highlighted=ir(t)}constructor(t,i,r,o,c,d,p,_){super(i),this._changeDetectorRef=t,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=p,this._isRippleCentered=!1,this._onFocus=new un.x,this._onBlur=new un.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+FX++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new l.vpe,this.destroyed=new l.vpe,this.basicChipAttrName="mat-basic-chip";const b=i.nativeElement;this._document=c,this._animationsDisabled="NoopAnimations"===d,this._isBasicChip=b.hasAttribute(this.basicChipAttrName)||b.tagName.toLowerCase()===this.basicChipAttrName,null!=_&&(this.tabIndex=parseInt(_)??this.defaultTabIndex),this._monitorFocus()}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(ao(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36($c),l.Y36(re),l.Y36(l.QbO,8),l.Y36(_E,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-basic-chip"],["mat-chip"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,_H,5),l.Suo(r,vH,5),l.Suo(r,yH,5)),2&t){let o;l.iGM(o=l.CRH())&&(i.leadingIcon=o.first),l.iGM(o=l.CRH())&&(i.trailingIcon=o.first),l.iGM(o=l.CRH())&&(i.removeIcon=o.first)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Wc,5),l.Gf(y_,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first),l.iGM(r=l.CRH())&&(i.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&t&&(l.Ikx("id",i.id),l.uIk("role",i.role)("tabindex",i.role?i.tabIndex:null)("aria-label",i.ariaLabel),l.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[l._Bn([{provide:zT,useExisting:n}]),l.qOj],ngContentSelectors:vX,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,i){1&t&&(l.F$t(_X),l._UZ(0,"span",0)(1,"span",1),l.TgZ(2,"span",2)(3,"span",3),l.YNc(4,mX,2,0,"span",4),l.TgZ(5,"span",5),l.Hsn(6),l._UZ(7,"span",6),l.qZA()()(),l.YNc(8,gX,2,0,"span",7)),2&t&&(l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),l.xp6(3),l.Q6J("isInteractive",!1),l.xp6(1),l.Q6J("ngIf",i.leadingIcon),l.xp6(4),l.Q6J("ngIf",i._hasTrailingIcon()))},dependencies:[gr,Wc,y_],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n extends b_{constructor(){super(...arguments),this.chipListSelectable=!0,this._chipListMultiple=!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new l.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=ir(t),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(ir(t),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-basic-chip-option"],["mat-chip-option"]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option","mdc-evolution-chip","mdc-evolution-chip--filter","mdc-evolution-chip--selectable","mdc-evolution-chip--with-primary-graphic"],hostVars:29,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",i.role),l.ekj("mat-mdc-chip-selected",i.selected)("mat-mdc-chip-multiple",i._chipListMultiple)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-with-avatar",i.leadingIcon)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--selected",i.selected)("mdc-evolution-chip--selecting",!i._animationsDisabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[l._Bn([{provide:b_,useExisting:n},{provide:zT,useExisting:n}]),l.qOj],ngContentSelectors:wX,decls:15,vars:11,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,i){1&t&&(l.F$t(bX),l._UZ(0,"span",0)(1,"span",1),l.TgZ(2,"span",2)(3,"button",3)(4,"span",4),l.Hsn(5),l.TgZ(6,"span",5),l.O4$(),l.TgZ(7,"svg",6),l._UZ(8,"path",7),l.qZA()()(),l.kcU(),l.TgZ(9,"span",8),l.Hsn(10,1),l._UZ(11,"span",9),l.qZA()()(),l.YNc(12,yX,2,0,"span",10),l.TgZ(13,"span",11),l._uU(14),l.qZA()),2&t&&(l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),l.xp6(3),l.Q6J("tabIndex",i.tabIndex)("_allowFocusWhenDisabled",!0),l.uIk("aria-selected",i.ariaSelected)("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),l.xp6(9),l.Q6J("ngIf",i._hasTrailingIcon()),l.xp6(1),l.Q6J("id",i._ariaDescriptionId),l.xp6(1),l.Oqu(i.ariaDescription))},dependencies:[gr,Wc,y_],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();class BX{constructor(e){}}const VX=km(BX);let ON=(()=>{class n extends VX{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get disabled(){return this._disabled}set disabled(t){this._disabled=ir(t),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){super(t),this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new un.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new l.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){const t=this.tabIndex;-1!==this.tabIndex&&(this.tabIndex=-1,Promise.resolve().then(()=>{this.tabIndex=t,this._changeDetectorRef.markForCheck()}))}_getChipStream(t){return this._chips.changes.pipe(kr(null),Ui(()=>(0,Nu.T)(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList&&i.classList.contains("mdc-evolution-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(kr(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new JC(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Mr(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Mr(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(kr(null),Mr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Mr(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ca,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,b_,5),2&t){let o;l.iGM(o=l.CRH())&&(i._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&t&&l.uIk("role",i.role)},inputs:{disabled:"disabled",role:"role"},features:[l.qOj],ngContentSelectors:kN,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})();class UX{constructor(e,t){this.source=e,this.value=t}}const zX={provide:va,useExisting:(0,l.Gpc)(()=>PN),multi:!0};let PN=(()=>{class n extends ON{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this._required=!1,this.change=new l.vpe}get multiple(){return this._multiple}set multiple(t){this._multiple=ir(t),this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=ir(t),this._syncListboxProperties()}get required(){return this._required}set required(t){this._required=ir(t)}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(kr(null),Mr(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Mr(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Mr(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new UX(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,RN,5),2&t){let o;l.iGM(o=l.CRH())&&(i._chips=o)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&t&&(l.Ikx("tabIndex",i.empty?-1:i.tabIndex),l.uIk("role",i.role)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-multiselectable",i.multiple)("aria-orientation",i.ariaOrientation),l.ekj("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-required",i.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",value:"value"},outputs:{change:"change"},features:[l._Bn([zX]),l.qOj],ngContentSelectors:kN,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),YX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pE,{provide:gH,useValue:{separatorKeyCodes:[13]}}],imports:[Gr,_s,vE,Gr]}),n})();function ZX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-chip-option",3),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.getItem(o.name))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.name)}}let KX=(()=>{class n{constructor(t){this.sectionService=t,this.newItem=new l.vpe,this.sortCategories=[],this.allCategories=[]}ngOnInit(){this.getAllCategories()}getAllCategories(){this.unsubcribeCat=this.sectionService.getAllcategories().subscribe(t=>{this.allCategories=[],this.sortCategories=[],this.allCategories=t;let i="";this.allCategories.forEach(r=>{"\u0627\u062e\u0631\u064a"===r.name?i=r:this.sortCategories.push(r)}),this.sortCategories.push(i)})}getItem(t){this.newItem.emit(t)}ngOnDestroy(){this.unsubcribeCat.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fH))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-categories"]],outputs:{newItem:"newItem"},decls:5,vars:1,consts:[[1,"chip-container"],["selected","",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-chip-listbox")(1,"div",0)(2,"mat-chip-option",1),l.NdJ("click",function(){return i.getItem("\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a")}),l._uU(3,"\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),l.qZA(),l.YNc(4,ZX,2,1,"mat-chip-option",2),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("ngForOf",i.sortCategories))},dependencies:[go,PN,RN],styles:[".category[_ngcontent-%COMP%]{width:100%;margin:0 auto 10px;padding:15px;background-color:var(--second-color);border-radius:10px;z-index:-10}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:5px;cursor:pointer;color:#252525;transition:.3s ease;height:62px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;transition:.3s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem!important;line-height:.9;text-overflow:ellipsis}.chip-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;max-width:100%;margin-bottom:.313rem;padding-bottom:.625rem}mat-chip-option[_ngcontent-%COMP%]{flex:0 0 auto;margin-right:8px;background-color:var(--main-color)!important}"]}),n})();const QX=function(n){return{transform:n}};function XX(n,e){if(1&n&&(l.TgZ(0,"div",5),l._UZ(1,"img",6),l.qZA()),2&n){const t=e.index,i=l.oxw();l.Q6J("ngStyle",l.VKq(3,QX,"translateX("+100*-t+"%)")),l.xp6(1),l.MGl("alt","Slide ",t+1,""),l.Q6J("src",i.currentImage,l.LSH)}}let JX=(()=>{class n{constructor(){this.slides=["./assets/slider/1.png","./assets/slider/2.png","./assets/slider/3.png","./assets/slider/4.png"],this.currentSlideIndex=0,this.currentImage=this.slides[0],this.startCarousel()}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-1+this.slides.length)%this.slides.length,this.image(this.currentSlideIndex)}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+1)%this.slides.length,this.image(this.currentSlideIndex)}image(t){this.currentImage=this.slides[t]}startCarousel(){this.interval=setInterval(()=>{this.nextSlide()},4e3)}stopCarousel(){clearInterval(this.interval)}ngOnDestroy(){this.stopCarousel()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-slider"]],decls:9,vars:1,consts:[[1,"carousel-container"],[1,"carousel"],["mat-icon-button","",1,"nav-button","prev",3,"click"],["class","slide",3,"ngStyle",4,"ngFor","ngForOf"],["mat-icon-button","",1,"nav-button","next",3,"click"],[1,"slide",3,"ngStyle"],[1,"slide-image",3,"src","alt"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.prevSlide()}),l.TgZ(3,"mat-icon"),l._uU(4,"keyboard_arrow_left"),l.qZA()(),l.YNc(5,XX,2,5,"div",3),l.TgZ(6,"button",4),l.NdJ("click",function(){return i.nextSlide()}),l.TgZ(7,"mat-icon"),l._uU(8,"keyboard_arrow_right"),l.qZA()()()()),2&t&&(l.xp6(5),l.Q6J("ngForOf",i.slides))},dependencies:[go,Ir,Du,nl],styles:[".carousel-container[_ngcontent-%COMP%]{margin:0 auto;position:relative;border-radius:10px;display:flex;justify-content:center;align-items:center}.carousel[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out;position:relative}.slide[_ngcontent-%COMP%]{flex:0 0 100%;position:relative;transition:opacity .5s ease-in-out}.slide-image[_ngcontent-%COMP%]{width:100%;height:18.75rem;object-fit:cover;border-radius:10px}@media (max-width:400px){.slide-image[_ngcontent-%COMP%]{height:10rem}}.nav-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);color:var(--main-color)}.prev[_ngcontent-%COMP%]{left:10px;z-index:10}.next[_ngcontent-%COMP%]{right:10px;z-index:10}@media (max-width:425px){.carousel-container[_ngcontent-%COMP%]{width:100%}}"]}),n})(),wH=(()=>{class n{transform(t,i){return i&&t?n.filter(t,i):t}static filter(t,i){const r=i.toLowerCase();function o(c,d){for(let p in c)if(null!==c[p]&&null!=c[p]&&("object"==typeof c[p]&&o(c[p],d)||c[p].toString().toLowerCase().includes(r)))return!0;return!1}return t.filter(function(c){return o(c,i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function eJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-categories",7,8),l.NdJ("newItem",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.getFuilterGoods(r))}),l.qZA()}}function tJ(n,e){1&n&&l._UZ(0,"app-card",11),2&n&&l.Q6J("data",e.$implicit)}function nJ(n,e){if(1&n&&(l.ynx(0)(1),l.YNc(2,tJ,1,1,"app-card",10),l.BQk()()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",t.someGoods)}}function iJ(n,e){if(1&n&&l._UZ(0,"app-card",11),2&n){const t=l.oxw().$implicit;l.Q6J("data",t)}}function rJ(n,e){if(1&n&&(l.ynx(0),l.YNc(1,iJ,1,1,"app-card",13),l.BQk()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",t.exitsing)}}function oJ(n,e){if(1&n&&(l.ynx(0),l.YNc(1,rJ,2,1,"ng-container",12),l.ALo(2,"filter"),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,t.goods,t.search))}}function sJ(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"ul",9),l.YNc(2,nJ,3,1,"ng-container",5),l.YNc(3,oJ,3,4,"ng-container",5),l.qZA(),l.BQk()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",!t.search),l.xp6(1),l.Q6J("ngIf",t.search)}}function aJ(n,e){1&n&&(l.TgZ(0,"div",14),l._UZ(1,"app-spinner"),l.qZA())}let cJ=(()=>{class n{constructor(t,i){this.hs=t,this.cartService=i,this.goods=[],this.loading=!1,this.cartGoods=[],this.someGoods=[],this.click=!1}ngOnInit(){this.getAllGoods()}getAllGoods(){this.loading=!0,this.goodsObesrvable=this.hs.getAllGoods().subscribe(t=>{this.goods=t,this.someGoods=[];for(let i=0;i<51;i++)this.someGoods.push(this.goods[i]);this.loading=!1})}getFuilterGoods(t){this.loading=!0,"\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"==t?this.getAllGoods():this.goodsObesrvable=this.hs.getFuilterGoods(t).subscribe(i=>{this.someGoods=[],this.someGoods=i,this.loading=!1})}ngOnDestroy(){this.goodsObesrvable.unsubscribe()}performSearch(){this.searchText&&(this.search=this.searchText,this.searchText="")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uH),l.Y36(Xu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:9,vars:4,consts:[["dir","rtl",1,"row","mt-3"],[1,"search-hero","mb-2","col-9","col-xl-6","col-md-6"],["type","text","name","search","autocomplete","off","placeholder","\uf002  \u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",1,"form-control","text-center",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"btn-color","col-1",3,"click"],[3,"newItem",4,"ngIf"],[4,"ngIf"],["class","c-spinner hghit-100 w-100 text-center",4,"ngIf"],[3,"newItem"],["newItem",""],[1,"card-list","d-flex","flex-wrap","text-center"],["class","col-xs-12 col-6 col-md-4 col-lg-3 col-xl-2",3,"data",4,"ngFor","ngForOf"],[1,"col-xs-12","col-6","col-md-4","col-lg-3","col-xl-2",3,"data"],[4,"ngFor","ngForOf"],["class","col-xs-12 col-6 col-md-4 col-lg-3 col-xl-2",3,"data",4,"ngIf"],[1,"c-spinner","hghit-100","w-100","text-center"]],template:function(t,i){1&t&&(l._UZ(0,"app-slider"),l.TgZ(1,"div",0)(2,"div",1)(3,"input",2),l.NdJ("ngModelChange",function(o){return i.searchText=o}),l.qZA()(),l.TgZ(4,"button",3),l.NdJ("click",function(){return i.performSearch()}),l._uU(5,"\u0627\u0628\u062d\u062b"),l.qZA()(),l.YNc(6,eJ,2,0,"app-categories",4),l.YNc(7,sJ,4,2,"ng-container",5),l.YNc(8,aJ,2,0,"div",6)),2&t&&(l.xp6(3),l.Q6J("ngModel",i.searchText),l.xp6(3),l.Q6J("ngIf",!i.search),l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[go,gr,Iu,dH,hH,g_,MT,cw,Xc,KX,JX,wH],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0}app-card[_ngcontent-%COMP%]{max-height:327.6px}app-card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}@media (max-width:768px){.card-list[_ngcontent-%COMP%]{margin-bottom:4.0625rem}}@media (max-width:319px){app-card[_ngcontent-%COMP%]{width:100%;margin-top:.625rem}}.form-control[_ngcontent-%COMP%]::placeholder{font-family:FontAwesome}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:var(--main-color)}.btn-color[_ngcontent-%COMP%]{background-color:#198754!important;color:#fff!important}"]}),n})(),lJ=(()=>{class n{constructor(){this.item={}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-section-card"]],inputs:{item:"item"},decls:7,vars:2,consts:[[1,"card","section-card"],[1,"card-body","section-card-body"],[1,"section-card-content"],[1,"section-card-title"],[1,"section-card-image"],["alt","Section Image",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l._UZ(6,"img",5),l.qZA()()()()),2&t&&(l.xp6(4),l.Oqu(i.item.name),l.xp6(2),l.Q6J("src",i.item.imageUrl,l.LSH))},styles:[".section-card[_ngcontent-%COMP%]{border:none;border-radius:10px;background-color:#fff;box-shadow:0 2px 5px #0000001a;transition:transform .3s;width:100%;max-width:300px;margin:10px auto;cursor:pointer}.section-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.section-card-body[_ngcontent-%COMP%]{padding:0}.section-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:15px}.section-card-title[_ngcontent-%COMP%]{margin:0;font-size:18px}.section-card-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;background-color:#f8f9fa;display:flex;justify-content:center;align-items:center}.section-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover;display:block}"]}),n})();function uJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-section-card",11),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(3);return l.KtG(c.getItem(o))}),l.qZA()}2&n&&l.Q6J("item",e.$implicit)}function dJ(n,e){if(1&n&&(l.TgZ(0,"ul",9),l.YNc(1,uJ,1,1,"app-section-card",10),l.ALo(2,"filter"),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,t.sortCategories,t.searchText))}}function hJ(n,e){if(1&n&&(l.TgZ(0,"div",7),l.YNc(1,dJ,3,4,"ul",8),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.loading)}}function fJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.goToSections())}),l.TgZ(1,"mat-icon"),l._uU(2,"arrow_back"),l.qZA()()}}function pJ(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"app-card",15),l.NdJ("item",function(r){l.CHM(t);const o=l.oxw(2);return l.KtG(o.addToCart(r))}),l.qZA(),l.BQk()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("data",t)}}function mJ(n,e){if(1&n&&(l.TgZ(0,"ul",13),l.YNc(1,pJ,2,1,"ng-container",14),l.ALo(2,"filter"),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,t.goods,t.searchText))}}function gJ(n,e){1&n&&(l.TgZ(0,"div",16),l._UZ(1,"app-spinner"),l.qZA())}const _J=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:cJ},{path:"sections",component:(()=>{class n{constructor(t,i){this.ss=t,this.cartService=i,this.newItem=new l.vpe,this.allCategories=[],this.sortCategories=[],this.loading=!1,this.clickItem=!1,this.goods=[],this.cartGoods=[],this.search="\u0642\u0633\u0645"}ngOnInit(){this.getAllCategories()}getItem(t){this.loading=!0,this.goods=[],this.categoriesObservable=this.ss.getFuilterGoods(t.name).subscribe(i=>{this.goods=i,this.clickItem=!0,this.search="\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",this.loading=!1})}addToCart(t){this.cartService.addToCart({quantity:1,id:t.id,amount:t.amount,imageUrl:t.imageUrl,title:t.title})}getAllCategories(){this.loading=!0,this.categoriesObservable=this.ss.getAllcategories().subscribe(t=>{this.allCategories=t.filter(i=>{if("\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"!=i.name)return i}),this.sortCategories=[],this.getSortCategories(),this.loading=!1})}getSortCategories(){this.allCategories.forEach(t=>{"\u0627\u062e\u0631\u064a"!=t.name&&this.sortCategories.push(t)});for(let t of this.allCategories)if("\u0627\u062e\u0631\u064a"==t.name){this.sortCategories.push(t);break}}goToSections(){this.clickItem=!1,this.search="\u0642\u0633\u0645",this.getAllCategories()}ngOnDestroy(){this.categoriesObservable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fH),l.Y36(Xu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sections"]],outputs:{newItem:"newItem"},decls:7,vars:6,consts:[["dir","rtl",1,"row"],[1,"search-hero","mb-2","col-12","col-xl-6","col-md-6"],["type","text","name","search","autocomplete","off",1,"form-control","text-center",3,"ngModel","placeholder","ngModelChange"],["class","w-100",4,"ngIf"],["class","back  col-6 mb-1","mat-mini-fab","",3,"click",4,"ngIf"],["class","card-list d-flex flex-wrap text-center",4,"ngIf"],["class","c-spinner hghit-100 w-100 text-center",4,"ngIf"],[1,"w-100"],["class"," row text-center ",4,"ngIf"],[1,"row","text-center"],["class","col-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4","type","button",3,"item","click",4,"ngFor","ngForOf"],["type","button",1,"col-12","col-md-6","col-lg-6","col-xl-4","col-xxl-4",3,"item","click"],["mat-mini-fab","",1,"back","col-6","mb-1",3,"click"],[1,"card-list","d-flex","flex-wrap","text-center"],[4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3","col-xl-2",3,"data","item"],[1,"c-spinner","hghit-100","w-100","text-center"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"input",2),l.NdJ("ngModelChange",function(o){return i.searchText=o}),l.qZA()()(),l.YNc(3,hJ,2,1,"div",3),l.YNc(4,fJ,3,0,"button",4),l.YNc(5,mJ,3,4,"ul",5),l.YNc(6,gJ,2,0,"div",6)),2&t&&(l.xp6(2),l.MGl("placeholder","\uf002 \u0627\u0628\u062d\u062b \u0639\u0646 ",i.search,""),l.Q6J("ngModel",i.searchText),l.xp6(1),l.Q6J("ngIf",!i.clickItem),l.xp6(1),l.Q6J("ngIf",i.clickItem),l.xp6(1),l.Q6J("ngIf",i.clickItem),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[go,gr,dH,hH,g_,MT,cw,tl,Iu,Du,lJ,wH],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}ul[_ngcontent-%COMP%]{list-style:none}@media (max-width:768px){ul[_ngcontent-%COMP%]{margin-bottom:4.0625rem!important}}.back[_ngcontent-%COMP%]{position:fixed;right:1.875rem;top:28rem;box-shadow:0 8px 15px #0000001a;background-color:#198754;z-index:20}.row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.375rem .75rem}.form-control[_ngcontent-%COMP%]::placeholder{font-family:FontAwesome}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:var(--main-color)}"]}),n})()},{path:"cart",component:nX},{path:"**",redirectTo:"/home"}];let vJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tf.forRoot(_J,{initialNavigation:"enabledBlocking",useHash:!0}),Tf]}),n})(),yJ=0;const bJ=Qv(class{}),EH="mat-badge-content";let xH=(()=>{class n extends bJ{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=ir(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateHostAriaDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=ir(t)}constructor(t,i,r,o,c){super(),this._ngZone=t,this._elementRef=i,this._ariaDescriber=r,this._renderer=o,this._animationMode=c,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=yJ++,this._isInitialized=!1}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(EH),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateHostAriaDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),t&&this._ariaDescriber.describe(this._elementRef.nativeElement,t),this._description=t}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${EH}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(XC),l.Y36(l.Qsj),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,i){2&t&&l.ekj("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small","small"===i.size)("mat-badge-medium","medium"===i.size)("mat-badge-large","large"===i.size)("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[l.qOj]}),n})(),wJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Mm,Gr,Gr]}),n})(),CJ=(()=>{class n{constructor(t){this.cartService=t,this.count=0,this.more_1=!1}ngOnInit(){this.cartService.cart.subscribe(t=>{this.count=t.items.length,this.more_1=!!this.count})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:44,vars:2,consts:[["dir","rtl",1,"header","navbar","sticky-top"],[1,"container"],["routerLink","/home",1,"logo","navbar-brand","fs-3"],["dir","ltr",1,"content"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","512.000000pt","viewBox","0 0 512.000000 512.000000","preserveAspectRatio","xMidYMid meet",1,"logoo"],["transform","translate(0.000000,512.000000) scale(0.100000,-0.100000)","stroke","none"],["d","M156 5055 c-51 -18 -85 -44 -113 -85 -64 -93 -55 -231 20 -308 65\n        -68 56 -66 447 -72 393 -6 393 -6 444 -72 41 -55 332 -1040 586 -1985 126\n        -468 243 -884 259 -923 69 -163 232 -360 377 -458 79 -53 202 -114 282 -141\n        162 -55 147 -54 887 -58 477 -3 721 -1 789 7 253 29 477 138 657 319 171 171\n        277 376 314 605 22 132 22 1097 0 1239 -72 477 -427 841 -905 928 -59 11 -226\n        14 -770 14 l-695 0 -55 -30 c-39 -22 -63 -44 -85 -79 -27 -44 -30 -58 -30\n        -130 0 -71 4 -87 28 -129 35 -58 86 -93 156 -107 33 -6 310 -10 718 -10 740 0\n        725 1 858 -68 95 -49 218 -172 267 -267 69 -134 69 -131 66 -748 -3 -552 -3\n        -552 -27 -616 -32 -85 -110 -199 -178 -260 -72 -65 -194 -128 -281 -146 -54\n        -12 -196 -15 -752 -15 -763 0 -763 0 -899 67 -107 52 -225 169 -274 273 -36\n        77 -399 1322 -677 2325 -166 596 -177 622 -305 751 -96 97 -204 156 -328 179\n        -110 21 -723 21 -781 0z"],["d","M2265 521 c-113 -29 -178 -113 -178 -231 -1 -80 25 -142 76 -187 55\n        -48 92 -55 278 -51 161 3 167 4 207 31 65 42 96 97 100 176 7 119 -32 196\n        -122 244 -36 18 -60 21 -186 24 -80 1 -158 -2 -175 -6z"],["d","M4415 521 c-110 -27 -178 -117 -178 -236 1 -78 26 -137 76 -180 60\n        -51 91 -57 278 -53 161 3 167 4 207 31 69 45 96 97 101 189 3 69 0 85 -23 132\n        -30 61 -79 100 -146 115 -51 12 -269 13 -315 2z"],[1,"name"],[1,"nav-list"],[1,"show"],["aria-current","page","routerLink","/home","routerLinkActive","active",1,"nav-link"],["aria-hidden","false","aria-label","Example home icon","fontIcon","home"],["routerLink","/sections","routerLinkActive","active",1,"nav-link"],["routerLink","/cart","routerLinkActive","active",1,"nav-link"],["matBadgeColor","warn",3,"matBadge","matBadgeHidden"],[1,"cen"],["target","_blank","href","\n          https://www.facebook.com/profile.php?id=100090954994662&mibextid=ZbWKwL",1,"nav-link"],["color","primary"],["target","_blank","href","https://wa.me/0201000126697",1,"nav-link","text-center"],["height","22px","width","22px","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 58 58",0,"xml","space","preserve"],["d","M0,58l4.988-14.963C2.457,38.78,1,33.812,1,28.5C1,12.76,13.76,0,29.5,0S58,12.76,58,28.5\n\t\tS45.24,57,29.5,57c-4.789,0-9.299-1.187-13.26-3.273L0,58z",2,"fill","#2CB742"],["d","M47.683,37.985c-1.316-2.487-6.169-5.331-6.169-5.331c-1.098-0.626-2.423-0.696-3.049,0.42\n\t\tc0,0-1.577,1.891-1.978,2.163c-1.832,1.241-3.529,1.193-5.242-0.52l-3.981-3.981l-3.981-3.981c-1.713-1.713-1.761-3.41-0.52-5.242\n\t\tc0.272-0.401,2.163-1.978,2.163-1.978c1.116-0.627,1.046-1.951,0.42-3.049c0,0-2.844-4.853-5.331-6.169\n\t\tc-1.058-0.56-2.357-0.364-3.203,0.482l-1.758,1.758c-5.577,5.577-2.831,11.873,2.746,17.45l5.097,5.097l5.097,5.097\n\t\tc5.577,5.577,11.873,8.323,17.45,2.746l1.758-1.758C48.048,40.341,48.243,39.042,47.683,37.985z",2,"fill","#FFFFFF"],["href","tel:+201090784354",1,"nav-link"]],template:function(t,i){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"div",3)(4,"span"),l.O4$(),l.TgZ(5,"svg",4)(6,"g",5),l._UZ(7,"path",6)(8,"path",7)(9,"path",8),l.qZA()()(),l.kcU(),l.TgZ(10,"span",9),l._uU(11,"SmartSuQ"),l.qZA()()(),l.TgZ(12,"ul",10)(13,"li",11)(14,"a",12),l._UZ(15,"mat-icon",13),l._uU(16," \u0627\u0644\u0631\u0626\u0633\u064a\u0629 "),l.qZA()(),l.TgZ(17,"li",11)(18,"a",14)(19,"mat-icon"),l._uU(20,"apps"),l.qZA(),l._uU(21," \u0627\u0644\u0627\u0642\u0633\u0627\u0645 "),l.qZA()(),l.TgZ(22,"li",11)(23,"a",15)(24,"mat-icon",16),l._uU(25,"shopping_cart"),l.qZA(),l._uU(26," \u0627\u0644\u0639\u0631\u0628\u0629 "),l.qZA()(),l.TgZ(27,"li",17)(28,"a",18)(29,"mat-icon",19),l._uU(30,"facebook"),l.qZA(),l._uU(31," \u062a\u0627\u0628\u0639\u0646\u0627"),l.qZA()(),l.TgZ(32,"li",17)(33,"a",20),l.O4$(),l.TgZ(34,"svg",21)(35,"g"),l._UZ(36,"path",22)(37,"path",23),l.qZA()(),l._uU(38," \u0634\u0627\u062a"),l.qZA()(),l.kcU(),l.TgZ(39,"li",17)(40,"a",24)(41,"mat-icon"),l._uU(42,"add_ic_call"),l.qZA(),l._uU(43," \u0627\u062a\u0635\u0644 \u0628\u0646\u0627 "),l.qZA()()()()()),2&t&&(l.xp6(24),l.Q6J("matBadge",i.count)("matBadgeHidden",!i.more_1))},dependencies:[Du,Iu,xH,Zu,Tg],styles:[".header[_ngcontent-%COMP%]{flex-wrap:nowrap!important;background-color:#fff;box-shadow:0 4px 4px -4px #0000001f;border-radius:0 0 10px 10px;margin-bottom:10px}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:72px}.header[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;display:flex;font-size:20px;gap:50px}.header[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transform:translateY(20%)}@media (max-width:992px){.header[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{gap:30px;font-size:16px}}@media (max-width:768px){.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:52px}.header[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{gap:10px}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:10px}.show[_ngcontent-%COMP%]{display:none}}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#252525;transition:.3s}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--main-color)}.active[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{color:var(--main-color)!important}.content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]   .logoo[_ngcontent-%COMP%]{width:2rem;fill:#ffc533;font-weight:700;margin-right:.425rem}"]}),n})(),EJ=(()=>{class n{constructor(t){this.cartService=t,this.count=0,this.more_1=!1}ngOnInit(){this.cartService.cart.subscribe(t=>{this.count=t.items.length,this.more_1=!!this.count})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bottom-bar"]],decls:12,vars:2,consts:[[1,"bottom-bar","row","fixed-bottom","text-center"],["routerLink","sections","routerLinkActive","active",1,"col-4"],["routerLink","/home","routerLinkActive","active",1,"col-4"],["aria-hidden","false","aria-label","Example home icon","fontIcon","home"],["routerLink","/cart","routerLinkActive","active",1,"col-4"],["matBadgeColor","warn",3,"matBadge","matBadgeHidden"]],template:function(t,i){1&t&&(l.TgZ(0,"ul",0)(1,"li",1)(2,"mat-icon"),l._uU(3,"apps"),l.qZA(),l._uU(4," \u0627\u0644\u0627\u0642\u0633\u0627\u0645 "),l.qZA(),l.TgZ(5,"li",2),l._UZ(6,"mat-icon",3),l._uU(7," \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "),l.qZA(),l.TgZ(8,"li",4)(9,"mat-icon",5),l._uU(10,"shopping_cart"),l.qZA(),l._uU(11," \u0627\u0644\u0639\u0631\u0628\u0629 "),l.qZA()()),2&t&&(l.xp6(9),l.Q6J("matBadge",i.count)("matBadgeHidden",!i.more_1))},dependencies:[Du,xH,Zu,Tg],styles:['.bottom-bar[_ngcontent-%COMP%]{margin-bottom:0;height:60px;padding-bottom:16px;list-style:none;box-shadow:0 -1px #0000001f;background-color:var(--main-color);color:#f6f6f6;border-radius:10px 10px 0 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateY(20%);transition:.3s ease-out}mat-icon[_ngcontent-%COMP%]{font-size:20px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:""}.active[_ngcontent-%COMP%]{color:#252525;transform:scale(1.05)}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.demo-section[_ngcontent-%COMP%] + .demo-section[_ngcontent-%COMP%]{margin-top:16px}']}),n})();function xJ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.scrollToTop())}),l.TgZ(1,"mat-icon"),l._uU(2,"arrow_upward"),l.qZA()()}}let IJ=(()=>{class n{constructor(){this.showButton=!1}onWindowScroll(){this.showButton=window.scrollY>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-scroll-up-button"]],hostBindings:function(t,i){1&t&&l.NdJ("scroll",function(){return i.onWindowScroll()},!1,l.Jf7)},decls:1,vars:1,consts:[["mat-mini-fab","","class","scroll-up-button",3,"click",4,"ngIf"],["mat-mini-fab","",1,"scroll-up-button",3,"click"]],template:function(t,i){1&t&&l.YNc(0,xJ,3,0,"button",0),2&t&&l.Q6J("ngIf",i.showButton)},dependencies:[gr,Du,tl],styles:[".scroll-up-button[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:1.875rem;background-color:var(--main-color);color:#fff;z-index:20}"]}),n})(),SJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"trans"],[1,"show"]],template:function(t,i){1&t&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet",1),l.qZA(),l._UZ(3,"app-bottom-bar",2)(4,"app-scroll-up-button"))},dependencies:[db,CJ,EJ,IJ],styles:["@media (min-width:768px){.show[_ngcontent-%COMP%]{display:none}}"]}),n})();function IH(n){return new l.vHH(3e3,!1)}function aee(){return typeof window<"u"&&typeof window.document<"u"}function NN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wd(n){switch(n.length){case 0:return new Qa;case 1:return n[0];default:return new Zm(n)}}function SH(n,e,t,i,r=new Map,o=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const x=b.get("offset"),T=x==p,M=T&&_||new Map;b.forEach((N,q)=>{let ce=q,ze=N;if("offset"!==q)switch(ce=e.normalizePropertyName(ce,c),ze){case xy:ze=r.get(q);break;case As:ze=o.get(q);break;default:ze=e.normalizeStyleValue(q,ce,ze,c)}M.set(ce,ze)}),T||d.push(M),_=M,p=x}),c.length)throw function ZJ(n){return new l.vHH(3502,!1)}();return d}function FN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&LN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&LN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&LN(t,"destroy",n)))}}function LN(n,e,t){const o=BN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function BN(n,e,t,i,r="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function us(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function TH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let VN=(n,e)=>!1,DH=(n,e,t)=>[],AH=null;function UN(n){const e=n.parentNode||n.host;return e===AH?null:e}(NN()||typeof Element<"u")&&(aee()?(AH=(()=>document.documentElement)(),VN=(n,e)=>{for(;e;){if(e===n)return!0;e=UN(e)}return!1}):VN=(n,e)=>n.contains(e),DH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let cp=null,MH=!1;const kH=VN,RH=DH;let OH=(()=>{class n{validateStyleProperty(t){return function lee(n){cp||(cp=function uee(){return typeof document<"u"?document.body:null}()||{},MH=!!cp.style&&"WebkitAppearance"in cp.style);let e=!0;return cp.style&&!function cee(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cp.style,!e&&MH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return kH(t,i)}getParentElement(t){return UN(t)}query(t,i,r){return RH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,c,d=[],p){return new Qa(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zN=(()=>{class n{}return n.NOOP=new OH,n})();const dee=1e3,jN="ng-enter",HT="ng-leave",$T="ng-trigger",GT=".ng-trigger",NH="ng-animating",HN=".ng-animating";function Tl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$N(parseFloat(e[1]),e[2])}function $N(n,e){return"s"===e?n*dee:n}function WT(n,e,t){return n.hasOwnProperty("duration")?n:function fee(n,e,t){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(IH()),{duration:0,delay:0,easing:""};r=$N(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=$N(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function TJ(){return new l.vHH(3100,!1)}()),d=!0),o<0&&(e.push(function DJ(){return new l.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,IH())}return{duration:r,delay:o,easing:c}}(n,e,t)}function lw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function FH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Cd(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function BH(n,e,t){return t?e+":"+t+";":""}function VH(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=BH(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BH(0,_ee(t),n.style[t]));n.setAttribute("style",e)}function fc(n,e,t){n.style&&(e.forEach((i,r)=>{const o=WN(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),NN()&&VH(n))}function lp(n,e){n.style&&(e.forEach((t,i)=>{const r=WN(i);n.style[r]=""}),NN()&&VH(n))}function uw(n){return Array.isArray(n)?1==n.length?n[0]:Cy(n):n}const GN=new RegExp("{{\\s*(.+?)\\s*}}","g");function UH(n){let e=[];if("string"==typeof n){let t;for(;t=GN.exec(n);)e.push(t[1]);GN.lastIndex=0}return e}function dw(n,e,t){const i=n.toString(),r=i.replace(GN,(o,c)=>{let d=e[c];return null==d&&(t.push(function MJ(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function qT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gee=/-+([a-z0-9])/g;function WN(n){return n.replace(gee,(...e)=>e[1].toUpperCase())}function _ee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ds(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kJ(n){return new l.vHH(3004,!1)}()}}function zH(n,e){return window.getComputedStyle(n)[e]}const KT="*";function Eee(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function xee(n,e,t){if(":"==n[0]){const p=function Iee(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function GJ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function $J(n){return new l.vHH(3015,!1)}()),e;const r=i[1],o=i[2],c=i[3];e.push(jH(r,c));"<"==o[0]&&!(r==KT&&c==KT)&&e.push(jH(c,r))}(i,t,e)):t.push(n),t}const QT=new Set(["true","1"]),XT=new Set(["false","0"]);function jH(n,e){const t=QT.has(n)||XT.has(n),i=QT.has(e)||XT.has(e);return(r,o)=>{let c=n==KT||n==r,d=e==KT||e==o;return!c&&t&&"boolean"==typeof r&&(c=r?QT.has(n):XT.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?QT.has(e):XT.has(e)),c&&d}}const See=new RegExp("s*:selfs*,?","g");function qN(n,e,t,i){return new Tee(n).build(e,t,i)}class Tee{constructor(e){this._driver=e}build(e,t,i){const r=new Mee(t);return this._resetContextStyleTimingState(r),ds(this,uw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function OJ(){return new l.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,o.push(this.visitState(p,t))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function PJ(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{UH(p).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(qT(o.values()),t.errors.push(function NJ(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ds(this,uw(e.animation),t);return{type:1,matchers:Eee(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:up(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ds(this,i,t)),options:up(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(c=>{t.currentTime=i;const d=ds(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:o,options:up(e.options)}}visitAnimate(e,t){const i=function Ree(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return YN(WT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=YN(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=WT(t,e);return YN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Fo({});if(5==o.type)r=this.visitKeyframes(o,t);else{let c=e.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=Fo(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===As?i.push(d):t.errors.push(new l.vHH(3002,!1)):i.push(FH(d));let o=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let p of d.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),b=_.get(p);let x=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(t.errors.push(function LJ(n,e,t,i,r){return new l.vHH(3010,!1)}()),x=!1),o=b.startTime),x&&_.set(p,{startTime:o,endTime:r}),t.options&&function mee(n,e,t){const i=e.params||{},r=UH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function AJ(n){return new l.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function BJ(){return new l.vHH(3011,!1)}()),i;let o=0;const c=[];let d=!1,p=!1,_=0;const b=e.steps.map(ze=>{const Xe=this._makeStyleAst(ze,t);let Ke=null!=Xe.offset?Xe.offset:function kee(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Xe.styles),tt=0;return null!=Ke&&(o++,tt=Xe.offset=Ke),p=p||tt<0||tt>1,d=d||tt<_,_=tt,c.push(tt),Xe});p&&t.errors.push(function VJ(){return new l.vHH(3012,!1)}()),d&&t.errors.push(function UJ(){return new l.vHH(3200,!1)}());const x=e.steps.length;let T=0;o>0&&o<x?t.errors.push(function zJ(){return new l.vHH(3202,!1)}()):0==o&&(T=1/(x-1));const M=x-1,N=t.currentTime,q=t.currentAnimateTimings,ce=q.duration;return b.forEach((ze,Xe)=>{const Ke=T>0?Xe==M?1:T*Xe:c[Xe],tt=Ke*ce;t.currentTime=N+q.delay+tt,q.duration=tt,this._validateStyleAst(ze,t),ze.offset=Ke,i.styles.push(ze)}),i}visitReference(e,t){return{type:8,animation:ds(this,uw(e.animation),t),options:up(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:up(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:up(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function Dee(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(See,"")),n=n.replace(/@\*/g,GT).replace(/@\w+/g,t=>GT+"-"+t.slice(1)).replace(/:animating/g,HN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,us(t.collectedStyles,t.currentQuerySelector,new Map);const d=ds(this,uw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:up(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function jJ(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:WT(e.timings,t.errors,!0);return{type:12,animation:ds(this,uw(e.animation),t),timings:i,options:null}}}class Mee{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function up(n){return n?(n=lw(n)).params&&(n.params=function Aee(n){return n?lw(n):null}(n.params)):n={},n}function YN(n,e,t){return{duration:n,delay:e,easing:t}}function ZN(n,e,t,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class JT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Nee=new RegExp(":enter","g"),Lee=new RegExp(":leave","g");function KN(n,e,t,i,r,o=new Map,c=new Map,d,p,_=[]){return(new Bee).buildKeyframes(n,e,t,i,r,o,c,d,p,_)}class Bee{buildKeyframes(e,t,i,r,o,c,d,p,_,b=[]){_=_||new JT;const x=new QN(e,t,_,r,o,b,[]);x.options=p;const T=p.delay?Tl(p.delay):0;x.currentTimeline.delayNextStep(T),x.currentTimeline.setStyles([c],null,x.errors,p),ds(this,i,x);const M=x.timelines.filter(N=>N.containsAnimation());if(M.length&&d.size){let N;for(let q=M.length-1;q>=0;q--){const ce=M[q];if(ce.element===t){N=ce;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([d],null,x.errors,p)}return M.length?M.map(N=>N.buildKeyframes()):[ZN(t,[],[],[],0,T,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const c="number"==typeof o?o:Tl(dw(o,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const c=null!=i.duration?Tl(i.duration):null,d=null!=i.delay?Tl(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,d);o=Math.max(o,_.duration+_.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ds(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eD);const c=Tl(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ds(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Tl(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);o&&d.delayNextStep(o),ds(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return WT(t.params?dw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Tl(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=eD);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{t.currentQueryIndex=b;const x=t.createSubContext(e.options,_);o&&x.delayNextStep(o),_===t.element&&(p=x.currentTimeline),ds(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),d=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const x=b.currentTime;ds(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const eD={};class QN{constructor(e,t,i,r,o,c,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new tD(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Tl(i.duration)),null!=i.delay&&(r.delay=Tl(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=dw(o[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new QN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=eD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Vee(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(Nee,"."+this._enterClassName)).replace(Lee,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!o&&0==d.length&&c.push(function HJ(n){return new l.vHH(3014,!1)}()),d}}class tD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new tD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||As),this._currentKeyframe.set(t,As);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},c=function Uee(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,As)}else Cd(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of c){const _=dw(p,o,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??As),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=Cd(d,new Map,this._backFill);_.forEach((b,x)=>{b===xy?e.add(x):b===As&&t.add(x)}),i||_.set("offset",p/this.duration),r.push(_)});const o=e.size?qT(e.values()):[],c=t.size?qT(t.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return ZN(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class Vee extends tD{constructor(e,t,i,r,o,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=i+t,d=t/c,p=Cd(e[0]);p.set("offset",0),o.push(p);const _=Cd(e[0]);_.set("offset",GH(d)),o.push(_);const b=e.length-1;for(let x=1;x<=b;x++){let T=Cd(e[x]);const M=T.get("offset");T.set("offset",GH((t+M*i)/c)),o.push(T)}i=c,t=0,r="",e=o}return ZN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function GH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XN{}const zee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jee extends XN{normalizePropertyName(e,t){return WN(e)}normalizeStyleValue(e,t,i,r){let o="";const c=i.toString().trim();if(zee.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function RJ(n,e){return new l.vHH(3005,!1)}())}return c+o}}function WH(n,e,t,i,r,o,c,d,p,_,b,x,T){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:x,errors:T}}const JN={};class qH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Hee(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,c,d,p,_,b){const x=[],T=this.ast.options&&this.ast.options.params||JN,N=this.buildStyles(i,d&&d.params||JN,x),q=p&&p.params||JN,ce=this.buildStyles(r,q,x),ze=new Set,Xe=new Map,Ke=new Map,tt="void"===r,Et={params:$ee(q,T),delay:this.ast.options?.delay},zt=b?[]:KN(e,t,this.ast.animation,o,c,N,ce,Et,_,x);let hn=0;if(zt.forEach(er=>{hn=Math.max(er.duration+er.delay,hn)}),x.length)return WH(t,this._triggerName,i,r,tt,N,ce,[],[],Xe,Ke,hn,x);zt.forEach(er=>{const Sa=er.element,D8=us(Xe,Sa,new Set);er.preStyleProps.forEach(Tp=>D8.add(Tp));const rC=us(Ke,Sa,new Set);er.postStyleProps.forEach(Tp=>rC.add(Tp)),Sa!==t&&ze.add(Sa)});const Ci=qT(ze.values());return WH(t,this._triggerName,i,r,tt,N,ce,zt,Ci,Xe,Ke,hn)}}function $ee(n,e){const t=lw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Gee{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=lw(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=dw(c,r,t));const p=this.normalizer.normalizePropertyName(d,t);c=this.normalizer.normalizeStyleValue(d,p,c,t),i.set(d,c)})}),i}}class qee{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Gee(r.style,r.options&&r.options.params||{},i))}),YH(this.states,"true","1"),YH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new qH(e,r,this.states))}),this.fallbackTransition=function Yee(n,e,t){return new qH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function YH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Zee=new JT;class Kee{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=qN(this._driver,t,i,r);if(i.length)throw function KJ(n){return new l.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=SH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let c;const d=new Map;if(o?(c=KN(this._driver,t,o,jN,HT,new Map,new Map,i,Zee,r),c.forEach(b=>{const x=us(d,b.element,new Map);b.postStyleProps.forEach(T=>x.set(T,null))})):(r.push(function QJ(){return new l.vHH(3300,!1)}()),c=[]),r.length)throw function XJ(n){return new l.vHH(3504,!1)}();d.forEach((b,x)=>{b.forEach((T,M)=>{b.set(M,this._driver.computeStyle(x,M,As))})});const _=wd(c.map(b=>{const x=d.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function JJ(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=BN(t,"","","");return FN(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const ZH="ng-animate-queued",eF="ng-animate-disabled",tte=[],KH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fs="__ng_removed";class tF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function ste(n){return n??null}(i?e.value:e),i){const o=lw(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hw="void",nF=new tF(hw);class ite{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ls(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function eee(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function tee(n){return new l.vHH(3303,!1)}();if(!function ate(n){return"start"==n||"done"==n}(i))throw function nee(n,e){return new l.vHH(3400,!1)}();const o=us(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};o.push(c);const d=us(this._engine.statesByElement,e,new Map);return d.has(t)||(Ls(e,$T),Ls(e,$T+"-"+t),d.set(t,nF)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function iee(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),c=new iF(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(Ls(e,$T),Ls(e,$T+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const _=new tF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(t,_),p||(p=nF),_.value!==hw&&p.value===_.value){if(!function ute(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(p.params,_.params)){const q=[],ce=o.matchStyles(p.value,p.params,q),ze=o.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{lp(e,ce),fc(e,ze)})}return}const T=us(this._engine.playersByElement,e,[]);T.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let M=o.matchTransition(p.value,_.value,e,_.params),N=!1;if(!M){if(!r)return;M=o.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:p,toState:_,player:c,isFallbackTransition:N}),N||(Ls(e,ZH),c.onStart(()=>{w_(e,ZH)})),c.onDone(()=>{let q=this.players.indexOf(c);q>=0&&this.players.splice(q,1);const ce=this._engine.playersByElement.get(e);if(ce){let ze=ce.indexOf(c);ze>=0&&ce.splice(ze,1)}}),this.players.push(c),T.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,GT,!0);i.forEach(r=>{if(r[Fs])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const d=[];if(o.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(e,_,hw,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&wd(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||nF,b=new tF(hw),x=new iF(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Fs];(!o||o===KH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ls(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=BN(o,i.triggerName,i.fromState.value,i.toState.value);p._data=e,FN(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class rte{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ite(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(nD(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!nD(t))return;const o=t[Fs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ls(e,eF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),w_(e,eF))}removeNode(e,t,i,r){if(nD(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Fs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return nD(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,GT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,HN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Fs];if(t&&t.setForRemoval){if(e[Fs]=KH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(eF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ls(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?wd(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ree(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new JT,r=[],o=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(qt=>{b.add(qt);const on=this.driver.query(qt,".ng-animate-queued",!0);for(let cn=0;cn<on.length;cn++)b.add(on[cn])});const x=this.bodyNode,T=Array.from(this.statesByElement.keys()),M=JH(T,this.collectedEnterElements),N=new Map;let q=0;M.forEach((qt,on)=>{const cn=jN+q++;N.set(on,cn),qt.forEach(Yn=>Ls(Yn,cn))});const ce=[],ze=new Set,Xe=new Set;for(let qt=0;qt<this.collectedLeaveElements.length;qt++){const on=this.collectedLeaveElements[qt],cn=on[Fs];cn&&cn.setForRemoval&&(ce.push(on),ze.add(on),cn.hasAnimation?this.driver.query(on,".ng-star-inserted",!0).forEach(Yn=>ze.add(Yn)):Xe.add(on))}const Ke=new Map,tt=JH(T,Array.from(ze));tt.forEach((qt,on)=>{const cn=HT+q++;Ke.set(on,cn),qt.forEach(Yn=>Ls(Yn,cn))}),e.push(()=>{M.forEach((qt,on)=>{const cn=N.get(on);qt.forEach(Yn=>w_(Yn,cn))}),tt.forEach((qt,on)=>{const cn=Ke.get(on);qt.forEach(Yn=>w_(Yn,cn))}),ce.forEach(qt=>{this.processLeaveNode(qt)})});const Et=[],zt=[];for(let qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(t).forEach(cn=>{const Yn=cn.player,zr=cn.element;if(Et.push(Yn),this.collectedEnterElements.length){const po=zr[Fs];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(cn.triggerName)){const Dp=po.previousTriggersValues.get(cn.triggerName),Us=this.statesByElement.get(cn.element);if(Us&&Us.has(cn.triggerName)){const pA=Us.get(cn.triggerName);pA.value=Dp,Us.set(cn.triggerName,pA)}}return void Yn.destroy()}}const Cc=!x||!this.driver.containsElement(x,zr),gs=Ke.get(zr),Ud=N.get(zr),$i=this._buildInstruction(cn,i,Ud,gs,Cc);if($i.errors&&$i.errors.length)return void zt.push($i);if(Cc)return Yn.onStart(()=>lp(zr,$i.fromStyles)),Yn.onDestroy(()=>fc(zr,$i.toStyles)),void r.push(Yn);if(cn.isFallbackTransition)return Yn.onStart(()=>lp(zr,$i.fromStyles)),Yn.onDestroy(()=>fc(zr,$i.toStyles)),void r.push(Yn);const k8=[];$i.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||k8.push(po)}),$i.timelines=k8,i.append(zr,$i.timelines),c.push({instruction:$i,player:Yn,element:zr}),$i.queriedElements.forEach(po=>us(d,po,[]).push(Yn)),$i.preStyleProps.forEach((po,Dp)=>{if(po.size){let Us=p.get(Dp);Us||p.set(Dp,Us=new Set),po.forEach((pA,B2)=>Us.add(B2))}}),$i.postStyleProps.forEach((po,Dp)=>{let Us=_.get(Dp);Us||_.set(Dp,Us=new Set),po.forEach((pA,B2)=>Us.add(B2))})});if(zt.length){const qt=[];zt.forEach(on=>{qt.push(function oee(n,e){return new l.vHH(3505,!1)}())}),Et.forEach(on=>on.destroy()),this.reportError(qt)}const hn=new Map,Ci=new Map;c.forEach(qt=>{const on=qt.element;i.has(on)&&(Ci.set(on,on),this._beforeAnimationBuild(qt.player.namespaceId,qt.instruction,hn))}),r.forEach(qt=>{const on=qt.element;this._getPreviousPlayers(on,!1,qt.namespaceId,qt.triggerName,null).forEach(Yn=>{us(hn,on,[]).push(Yn),Yn.destroy()})});const er=ce.filter(qt=>t$(qt,p,_)),Sa=new Map;XH(Sa,this.driver,Xe,_,As).forEach(qt=>{t$(qt,p,_)&&er.push(qt)});const rC=new Map;M.forEach((qt,on)=>{XH(rC,this.driver,new Set(qt),p,xy)}),er.forEach(qt=>{const on=Sa.get(qt),cn=rC.get(qt);Sa.set(qt,new Map([...Array.from(on?.entries()??[]),...Array.from(cn?.entries()??[])]))});const Tp=[],A8=[],M8={};c.forEach(qt=>{const{element:on,player:cn,instruction:Yn}=qt;if(i.has(on)){if(b.has(on))return cn.onDestroy(()=>fc(on,Yn.toStyles)),cn.disabled=!0,cn.overrideTotalTime(Yn.totalTime),void r.push(cn);let zr=M8;if(Ci.size>1){let gs=on;const Ud=[];for(;gs=gs.parentNode;){const $i=Ci.get(gs);if($i){zr=$i;break}Ud.push(gs)}Ud.forEach($i=>Ci.set($i,zr))}const Cc=this._buildAnimation(cn.namespaceId,Yn,hn,o,rC,Sa);if(cn.setRealPlayer(Cc),zr===M8)Tp.push(cn);else{const gs=this.playersByElement.get(zr);gs&&gs.length&&(cn.parentPlayer=wd(gs)),r.push(cn)}}else lp(on,Yn.fromStyles),cn.onDestroy(()=>fc(on,Yn.toStyles)),A8.push(cn),b.has(on)&&r.push(cn)}),A8.forEach(qt=>{const on=o.get(qt.element);if(on&&on.length){const cn=wd(on);qt.setRealPlayer(cn)}}),r.forEach(qt=>{qt.parentPlayer?qt.syncPlayerEvents(qt.parentPlayer):qt.destroy()});for(let qt=0;qt<ce.length;qt++){const on=ce[qt],cn=on[Fs];if(w_(on,HT),cn&&cn.hasAnimation)continue;let Yn=[];if(d.size){let Cc=d.get(on);Cc&&Cc.length&&Yn.push(...Cc);let gs=this.driver.query(on,HN,!0);for(let Ud=0;Ud<gs.length;Ud++){let $i=d.get(gs[Ud]);$i&&$i.length&&Yn.push(...$i)}}const zr=Yn.filter(Cc=>!Cc.destroyed);zr.length?cte(this,on,zr):this.processLeaveNode(on)}return ce.length=0,Tp.forEach(qt=>{this.players.push(qt),qt.onDone(()=>{qt.destroy();const on=this.players.indexOf(qt);this.players.splice(on,1)}),qt.play()}),Tp}elementContainsData(e,t){let i=!1;const r=t[Fs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const p=!o||o==hw;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const o=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,b=_!==o,x=us(i,_,[]);this._getPreviousPlayers(_,b,c,d,t.toState).forEach(M=>{const N=M.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),M.destroy(),x.push(M)})}lp(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,c){const d=t.triggerName,p=t.element,_=[],b=new Set,x=new Set,T=t.timelines.map(N=>{const q=N.element;b.add(q);const ce=q[Fs];if(ce&&ce.removedBeforeQueried)return new Qa(N.duration,N.delay);const ze=q!==p,Xe=function lte(n){const e=[];return e$(n,e),e}((i.get(q)||tte).map(hn=>hn.getRealPlayer())).filter(hn=>!!hn.element&&hn.element===q),Ke=o.get(q),tt=c.get(q),Et=SH(0,this._normalizer,0,N.keyframes,Ke,tt),zt=this._buildPlayer(N,Et,Xe);if(N.subTimeline&&r&&x.add(q),ze){const hn=new iF(e,d,q);hn.setRealPlayer(zt),_.push(hn)}return zt});_.forEach(N=>{us(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function ote(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,N.element,N))}),b.forEach(N=>Ls(N,NH));const M=wd(T);return M.onDestroy(()=>{b.forEach(N=>w_(N,NH)),fc(p,t.toStyles)}),x.forEach(N=>{us(r,N,[]).push(M)}),M}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Qa(e.duration,e.delay)}}class iF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Qa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>FN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){us(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function nD(n){return n&&1===n.nodeType}function QH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function XH(n,e,t,i,r){const o=[];t.forEach(p=>o.push(QH(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(x=>{const T=e.computeStyle(_,x,r);b.set(x,T),(!T||0==T.length)&&(_[Fs]=nte,c.push(_))}),n.set(_,b)});let d=0;return t.forEach(p=>QH(p,o[d++])),c}function JH(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function c(d){if(!d)return i;let p=o.get(d);if(p)return p;const _=d.parentNode;return p=t.has(_)?_:r.has(_)?i:c(_),o.set(d,p),p}return e.forEach(d=>{const p=c(d);p!==i&&t.get(p).push(d)}),t}function Ls(n,e){n.classList?.add(e)}function w_(n,e){n.classList?.remove(e)}function cte(n,e,t){wd(t).onDone(()=>n.processLeaveNode(e))}function e$(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Zm?e$(i.players,e):e.push(i)}}function t$(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class iD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new rte(e,t,i),this._timelineEngine=new Kee(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],_=[],b=qN(this._driver,o,p,_);if(p.length)throw function YJ(n,e){return new l.vHH(3404,!1)}();d=function Wee(n,e,t){return new qee(n,e,t)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,c]=TH(i);this._timelineEngine.command(o,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[c,d]=TH(i);return this._timelineEngine.listen(c,t,d,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hte=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fc(this._element,this._initialStyles),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lp(this._element,this._endStyles),this._endStyles=null),fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rF(n){let e=null;return n.forEach((t,i)=>{(function fte(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class n${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:zH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class pte{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return kH(e,t)}getParentElement(e){return UN(e)}query(e,t,i){return RH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const _=new Map,b=c.filter(M=>M instanceof n$);(function vee(n,e){return 0===n||0===e})(i,r)&&b.forEach(M=>{M.currentSnapshot.forEach((N,q)=>_.set(q,N))});let x=function pee(n){return n.length?n[0]instanceof Map?n:n.map(e=>FH(e)):[]}(t).map(M=>Cd(M));x=function yee(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(d=>c.set(d,zH(n,d)))}}return e}(e,x,_);const T=function dte(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=rF(e[0]),e.length>1&&(i=rF(e[e.length-1]))):e instanceof Map&&(t=rF(e)),t||i?new hte(n,t,i):null}(e,x);return new n$(e,x,p,T)}}let mte=(()=>{class n extends by{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Cy(t):t;return i$(this._renderer,null,i,"register",[r]),new gte(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gte extends zE{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _te(this._id,e,t||{},this._renderer)}}class _te{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return i$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function i$(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const r$="@.disabled";let vte=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=c?.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new o$("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,t,b.name,b)};return i.data.animation.forEach(p),new yte(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(iD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class o${constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==r$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yte extends o${constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==r$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function bte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function wte(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let Cte=(()=>{class n extends iD{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(zN),l.LFG(XN),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const s$=[{provide:by,useClass:mte},{provide:XN,useFactory:function Ete(){return new jee}},{provide:iD,useClass:Cte},{provide:l.FYo,useFactory:function xte(n,e,t){return new vte(n,e,t)},deps:[Qs,iD,l.R0b]}],oF=[{provide:zN,useFactory:()=>new pte},{provide:l.QbO,useValue:"BrowserAnimations"},...s$],a$=[{provide:zN,useClass:OH},{provide:l.QbO,useValue:"NoopAnimations"},...s$];let sF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?a$:oF}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:oF,imports:[Va]}),n})(),aF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_s,sF,zh,wJ,Tf,Va,Mu]}),n})();function c$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ft(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c$(Object(t),!0).forEach(function(i){Cr(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oD(n){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function l$(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Cr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cF(n,e){return function Ate(n){if(Array.isArray(n))return n}(n)||function kte(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var c,d,i=[],r=!0,o=!1;try{for(t=t.call(n);!(r=(c=t.next()).done)&&(i.push(c.value),!e||i.length!==e);r=!0);}catch(p){o=!0,d=p}finally{try{!r&&null!=t.return&&t.return()}finally{if(o)throw d}}return i}}(n,e)||u$(n,e)||function Ote(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pw(n){return function Dte(n){if(Array.isArray(n))return lF(n)}(n)||function Mte(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||u$(n)||function Rte(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u$(n,e){if(n){if("string"==typeof n)return lF(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lF(n,e)}}function lF(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var d$=function(){},uF={},h$={},f$=null,p$={mark:d$,measure:d$};try{typeof window<"u"&&(uF=window),typeof document<"u"&&(h$=document),typeof MutationObserver<"u"&&(f$=MutationObserver),typeof performance<"u"&&(p$=performance)}catch{}var cD,lD,uD,dD,hD,m$=(uF.navigator||{}).userAgent,g$=void 0===m$?"":m$,Ed=uF,bi=h$,_$=f$,aD=p$,Dl=!!bi.documentElement&&!!bi.head&&"function"==typeof bi.addEventListener&&"function"==typeof bi.createElement,v$=~g$.indexOf("MSIE")||~g$.indexOf("Trident/"),Al="___FONT_AWESOME___",dF=16,y$="fa",b$="svg-inline--fa",dp="data-fa-i2svg",hF="data-fa-pseudo-element",Nte="data-fa-pseudo-element-pending",fF="data-prefix",pF="data-icon",w$="fontawesome-i2svg",Fte="async",Lte=["HTML","HEAD","STYLE","SCRIPT"],C$=function(){try{return!0}catch{return!1}}(),wi="classic",Ji="sharp",mF=[wi,Ji];function mw(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[wi]}})}var gw=mw((Cr(cD={},wi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Cr(cD,Ji,{fa:"solid",fass:"solid","fa-solid":"solid"}),cD)),_w=mw((Cr(lD={},wi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Cr(lD,Ji,{solid:"fass"}),lD)),vw=mw((Cr(uD={},wi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Cr(uD,Ji,{fass:"fa-solid"}),uD)),Bte=mw((Cr(dD={},wi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Cr(dD,Ji,{"fa-solid":"fass"}),dD)),Vte=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,E$="fa-layers-text",Ute=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,zte=mw((Cr(hD={},wi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Cr(hD,Ji,{900:"fass"}),hD)),x$=[1,2,3,4,5,6,7,8,9,10],jte=x$.concat([11,12,13,14,15,16,17,18,19,20]),Hte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],hp={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yw=new Set;Object.keys(_w[wi]).map(yw.add.bind(yw)),Object.keys(_w[Ji]).map(yw.add.bind(yw));var $te=[].concat(mF,pw(yw),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",hp.GROUP,hp.SWAP_OPACITY,hp.PRIMARY,hp.SECONDARY]).concat(x$.map(function(n){return"".concat(n,"x")})).concat(jte.map(function(n){return"w-".concat(n)})),bw=Ed.FontAwesomeConfig||{};bi&&"function"==typeof bi.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=cF(n,2),i=e[1],r=function Wte(n){return""===n||"false"!==n&&("true"===n||n)}(function Gte(n){var e=bi.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(bw[i]=r)});var I$={styleDefault:"solid",familyDefault:"classic",cssPrefix:y$,replacementClass:b$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};bw.familyPrefix&&(bw.cssPrefix=bw.familyPrefix);var C_=Ft(Ft({},I$),bw);C_.autoReplaceSvg||(C_.observeMutations=!1);var Zt={};Object.keys(I$).forEach(function(n){Object.defineProperty(Zt,n,{enumerable:!0,set:function(t){C_[n]=t,ww.forEach(function(i){return i(Zt)})},get:function(){return C_[n]}})}),Object.defineProperty(Zt,"familyPrefix",{enumerable:!0,set:function(e){C_.cssPrefix=e,ww.forEach(function(t){return t(Zt)})},get:function(){return C_.cssPrefix}}),Ed.FontAwesomeConfig=Zt;var ww=[],xd=dF,pc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Kte="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Cw(){for(var n=12,e="";n-- >0;)e+=Kte[62*Math.random()|0];return e}function E_(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function gF(n){return n.classList?E_(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function S$(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fD(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function _F(n){return n.size!==pc.size||n.x!==pc.x||n.y!==pc.y||n.rotate!==pc.rotate||n.flipX||n.flipY}var ene=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function T$(){var n=y$,e=b$,t=Zt.cssPrefix,i=Zt.replacementClass,r=ene;if(t!==n||i!==e){var o=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");r=r.replace(o,".".concat(t,"-")).replace(c,"--".concat(t,"-")).replace(d,".".concat(i))}return r}var D$=!1;function vF(){Zt.autoAddCss&&!D$&&(function Zte(n){if(n&&Dl){var e=bi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=bi.head.childNodes,i=null,r=t.length-1;r>-1;r--){var o=t[r],c=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}bi.head.insertBefore(e,i)}}(T$()),D$=!0)}var tne={mixout:function(){return{dom:{css:T$,insertCss:vF}}},hooks:function(){return{beforeDOMElementCreation:function(){vF()},beforeI2svg:function(){vF()}}}},Ml=Ed||{};Ml[Al]||(Ml[Al]={}),Ml[Al].styles||(Ml[Al].styles={}),Ml[Al].hooks||(Ml[Al].hooks={}),Ml[Al].shims||(Ml[Al].shims=[]);var ya=Ml[Al],A$=[],pD=!1;function Ew(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,o=void 0===r?[]:r;return"string"==typeof n?S$(n):"<".concat(e," ").concat(function Qte(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(S$(n[t]),'" ')},"").trim()}(i),">").concat(o.map(Ew).join(""),"</").concat(e,">")}function M$(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Dl&&((pD=(bi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(bi.readyState))||bi.addEventListener("DOMContentLoaded",function n(){bi.removeEventListener("DOMContentLoaded",n),pD=1,A$.map(function(e){return e()})}));var yF=function(e,t,i,r){var p,_,b,o=Object.keys(e),c=o.length,d=void 0!==r?function(e,t){return function(i,r,o,c){return e.call(t,i,r,o,c)}}(t,r):t;for(void 0===i?(p=1,b=e[o[0]]):(p=0,b=i);p<c;p++)b=d(b,e[_=o[p]],_,e);return b};function bF(n){var e=function one(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var o=n.charCodeAt(t++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function k$(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function wF(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,o=k$(e);"function"!=typeof ya.hooks.addPack||r?ya.styles[n]=Ft(Ft({},ya.styles[n]||{}),o):ya.hooks.addPack(n,k$(e)),"fas"===n&&wF("fa",e)}var mD,gD,_D,x_=ya.styles,ane=ya.shims,cne=(Cr(mD={},wi,Object.values(vw[wi])),Cr(mD,Ji,Object.values(vw[Ji])),mD),CF=null,R$={},O$={},P$={},N$={},F$={},lne=(Cr(gD={},wi,Object.keys(gw[wi])),Cr(gD,Ji,Object.keys(gw[Ji])),gD);var L$=function(){var e=function(o){return yF(x_,function(c,d,p){return c[p]=yF(d,o,{}),c},{})};R$=e(function(r,o,c){return o[3]&&(r[o[3]]=c),o[2]&&o[2].filter(function(p){return"number"==typeof p}).forEach(function(p){r[p.toString(16)]=c}),r}),O$=e(function(r,o,c){return r[c]=c,o[2]&&o[2].filter(function(p){return"string"==typeof p}).forEach(function(p){r[p]=c}),r}),F$=e(function(r,o,c){var d=o[2];return r[c]=c,d.forEach(function(p){r[p]=c}),r});var t="far"in x_||Zt.autoFetchSvg,i=yF(ane,function(r,o){var c=o[0],d=o[1],p=o[2];return"far"===d&&!t&&(d="fas"),"string"==typeof c&&(r.names[c]={prefix:d,iconName:p}),"number"==typeof c&&(r.unicodes[c.toString(16)]={prefix:d,iconName:p}),r},{names:{},unicodes:{}});P$=i.names,N$=i.unicodes,CF=vD(Zt.styleDefault,{family:Zt.familyDefault})};function EF(n,e){return(R$[n]||{})[e]}function fp(n,e){return(F$[n]||{})[e]}function B$(n){return P$[n]||{prefix:null,iconName:null}}function Id(){return CF}(function Yte(n){ww.push(n)})(function(n){CF=vD(n.styleDefault,{family:Zt.familyDefault})}),L$();var xF=function(){return{prefix:null,iconName:null,rest:[]}};function vD(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===t?wi:t;return _w[i][n]||_w[i][gw[i][n]]||(n in ya.styles?n:null)||null}var V$=(Cr(_D={},wi,Object.keys(vw[wi])),Cr(_D,Ji,Object.keys(vw[Ji])),_D);function yD(n){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==i&&i,o=(Cr(e={},wi,"".concat(Zt.cssPrefix,"-").concat(wi)),Cr(e,Ji,"".concat(Zt.cssPrefix,"-").concat(Ji)),e),c=null,d=wi;(n.includes(o[wi])||n.some(function(_){return V$[wi].includes(_)}))&&(d=wi),(n.includes(o[Ji])||n.some(function(_){return V$[Ji].includes(_)}))&&(d=Ji);var p=n.reduce(function(_,b){var x=function dne(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function une(n){return~$te.indexOf(n)}(r)?null:r}(Zt.cssPrefix,b);if(x_[b]?(b=cne[d].includes(b)?Bte[d][b]:b,c=b,_.prefix=b):lne[d].indexOf(b)>-1?(c=b,_.prefix=vD(b,{family:d})):x?_.iconName=x:b!==Zt.replacementClass&&b!==o[wi]&&b!==o[Ji]&&_.rest.push(b),!r&&_.prefix&&_.iconName){var T="fa"===c?B$(_.iconName):{},M=fp(_.prefix,_.iconName);T.prefix&&(c=null),_.iconName=T.iconName||M||_.iconName,_.prefix=T.prefix||_.prefix,"far"===_.prefix&&!x_.far&&x_.fas&&!Zt.autoFetchSvg&&(_.prefix="fas")}return _},xF());return(n.includes("fa-brands")||n.includes("fab"))&&(p.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(p.prefix="fad"),!p.prefix&&d===Ji&&(x_.fass||Zt.autoFetchSvg)&&(p.prefix="fass",p.iconName=fp(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===c)&&(p.prefix=Id()||"fas"),p}var pne=function(){function n(){(function Ite(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Ste(n,e,t){e&&l$(n.prototype,e),t&&l$(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var c=r.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(d){t.definitions[d]=Ft(Ft({},t.definitions[d]||{}),c[d]),wF(d,c[d]);var p=vw[wi][d];p&&wF(p,c[d]),L$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(o){var c=r[o],d=c.prefix,p=c.iconName,_=c.icon,b=_[2];t[d]||(t[d]={}),b.length>0&&b.forEach(function(x){"string"==typeof x&&(t[d][x]=_)}),t[d][p]=_}),t}}]),n}(),U$=[],I_={},S_={},mne=Object.keys(S_);function IF(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(I_[n]||[]).forEach(function(c){e=c.apply(null,[e].concat(i))}),e}function pp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(I_[n]||[]).forEach(function(o){o.apply(null,t)})}function kl(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return S_[n]?S_[n].apply(null,e):void 0}function SF(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Id();if(e)return e=fp(t,e)||e,M$(z$.definitions,t,e)||M$(ya.styles,t,e)}var z$=new pne,vne={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dl?(pp("beforeI2svg",e),kl("pseudoElements2svg",e),kl("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Zt.autoReplaceSvg&&(Zt.autoReplaceSvg=!0),Zt.observeMutations=!0,function ine(n){Dl&&(pD?setTimeout(n,0):A$.push(n))}(function(){bne({autoReplaceSvgRoot:t}),pp("watch",e)})}},hs={noAuto:function(){Zt.autoReplaceSvg=!1,Zt.observeMutations=!1,pp("noAuto")},config:Zt,dom:vne,parse:{icon:function(e){if(null===e)return null;if("object"===oD(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:fp(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=vD(e[0]);return{prefix:i,iconName:fp(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Zt.cssPrefix,"-"))>-1||e.match(Vte))){var r=yD(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Id(),iconName:fp(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var o=Id();return{prefix:o,iconName:fp(o,e)||e}}}},library:z$,findIconDefinition:SF,toHtml:Ew},bne=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===t?bi:t;(Object.keys(ya.styles).length>0||Zt.autoFetchSvg)&&Dl&&Zt.autoReplaceSvg&&hs.dom.i2svg({node:i})};function bD(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Ew(i)})}}),Object.defineProperty(n,"node",{get:function(){if(Dl){var i=bi.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function TF(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,o=n.iconName,c=n.transform,d=n.symbol,p=n.title,_=n.maskId,b=n.titleId,x=n.extra,T=n.watchable,M=void 0!==T&&T,N=i.found?i:t,q=N.width,ce=N.height,ze="fak"===r,Xe=[Zt.replacementClass,o?"".concat(Zt.cssPrefix,"-").concat(o):""].filter(function(er){return-1===x.classes.indexOf(er)}).filter(function(er){return""!==er||!!er}).concat(x.classes).join(" "),Ke={children:[],attributes:Ft(Ft({},x.attributes),{},{"data-prefix":r,"data-icon":o,class:Xe,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(q," ").concat(ce)})},tt=ze&&!~x.classes.indexOf("fa-fw")?{width:"".concat(q/ce*16*.0625,"em")}:{};M&&(Ke.attributes[dp]=""),p&&(Ke.children.push({tag:"title",attributes:{id:Ke.attributes["aria-labelledby"]||"title-".concat(b||Cw())},children:[p]}),delete Ke.attributes.title);var Et=Ft(Ft({},Ke),{},{prefix:r,iconName:o,main:t,mask:i,maskId:_,transform:c,symbol:d,styles:Ft(Ft({},tt),x.styles)}),zt=i.found&&t.found?kl("generateAbstractMask",Et)||{children:[],attributes:{}}:kl("generateAbstractIcon",Et)||{children:[],attributes:{}},Ci=zt.attributes;return Et.children=zt.children,Et.attributes=Ci,d?function Cne(n){var t=n.iconName,i=n.children,r=n.attributes,o=n.symbol,c=!0===o?"".concat(n.prefix,"-").concat(Zt.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ft(Ft({},r),{},{id:c}),children:i}]}]}(Et):function wne(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,o=n.styles,c=n.transform;if(_F(c)&&t.found&&!i.found){var _={x:t.width/t.height/2,y:.5};r.style=fD(Ft(Ft({},o),{},{"transform-origin":"".concat(_.x+c.x/16,"em ").concat(_.y+c.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(Et)}function j$(n){var e=n.content,t=n.width,i=n.height,r=n.transform,o=n.title,c=n.extra,d=n.watchable,p=void 0!==d&&d,_=Ft(Ft(Ft({},c.attributes),o?{title:o}:{}),{},{class:c.classes.join(" ")});p&&(_[dp]="");var b=Ft({},c.styles);_F(r)&&(b.transform=function Jte(n){var e=n.transform,t=n.width,r=n.height,o=void 0===r?dF:r,c=n.startCentered,d=void 0!==c&&c,p="";return p+=d&&v$?"translate(".concat(e.x/xd-(void 0===t?dF:t)/2,"em, ").concat(e.y/xd-o/2,"em) "):d?"translate(calc(-50% + ".concat(e.x/xd,"em), calc(-50% + ").concat(e.y/xd,"em)) "):"translate(".concat(e.x/xd,"em, ").concat(e.y/xd,"em) "),(p+="scale(".concat(e.size/xd*(e.flipX?-1:1),", ").concat(e.size/xd*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),b["-webkit-transform"]=b.transform);var x=fD(b);x.length>0&&(_.style=x);var T=[];return T.push({tag:"span",attributes:_,children:[e]}),o&&T.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),T}var DF=ya.styles;function AF(n){var e=n[0],t=n[1],o=cF(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Zt.cssPrefix,"-").concat(hp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Zt.cssPrefix,"-").concat(hp.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Zt.cssPrefix,"-").concat(hp.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var xne={found:!1,width:512,height:512};function MF(n,e){var t=e;return"fa"===e&&null!==Zt.styleDefault&&(e=Id()),new Promise(function(i,r){if(kl("missingIconAbstract"),"fa"===t){var c=B$(n)||{};n=c.iconName||n,e=c.prefix||e}if(n&&e&&DF[e]&&DF[e][n])return i(AF(DF[e][n]));(function Ine(n,e){!C$&&!Zt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(Ft(Ft({},xne),{},{icon:Zt.showMissingIcons&&n&&kl("missingIconAbstract")||{}}))})}var H$=function(){},kF=Zt.measurePerformance&&aD&&aD.mark&&aD.measure?aD:{mark:H$,measure:H$},xw='FA "6.2.1"',$$=function(e){kF.mark("".concat(xw," ").concat(e," ends")),kF.measure("".concat(xw," ").concat(e),"".concat(xw," ").concat(e," begins"),"".concat(xw," ").concat(e," ends"))},RF={begin:function(e){return kF.mark("".concat(xw," ").concat(e," begins")),function(){return $$(e)}},end:$$},wD=function(){};function G$(n){return"string"==typeof(n.getAttribute?n.getAttribute(dp):null)}function Mne(n){return bi.createElementNS("http://www.w3.org/2000/svg",n)}function kne(n){return bi.createElement(n)}function W$(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===t?"svg"===n.tag?Mne:kne:t;if("string"==typeof n)return bi.createTextNode(n);var r=i(n.tag);return Object.keys(n.attributes||[]).forEach(function(c){r.setAttribute(c,n.attributes[c])}),(n.children||[]).forEach(function(c){r.appendChild(W$(c,{ceFn:i}))}),r}var CD={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(W$(r),t)}),null===t.getAttribute(dp)&&Zt.keepOriginalSource){var i=bi.createComment(function Rne(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~gF(t).indexOf(Zt.replacementClass))return CD.replace(e);var r=new RegExp("".concat(Zt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce(function(d,p){return p===Zt.replacementClass||p.match(r)?d.toSvg.push(p):d.toNode.push(p),d},{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}var c=i.map(function(d){return Ew(d)}).join("\n");t.setAttribute(dp,""),t.innerHTML=c}};function q$(n){n()}function Y$(n,e){var t="function"==typeof e?e:wD;if(0===n.length)t();else{var i=q$;Zt.mutateApproach===Fte&&(i=Ed.requestAnimationFrame||q$),i(function(){var r=function Ane(){return!0===Zt.autoReplaceSvg?CD.replace:CD[Zt.autoReplaceSvg]||CD.replace}(),o=RF.begin("mutate");n.map(r),o(),t()})}}var OF=!1;function Z$(){OF=!0}function PF(){OF=!1}var ED=null;function K$(n){if(_$&&Zt.observeMutations){var e=n.treeCallback,t=void 0===e?wD:e,i=n.nodeCallback,r=void 0===i?wD:i,o=n.pseudoElementsCallback,c=void 0===o?wD:o,d=n.observeMutationsRoot,p=void 0===d?bi:d;ED=new _$(function(_){if(!OF){var b=Id();E_(_).forEach(function(x){if("childList"===x.type&&x.addedNodes.length>0&&!G$(x.addedNodes[0])&&(Zt.searchPseudoElements&&c(x.target),t(x.target)),"attributes"===x.type&&x.target.parentNode&&Zt.searchPseudoElements&&c(x.target.parentNode),"attributes"===x.type&&G$(x.target)&&~Hte.indexOf(x.attributeName))if("class"===x.attributeName&&function Tne(n){var e=n.getAttribute?n.getAttribute(fF):null,t=n.getAttribute?n.getAttribute(pF):null;return e&&t}(x.target)){var T=yD(gF(x.target)),N=T.iconName;x.target.setAttribute(fF,T.prefix||b),N&&x.target.setAttribute(pF,N)}else(function Dne(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Zt.replacementClass)})(x.target)&&r(x.target)})}}),Dl&&ED.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Q$(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function Nne(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=yD(gF(n));return r.prefix||(r.prefix=Id()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function hne(n,e){return(O$[n]||{})[e]}(r.prefix,n.innerText)||EF(r.prefix,bF(n.innerText))),!r.iconName&&Zt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}(n),i=t.iconName,r=t.prefix,o=t.rest,c=function Fne(n){var e=E_(n.attributes).reduce(function(r,o){return"class"!==r.name&&"style"!==r.name&&(r[o.name]=o.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Zt.autoA11y&&(t?e["aria-labelledby"]="".concat(Zt.replacementClass,"-title-").concat(i||Cw()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),d=IF("parseNodeAttributes",{},n),p=e.styleParser?function Pne(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var o=r.split(":"),c=o[0],d=o.slice(1);return c&&d.length>0&&(i[c]=d.join(":").trim()),i},{})),t}(n):[];return Ft({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:pc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:p,attributes:c}},d)}var Bne=ya.styles;function X$(n){var e="nest"===Zt.autoReplaceSvg?Q$(n,{styleParser:!1}):Q$(n);return~e.extra.classes.indexOf(E$)?kl("generateLayersText",n,e):kl("generateSvgReplacementMutation",n,e)}var Sd=new Set;function J$(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Dl)return Promise.resolve();var t=bi.documentElement.classList,i=function(x){return t.add("".concat(w$,"-").concat(x))},r=function(x){return t.remove("".concat(w$,"-").concat(x))},o=Zt.autoFetchSvg?Sd:mF.map(function(b){return"fa-".concat(b)}).concat(Object.keys(Bne));o.includes("fa")||o.push("fa");var c=[".".concat(E$,":not([").concat(dp,"])")].concat(o.map(function(b){return".".concat(b,":not([").concat(dp,"])")})).join(", ");if(0===c.length)return Promise.resolve();var d=[];try{d=E_(n.querySelectorAll(c))}catch{}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var p=RF.begin("onTree"),_=d.reduce(function(b,x){try{var T=X$(x);T&&b.push(T)}catch(M){C$||"MissingIcon"===M.name&&console.error(M)}return b},[]);return new Promise(function(b,x){Promise.all(_).then(function(T){Y$(T,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),p(),b()})}).catch(function(T){p(),x(T)})})}function Vne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X$(n).then(function(t){t&&Y$([t],e)})}function Une(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:SF(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:SF(r||{})),n(i,Ft(Ft({},t),{},{mask:r}))}}mF.map(function(n){Sd.add("fa-".concat(n))}),Object.keys(gw[wi]).map(Sd.add.bind(Sd)),Object.keys(gw[Ji]).map(Sd.add.bind(Sd)),Sd=pw(Sd);var zne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?pc:i,o=t.symbol,c=void 0!==o&&o,d=t.mask,p=void 0===d?null:d,_=t.maskId,b=void 0===_?null:_,x=t.title,T=void 0===x?null:x,M=t.titleId,N=void 0===M?null:M,q=t.classes,ce=void 0===q?[]:q,ze=t.attributes,Xe=void 0===ze?{}:ze,Ke=t.styles,tt=void 0===Ke?{}:Ke;if(e){var Et=e.prefix,zt=e.iconName,hn=e.icon;return bD(Ft({type:"icon"},e),function(){return pp("beforeDOMElementCreation",{iconDefinition:e,params:t}),Zt.autoA11y&&(T?Xe["aria-labelledby"]="".concat(Zt.replacementClass,"-title-").concat(N||Cw()):(Xe["aria-hidden"]="true",Xe.focusable="false")),TF({icons:{main:AF(hn),mask:p?AF(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Et,iconName:zt,transform:Ft(Ft({},pc),r),symbol:c,title:T,maskId:b,titleId:N,extra:{attributes:Xe,styles:tt,classes:ce}})})}},jne={mixout:function(){return{icon:Une(zne)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=J$,t.nodeCallback=Vne,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,o=t.callback;return J$(void 0===i?bi:i,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,o=i.title,c=i.titleId,d=i.prefix,p=i.transform,_=i.symbol,b=i.mask,x=i.maskId,T=i.extra;return new Promise(function(M,N){Promise.all([MF(r,d),b.iconName?MF(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(q){var ce=cF(q,2);M([t,TF({icons:{main:ce[0],mask:ce[1]},prefix:d,iconName:r,transform:p,symbol:_,maskId:x,title:o,titleId:c,extra:T,watchable:!0})])}).catch(N)})},e.generateAbstractIcon=function(t){var _,i=t.children,r=t.attributes,o=t.main,c=t.transform,p=fD(t.styles);return p.length>0&&(r.style=p),_F(c)&&(_=kl("generateAbstractTransformGrouping",{main:o,transform:c,containerWidth:o.width,iconWidth:o.width})),i.push(_||o.icon),{children:i,attributes:r}}}},Hne={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,o=void 0===r?[]:r;return bD({type:"layer"},function(){pp("beforeDOMElementCreation",{assembler:t,params:i});var c=[];return t(function(d){Array.isArray(d)?d.map(function(p){c=c.concat(p.abstract)}):c=c.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(Zt.cssPrefix,"-layers")].concat(pw(o)).join(" ")},children:c}]})}}}},$ne={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,o=void 0===r?null:r,c=i.classes,d=void 0===c?[]:c,p=i.attributes,_=void 0===p?{}:p,b=i.styles,x=void 0===b?{}:b;return bD({type:"counter",content:t},function(){return pp("beforeDOMElementCreation",{content:t,params:i}),function Ene(n){var e=n.content,t=n.title,i=n.extra,r=Ft(Ft(Ft({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),o=fD(i.styles);o.length>0&&(r.style=o);var c=[];return c.push({tag:"span",attributes:r,children:[e]}),t&&c.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),c}({content:t.toString(),title:o,extra:{attributes:_,styles:x,classes:["".concat(Zt.cssPrefix,"-layers-counter")].concat(pw(d))}})})}}}},Gne={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,o=void 0===r?pc:r,c=i.title,d=void 0===c?null:c,p=i.classes,_=void 0===p?[]:p,b=i.attributes,x=void 0===b?{}:b,T=i.styles,M=void 0===T?{}:T;return bD({type:"text",content:t},function(){return pp("beforeDOMElementCreation",{content:t,params:i}),j$({content:t,transform:Ft(Ft({},pc),o),title:d,extra:{attributes:x,styles:M,classes:["".concat(Zt.cssPrefix,"-layers-text")].concat(pw(_))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,o=i.transform,c=i.extra,d=null,p=null;if(v$){var _=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();d=b.width/_,p=b.height/_}return Zt.autoA11y&&!r&&(c.attributes["aria-hidden"]="true"),Promise.resolve([t,j$({content:t.innerHTML,width:d,height:p,transform:o,title:r,extra:c,watchable:!0})])}}},Wne=new RegExp('"',"ug"),e5=[1105920,1112319];function t5(n,e){var t="".concat(Nte).concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var c=E_(n.children).filter(function(hn){return hn.getAttribute(hF)===e})[0],d=Ed.getComputedStyle(n,e),p=d.getPropertyValue("font-family").match(Ute),_=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(c&&!p)return n.removeChild(c),i();if(p&&"none"!==b&&""!==b){var x=d.getPropertyValue("content"),T=~["Sharp"].indexOf(p[2])?Ji:wi,M=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?_w[T][p[2].toLowerCase()]:zte[T][_],N=function qne(n){var e=n.replace(Wne,""),t=function sne(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=e5[0]&&t<=e5[1],r=2===e.length&&e[0]===e[1];return{value:bF(r?e[0]:e),isSecondary:i||r}}(x),q=N.value,ce=N.isSecondary,ze=p[0].startsWith("FontAwesome"),Xe=EF(M,q),Ke=Xe;if(ze){var tt=function fne(n){var e=N$[n],t=EF("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(q);tt.iconName&&tt.prefix&&(Xe=tt.iconName,M=tt.prefix)}if(!Xe||ce||c&&c.getAttribute(fF)===M&&c.getAttribute(pF)===Ke)i();else{n.setAttribute(t,Ke),c&&n.removeChild(c);var Et=function Lne(){return{iconName:null,title:null,titleId:null,prefix:null,transform:pc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),zt=Et.extra;zt.attributes[hF]=e,MF(Xe,M).then(function(hn){var Ci=TF(Ft(Ft({},Et),{},{icons:{main:hn,mask:xF()},prefix:M,iconName:Ke,extra:zt,watchable:!0})),er=bi.createElement("svg");"::before"===e?n.insertBefore(er,n.firstChild):n.appendChild(er),er.outerHTML=Ci.map(function(Sa){return Ew(Sa)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function Yne(n){return Promise.all([t5(n,"::before"),t5(n,"::after")])}function Zne(n){return!(n.parentNode===document.head||~Lte.indexOf(n.tagName.toUpperCase())||n.getAttribute(hF)||n.parentNode&&"svg"===n.parentNode.tagName)}function n5(n){if(Dl)return new Promise(function(e,t){var i=E_(n.querySelectorAll("*")).filter(Zne).map(Yne),r=RF.begin("searchPseudoElements");Z$(),Promise.all(i).then(function(){r(),PF(),e()}).catch(function(){r(),PF(),t()})})}var r5=!1,o5=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var o=r.toLowerCase().split("-"),c=o[0],d=o.slice(1).join("-");if(c&&"h"===d)return i.flipX=!0,i;if(c&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(c){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},NF={x:0,y:0,width:"100%",height:"100%"};function s5(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Jne(n){return"g"===n.tag?n.children:[n]}var eie={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),o=r?yD(r.split(" ").map(function(c){return c.trim()})):xF();return o.prefix||(o.prefix=Id()),t.mask=o,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,o=t.main,c=t.mask,d=t.maskId,b=o.icon,T=c.icon,M=function Xte(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(c," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:c.width,iconWidth:o.width}),N={tag:"rect",attributes:Ft(Ft({},NF),{},{fill:"white"})},q=b.children?{children:b.children.map(s5)}:{},ce={tag:"g",attributes:Ft({},M.inner),children:[s5(Ft({tag:b.tag,attributes:Ft(Ft({},b.attributes),M.path)},q))]},ze={tag:"g",attributes:Ft({},M.outer),children:[ce]},Xe="mask-".concat(d||Cw()),Ke="clip-".concat(d||Cw()),tt={tag:"mask",attributes:Ft(Ft({},NF),{},{id:Xe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[N,ze]},Et={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ke},children:Jne(T)},tt]};return i.push(Et,{tag:"rect",attributes:Ft({fill:"currentColor","clip-path":"url(#".concat(Ke,")"),mask:"url(#".concat(Xe,")")},NF)}),{children:i,attributes:r}}}};!function gne(n,e){var t=e.mixoutsTo;U$=n,I_={},Object.keys(S_).forEach(function(i){-1===mne.indexOf(i)&&delete S_[i]}),U$.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(c){"function"==typeof r[c]&&(t[c]=r[c]),"object"===oD(r[c])&&Object.keys(r[c]).forEach(function(d){t[c]||(t[c]={}),t[c][d]=r[c][d]})}),i.hooks){var o=i.hooks();Object.keys(o).forEach(function(c){I_[c]||(I_[c]=[]),I_[c].push(o[c])})}i.provides&&i.provides(S_)})}([tne,jne,Hne,$ne,Gne,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=n5,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;Zt.searchPseudoElements&&n5(void 0===i?bi:i)}}},{mixout:function(){return{dom:{unwatch:function(){Z$(),r5=!0}}}},hooks:function(){return{bootstrap:function(){K$(IF("mutationObserverCallbacks",{}))},noAuto:function(){!function One(){ED&&ED.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;r5?PF():K$(IF("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return o5(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=o5(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,c=t.iconWidth,d={transform:"translate(".concat(t.containerWidth/2," 256)")},p="translate(".concat(32*r.x,", ").concat(32*r.y,") "),_="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),b="rotate(".concat(r.rotate," 0 0)"),M={outer:d,inner:{transform:"".concat(p," ").concat(_," ").concat(b)},path:{transform:"translate(".concat(c/2*-1," -256)")}};return{tag:"g",attributes:Ft({},M.outer),children:[{tag:"g",attributes:Ft({},M.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:Ft(Ft({},i.icon.attributes),M.path)}]}]}}}},eie,{provides:function(e){var t=!1;Ed.matchMedia&&(t=Ed.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:Ft(Ft({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var c=Ft(Ft({},o),{},{attributeName:"opacity"}),d={tag:"circle",attributes:Ft(Ft({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||d.children.push({tag:"animate",attributes:Ft(Ft({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ft(Ft({},c),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:Ft(Ft({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ft(Ft({},c),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:Ft(Ft({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ft(Ft({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:hs});let oie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),sie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uH],imports:[_s,sF,zh,aF,MN,CH,Mu,YX]}),n})(),aie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_s,aF,Tf,Va,MN,CH,Mu,zh]}),n})(),cie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nr],imports:[_s,MN,zh,Tf,Va,HQ,jm,Mu,OV]}),n})();const a5={firebase:{projectId:"admin-cart-mange",appId:"1:945501621453:web:bcee0ba9d2d1f08db1ad84",storageBucket:"admin-cart-mange.appspot.com",apiKey:"AIzaSyDVJr-k5Smoss9L9js-GUwjqUnaSKOOs6c",authDomain:"admin-cart-mange.firebaseapp.com",messagingSenderId:"945501621453",measurementId:"G-Y9KLRS7ENF"},production:!0};var uie=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return(0,Ii.ZT)(e,n),e.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&n.prototype.unsubscribe.call(this)},e}(mi.Q),die=L(655),FF=L(3008),c5=L(2722);function hie(n){return new Di.y(function(e){return{unsubscribe:(0,c5.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class xD{constructor(e){return e}}class Iw{constructor(){return(0,ct.vb)("auth")}}const LF=new l.OlP("angularfire2.auth-instances");function mie(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new xD(i)}}const gie={provide:Iw,deps:[[new l.FiY,LF]]},_ie={provide:xD,useFactory:function pie(n,e){const t=(0,ct.JM)("auth",n,e);return t&&new xD(t)},deps:[[new l.FiY,LF],ls]};let vie=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[_ie,gie]}),n})();function yie(n,...e){return{ngModule:vie,providers:[{provide:LF,useFactory:mie(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,[new l.FiY,vd],...e]}]}}const bie=(0,ct.u3)(hie,!0),wie=(0,ct.u3)(c5.n,!0);class Sw{constructor(e){return e}}const u5="analytics",d5=ct.nk.async,Eie=(0,ct.u3)(FF.IH,!0),xie=(0,ct.u3)(FF.Kz,!0),Iie=(0,ct.u3)(FF.Iv,!0);let BF=(()=>{class n{constructor(t,i,r){let o;this.disposables=[],(0,Jr.KN)("angularfire",ct.q4.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(c=>{o=c})),d5().then(()=>{const c=r.get(Sw);c?this.disposables=[bie(t).subscribe(d=>{Iie(c,d?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xD),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const h5="firebase_screen_id",VF="outlet",Tw="screen_class",f5="screen_name";let Lie=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const UF={},Bie=n=>{const e=[n[Tw],n[VF]].join("#");if(UF.hasOwnProperty(e))return UF[e];{const t=Lie++;return UF[e]=t,t}};let p5=(()=>{class n{constructor(t,i,r,o,c,d){(0,Jr.KN)("angularfire",ct.q4.full,"screen-tracking"),d5().then(()=>{const p=d.get(Sw);!t||!p||o.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Ti(r=>r instanceof rb)).pipe(Ui(r=>{var o;const d=(null===(o=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,M=>M.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===o?void 0:o.toString())||"",p=n.routerState.root.children.map(M=>M).find(M=>M.outlet===r.snapshot.outlet);if(!p)return wt(null);let _=p;for(;_.firstChild;)_=_.firstChild;const b=_.pathFromRoot.map(M=>{var N;return null===(N=M.routeConfig)||void 0===N?void 0:N.path}).filter(M=>M).join("/")||"/",x={[f5]:b,page_path:`/${d}`,firebase_event_origin:"auto",firebase_screen:b,[VF]:r.snapshot.outlet};e&&(x.page_title=e.getTitle());let T=p.component;if(T){if(T===$u){let M=r.snapshot;for(;M.firstChild;)M=M.firstChild;T=M.component}}else T=r.snapshot.component;if("string"==typeof T)return wt(Object.assign(Object.assign({},x),{[Tw]:T}));if(T){const M=t.resolveComponentFactory(T);return wt(Object.assign(Object.assign({},x),{[Tw]:M.selector}))}return wt(null)}),Ti(r=>!!r),(0,kt.U)(r=>Object.assign({firebase_screen_class:r[Tw],[h5]:Bie(r)},r)),function lie(n,e,t,i){return(0,Li.e)(function(r,o){var c=new Map,d=function(x){c.forEach(x),x(o)},p=function(x){return d(function(T){return T.error(x)})},_=new uie(o,function(x){try{var T=n(x),M=c.get(T);if(!M){c.set(T,M=i?i():new un.x);var N=function b(x,T){var M=new Di.y(function(N){_.activeGroups++;var q=T.subscribe(N);return function(){q.unsubscribe(),0==--_.activeGroups&&_.teardownAttempted&&_.unsubscribe()}});return M.key=x,M}(T,M);if(o.next(N),t){var q=new mi.Q(M,function(){M.complete(),q?.unsubscribe()},void 0,void 0,function(){return c.delete(T)});_.add(t(N).subscribe(q))}}M.next(e?e(x):x)}catch(ce){p(ce)}},function(){return d(function(x){return x.complete()})},p,function(){return c.clear()});r.subscribe(_)})}(r=>r[VF]),(0,yr.z)(r=>r.pipe(Lv((o,c)=>JSON.stringify(o)===JSON.stringify(c)),kr(void 0),Af(),(0,kt.U)(([o,c])=>o?Object.assign({firebase_previous_class:o[Tw],firebase_previous_screen:o[f5],firebase_previous_id:o[h5]},c):c)))))(t,i,r).pipe(Ui(_=>(0,die.mG)(this,void 0,void 0,function*(){return c&&(yield c.initialized),xie(p,"screen_view",_)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr,8),l.LFG(ou,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(BF,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zF=new l.OlP("angularfire2.analytics-instances");function zie(n){return(e,t)=>{if(!ct.nk.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new Sw(i)}}const jie={provide:class Cie{constructor(){return(0,ct.vb)(u5)}},deps:[[new l.FiY,zF]]},Hie={provide:Sw,useFactory:function Uie(n,e){if(!ct.nk.sync())return null;const t=(0,ct.JM)(u5,n,e);return t&&new Sw(t)},deps:[[new l.FiY,zF],ls]};let $ie=(()=>{class n{constructor(t,i){(0,Jr.KN)("angularfire",ct.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(p5,8),l.LFG(BF,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Hie,jie,{provide:l.ip1,useValue:ct.nk.async,multi:!0}]}),n})();function Gie(n,...e){return{ngModule:$ie,providers:[{provide:zF,useFactory:zie(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,...e]}]}}const m5="@firebase/database";let jF="";class qie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,J.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,J.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Yie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,J.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const _5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qie(e)}}catch{}return new Yie},mp=_5("localStorage"),HF=_5("sessionStorage"),T_=new os.Yd("@firebase/database"),v5=function(){let n=1;return function(){return n++}}(),y5=function(n){const e=(0,J.dS)(n),t=new J.gQ;t.update(e);const i=t.digest();return J.US.encodeByteArray(i)},Dw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Dw.apply(null,i):e+="object"==typeof i?(0,J.Wl)(i):i,e+=" "}return e};let gp=null,b5=!0;const Br=function(...n){if(!0===b5&&(b5=!1,null===gp&&!0===HF.get("logging_enabled")&&function(n,e){(0,J.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(T_.logLevel=os.in.VERBOSE,gp=T_.log.bind(T_),e&&HF.set("logging_enabled",!0)):"function"==typeof n?gp=n:(gp=null,HF.remove("logging_enabled"))}(!0)),gp){const e=Dw.apply(null,n);gp(e)}},Aw=function(n){return function(...e){Br(n,...e)}},$F=function(...n){const e="FIREBASE INTERNAL ERROR: "+Dw(...n);T_.error(e)},mc=function(...n){const e=`FIREBASE FATAL ERROR: ${Dw(...n)}`;throw T_.error(e),new Error(e)},fo=function(...n){const e="FIREBASE WARNING: "+Dw(...n);T_.warn(e)},ID=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Td="[MIN_NAME]",Rl="[MAX_NAME]",_p=function(n,e){if(n===e)return 0;if(n===Td||e===Rl)return-1;if(e===Td||n===Rl)return 1;{const t=x5(n),i=x5(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Qie=function(n,e){return n===e?0:n<e?-1:1},Mw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,J.Wl)(e))},GF=function(n){if("object"!=typeof n||null===n)return(0,J.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,J.Wl)(e[i]),t+=":",t+=GF(n[e[i]]);return t+="}",t},C5=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const E5=function(n){(0,J.hu)(!ID(n),"Invalid JSON number");const i=1023;let r,o,c,d,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let x="";for(p=0;p<64;p+=8){let T=parseInt(b.substr(p,8),2).toString(16);1===T.length&&(T="0"+T),x+=T}return x.toLowerCase()},tre=new RegExp("^-?(0*)\\d{1,10}$"),x5=function(n){if(tre.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},D_=function(n){try{n()}catch(e){setTimeout(()=>{throw fo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},rre=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kw=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class ore{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){fo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sre{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fo(e)}}let Rw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const A5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R5="websocket",O5="long_polling";class qF{constructor(e,t,i,r,o=!1,c="",d=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function P5(n,e,t){let i;if((0,J.hu)("string"==typeof e,"typeof type must == string"),(0,J.hu)("object"==typeof t,"typeof params must == object"),e===R5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==O5)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function are(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Vr(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class cre{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,J.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,J.p$)(this.counters_)}}const YF={},ZF={};function KF(n){const e=n.toString();return YF[e]||(YF[e]=new cre),YF[e]}class ure{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&D_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dd{constructor(e,t,i,r,o,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Aw(e),this.stats_=KF(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),P5(t,O5,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ure(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,J.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QF((...o)=>{const[c,d,p,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dd.forceAllow_=!0}static forceDisallow(){Dd.forceDisallow_=!0}static isAvailable(){return!((0,J.Yr)()||!Dd.forceAllow_&&(Dd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,J.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,J.h$)(t),r=C5(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,J.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,J.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class QF{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,J.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=v5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=QF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Br("frame writing exception"),d.stack&&Br(d.stack),Br(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Br("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,J.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Br("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let TD=null;typeof MozWebSocket<"u"?TD=MozWebSocket:typeof WebSocket<"u"&&(TD=WebSocket);let A_=(()=>{class n{constructor(t,i,r,o,c,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Aw(this.connId),this.stats_=KF(i),this.connURL=n.connectionURL_(i,d,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,c){const d={v:"5"};return!(0,J.Yr)()&&typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),P5(t,R5,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mp.set("previous_websocket_failure",!0);try{let r;if((0,J.Yr)()){r={headers:{"User-Agent":`Firebase/5/${jF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new TD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==TD&&!n.forceDisallow_}static previouslyFailed(){return mp.isInMemoryStorage||!0===mp.get("previous_websocket_failure")}markConnectionHealthy(){mp.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,J.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,J.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,J.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=C5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),z5=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Dd,A_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=A_&&A_.isAvailable();let r=i&&!A_.previouslyFailed();if(t.webSocketOnly&&(i||fo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[A_];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Y5{constructor(e,t,i,r,o,c,d,p,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Aw("c:"+this.id+":"),this.transportManager_=new z5(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=kw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Mw("t",e),i=Mw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Mw("t",e),i=Mw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Mw("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?$F("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$F("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&fo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),kw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Z5{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class K5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,J.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,J.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class DD extends K5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,J.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new DD}getInitialEvent(e){return(0,J.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Q5=32,X5=768;class Jn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Kn(){return new Jn("")}function Dn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ad(n){return n.pieces_.length-n.pieceNum_}function ci(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Jn(n.pieces_,e)}function JF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ow(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function J5(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Jn(e,0)}function Ri(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Jn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Jn(t,0)}function An(n){return n.pieceNum_>=n.pieces_.length}function Do(n,e){const t=Dn(n),i=Dn(e);if(null===t)return e;if(t===i)return Do(ci(n),ci(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function eL(n,e){if(Ad(n)!==Ad(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Bs(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ad(n)>Ad(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Ore{constructor(e,t){this.errorPrefix_=t,this.parts_=Ow(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,J.ug)(this.parts_[i]);eG(this)}}function eG(n){if(n.byteLength_>X5)throw new Error(n.errorPrefix_+"has a key path longer than "+X5+" bytes ("+n.byteLength_+").");if(n.parts_.length>Q5)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Q5+") or object contains a cycle "+vp(n))}function vp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class tL extends K5{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new tL}getInitialEvent(e){return(0,J.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Pw=1e3;let MD,yp=(()=>{class n extends Z5{constructor(t,i,r,o,c,d,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Aw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,J.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&DD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_((0,J.Wl)(c)),(0,J.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new J.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,J.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,J.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,o),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,J.r3)(t,"w")){const r=(0,J.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();fo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,J.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,J.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,J.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,J.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):$F("Unrecognized action received from server: "+(0,J.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,J.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ae.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,o())};t.realtime_={close:b,sendRequest:function(M){(0,J.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(M)}};const T=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[M,N]=yield Promise.all([t.authTokenProvider_.getToken(T),t.appCheckTokenProvider_.getToken(T)]);p?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),t.authToken_=M&&M.accessToken,t.appCheckToken_=N&&N.token,_=new Y5(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,q=>{fo(q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(M){t.log_("Failed to get token: "+M),p||(t.repoInfo_.nodeAdmin&&fo(M),b())}}})()}interrupt(t){Br("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Br("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,J.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>GF(c)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Jn(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Br("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Br("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,J.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+jF.replace(/\./g,"-")]=1,(0,J.uI)()?t["framework.cordova"]=1:(0,J.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=DD.getInstance().currentlyOnline();return(0,J.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new kn(e,t)}}class AD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new kn(Td,e),r=new kn(Td,t);return 0!==this.compare(i,r)}minPost(){return kn.MIN}}class iG extends AD{static get __EMPTY_NODE(){return MD}static set __EMPTY_NODE(e){MD=e}compare(e,t){return _p(e.name,t.name)}isDefinedOn(e){throw(0,J.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return kn.MIN}maxPost(){return new kn(Rl,MD)}makePost(e,t){return(0,J.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new kn(e,MD)}toString(){return".key"}}const gc=new iG;class kD{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let iL,ba=(()=>{class n{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Ho.EMPTY_NODE,this.right=c??Ho.EMPTY_NODE}copy(t,i,r,o,c){return new n(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ho.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ho.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ho{constructor(e,t=Ho.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ho(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ba.BLACK,null,null))}remove(e){return new Ho(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ba.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kD(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new kD(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new kD(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new kD(this.root_,null,this.comparator_,!0,e)}}function zre(n,e){return _p(n.name,e.name)}function nL(n,e){return _p(n,e)}Ho.EMPTY_NODE=new class Ure{copy(e,t,i,r,o){return this}insert(e,t,i){return new ba(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rG=function(n){return"number"==typeof n?"number:"+E5(n):"string:"+n},oG=function(n){if(n.isLeafNode()){const e=n.val();(0,J.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,J.r3)(e,".sv"),"Priority must be a string or number.")}else(0,J.hu)(n===iL||n.isEmpty(),"priority of unexpected type.");(0,J.hu)(n===iL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sG,aG,cG,M_=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,J.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oG(this.priorityNode_)}static set __childrenNodeConstructor(t){sG=t}static get __childrenNodeConstructor(){return sG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return An(t)?this:".priority"===Dn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Dn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,J.hu)(".priority"!==r||1===Ad(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ci(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+rG(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?E5(this.value_):this.value_,this.lazyHash_=y5(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,J.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,J.hu)(o>=0,"Unknown leaf type: "+i),(0,J.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class Gre extends AD{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?_p(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return kn.MIN}maxPost(){return new kn(Rl,new M_("[PRIORITY-POST]",cG))}makePost(e,t){const i=aG(e);return new kn(t,new M_("[PRIORITY-POST]",i))}toString(){return".priority"}},Wre=Math.log(2);class qre{constructor(e){this.count=parseInt(Math.log(e+1)/Wre,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const RD=function(n,e,t,i){n.sort(e);const r=function(p,_){const b=_-p;let x,T;if(0===b)return null;if(1===b)return x=n[p],T=t?t(x):x,new ba(T,x.node,ba.BLACK,null,null);{const M=parseInt(b/2,10)+p,N=r(p,M),q=r(M+1,_);return x=n[M],T=t?t(x):x,new ba(T,x.node,ba.BLACK,N,q)}},d=function(p){let _=null,b=null,x=n.length;const T=function(N,q){const ce=x-N,ze=x;x-=N;const Xe=r(ce+1,ze),Ke=n[ce],tt=t?t(Ke):Ke;M(new ba(tt,Ke.node,q,null,Xe))},M=function(N){_?(_.left=N,_=N):(b=N,_=N)};for(let N=0;N<p.count;++N){const q=p.nextBitIsOne(),ce=Math.pow(2,p.count-(N+1));q?T(ce,ba.BLACK):(T(ce,ba.BLACK),T(ce,ba.RED))}return b}(new qre(n.length));return new Ho(i||e,d)};let rL;const k_={};class Ol{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,J.hu)(k_&&di,"ChildrenNode.ts has not been loaded"),rL=rL||new Ol({".priority":k_},{".priority":di}),rL}get(e){const t=(0,J.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ho?t:null}hasIndex(e){return(0,J.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,J.hu)(e!==gc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(kn.Wrap);let d,c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?RD(i,e.getCompare()):k_;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const b=Object.assign({},this.indexes_);return b[p]=d,new Ol(b,_)}addToIndexes(e,t){const i=(0,J.UI)(this.indexes_,(r,o)=>{const c=(0,J.DV)(this.indexSet_,o);if((0,J.hu)(c,"Missing index implementation for "+o),r===k_){if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(kn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&d.push(_),_=p.getNext();return d.push(e),RD(d,c.getCompare())}return k_}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new kn(e.name,d))),p.insert(e,e.node)}});return new Ol(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,J.UI)(this.indexes_,r=>{if(r===k_)return r;{const o=t.get(e.name);return o?r.remove(new kn(e.name,o)):r}});return new Ol(i,this.indexSet_)}}let Nw,Cn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oG(this.priorityNode_),this.children_.isEmpty()&&(0,J.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nw||(Nw=new n(new Ho(nL),null,Ol.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Nw:i}}getChild(t){const i=Dn(t);return null===i?this:this.getImmediateChild(i).getChild(ci(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,J.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new kn(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?Nw:this.priorityNode_;return new n(o,d,c)}}updateChild(t,i){const r=Dn(t);if(null===r)return i;{(0,J.hu)(".priority"!==Dn(t)||1===Ad(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ci(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(di,(d,p)=>{i[d]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!t&&c&&o<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+rG(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":y5(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new kn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new kn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new kn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,kn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,kn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fw?-1:0}withIndex(t){if(t===gc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===gc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),o=i.getIterator(di);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===gc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Fw=new class Yre extends Cn{constructor(){super(new Ho(nL),Cn.EMPTY_NODE,Ol.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Cn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(kn,{MIN:{value:new kn(Td,Cn.EMPTY_NODE)},MAX:{value:new kn(Rl,Fw)}}),iG.__EMPTY_NODE=Cn.EMPTY_NODE,M_.__childrenNodeConstructor=Cn,function jre(n){iL=n}(Fw),function $re(n){cG=n}(Fw);const Zre=!0;function ji(n,e=null){if(null===n)return Cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,J.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new M_(n,ji(e));if(n instanceof Array||!Zre){let t=Cn.EMPTY_NODE;return Vr(n,(i,r)=>{if((0,J.r3)(n,i)&&"."!==i.substring(0,1)){const o=ji(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ji(e))}{const t=[];let i=!1;if(Vr(n,(c,d)=>{if("."!==c.substring(0,1)){const p=ji(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new kn(c,p)))}}),0===t.length)return Cn.EMPTY_NODE;const o=RD(t,zre,c=>c.name,nL);if(i){const c=RD(t,di.getCompare());return new Cn(o,ji(e),new Ol({".priority":c},{".priority":di}))}return new Cn(o,ji(e),Ol.Default)}}!function Hre(n){aG=n}(ji);class oL extends AD{constructor(e){super(),this.indexPath_=e,(0,J.hu)(!An(e)&&".priority"!==Dn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?_p(e.name,t.name):o}makePost(e,t){const i=ji(e),r=Cn.EMPTY_NODE.updateChild(this.indexPath_,i);return new kn(t,r)}maxPost(){const e=Cn.EMPTY_NODE.updateChild(this.indexPath_,Fw);return new kn(Rl,e)}toString(){return Ow(this.indexPath_,0).join("/")}}const sL=new class Kre extends AD{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?_p(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return kn.MIN}maxPost(){return kn.MAX}makePost(e,t){const i=ji(e);return new kn(t,i)}toString(){return".value"}};function Bw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class cL{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,J.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Td}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,J.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,J.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const e=new cL;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uG(n){const e={};if(n.isDefault())return e;let t;if(n.index_===di?t="$priority":n.index_===sL?t="$value":n.index_===gc?t="$key":((0,J.hu)(n.index_ instanceof oL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,J.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,J.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,J.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,J.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,J.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function dG(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==di&&(e.i=n.index_.toString()),e}class PD extends Z5{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Aw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,J.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=PD.getListenId_(e,i),d={};this.listens_[c]=d;const p=uG(e._queryParams);this.restRequest_(o+".json",p,(_,b)=>{let x=b;if(404===_&&(x=null,_=null),null===_&&this.onDataUpdate_(o,x,!1,i),(0,J.DV)(this.listens_,c)===d){let T;T=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(T,null)}})}unlisten(e,t){const i=PD.getListenId_(e,t);delete this.listens_[i]}get(e){const t=uG(e._queryParams),i=e._path.toString(),r=new J.BH;return this.restRequest_(i+".json",t,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,J.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,J.cI)(d.responseText)}catch{fo("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&fo("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class roe{constructor(){this.rootNode_=Cn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ND(){return{value:null,children:new Map}}function O_(n,e,t){if(An(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Dn(e);n.children.has(i)||n.children.set(i,ND()),O_(n.children.get(i),e=ci(e),t)}}function hL(n,e,t){null!==n.value?t(e,n.value):function ooe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{hL(r,new Jn(e.toString()+"/"+i),t)})}class soe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Vr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class loe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new soe(e);const i=1e4+2e4*Math.random();kw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Vr(e,(r,o)=>{o>0&&(0,J.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),kw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vs=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vs||(Vs={})),Vs))();function mL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class FD{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Vs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(An(this.path)){if(null!=this.affectedTree.value)return(0,J.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Jn(e));return new FD(Kn(),t,this.revert)}}return(0,J.hu)(Dn(this.path)===e,"operationForChild called for unrelated child."),new FD(ci(this.path),this.affectedTree,this.revert)}}class bp{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Vs.OVERWRITE}operationForChild(e){return An(this.path)?new bp(this.source,Kn(),this.snap.getImmediateChild(e)):new bp(this.source,ci(this.path),this.snap)}}class P_{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Vs.MERGE}operationForChild(e){if(An(this.path)){const t=this.children.subtree(new Jn(e));return t.isEmpty()?null:t.value?new bp(this.source,Kn(),t.value):new P_(this.source,Kn(),t)}return(0,J.hu)(Dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new P_(this.source,ci(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Md{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(An(e))return this.isFullyInitialized()&&!this.filtered_;const t=Dn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function zw(n,e,t,i,r,o){const c=i.filter(d=>d.type===t);c.sort((d,p)=>function foe(n,e,t){if(null==e.childName||null==t.childName)throw(0,J.g5)("Should only compare child_ events.");const i=new kn(e.childName,e.snapshotNode),r=new kn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function hoe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,o);r.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(p,n.query_))})})}function LD(n,e){return{eventCache:n,serverCache:e}}function jw(n,e,t,i){return LD(new Md(e,t,i),n.serverCache)}function fG(n,e,t,i){return LD(n.eventCache,new Md(e,t,i))}function BD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let gL;class hi{constructor(e,t=(()=>(gL||(gL=new Ho(Qie)),gL))()){this.value=e,this.children=t}static fromObject(e){let t=new hi(null);return Vr(e,(i,r)=>{t=t.set(new Jn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Kn(),value:this.value};if(An(e))return null;{const i=Dn(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ci(e),t);return null!=o?{path:Ri(new Jn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(An(e))return this;{const t=Dn(e),i=this.children.get(t);return null!==i?i.subtree(ci(e)):new hi(null)}}set(e,t){if(An(e))return new hi(t,this.children);{const i=Dn(e),o=(this.children.get(i)||new hi(null)).set(ci(e),t),c=this.children.insert(i,o);return new hi(this.value,c)}}remove(e){if(An(e))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const t=Dn(e),i=this.children.get(t);if(i){const r=i.remove(ci(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new hi(null):new hi(this.value,o)}return this}}get(e){if(An(e))return this.value;{const t=Dn(e),i=this.children.get(t);return i?i.get(ci(e)):null}}setTree(e,t){if(An(e))return t;{const i=Dn(e),o=(this.children.get(i)||new hi(null)).setTree(ci(e),t);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new hi(this.value,c)}}fold(e){return this.fold_(Kn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ri(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Kn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(An(e))return null;{const o=Dn(e),c=this.children.get(o);return c?c.findOnPath_(ci(e),Ri(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Kn(),t)}foreachOnPath_(e,t,i){if(An(e))return this;{this.value&&i(t,this.value);const r=Dn(e),o=this.children.get(r);return o?o.foreachOnPath_(ci(e),Ri(t,r),i):new hi(null)}}foreach(e){this.foreach_(Kn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ri(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class wa{constructor(e){this.writeTree_=e}static empty(){return new wa(new hi(null))}}function Hw(n,e,t){if(An(e))return new wa(new hi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const c=Do(r,e);return o=o.updateChild(c,t),new wa(n.writeTree_.set(r,o))}{const r=new hi(t),o=n.writeTree_.setTree(e,r);return new wa(o)}}}function _L(n,e,t){let i=n;return Vr(t,(r,o)=>{i=Hw(i,Ri(e,r),o)}),i}function pG(n,e){if(An(e))return wa.empty();{const t=n.writeTree_.setTree(e,new hi(null));return new wa(t)}}function vL(n,e){return null!=Cp(n,e)}function Cp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Do(t.path,e)):null}function mG(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(di,(i,r)=>{e.push(new kn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new kn(i,r.value))}),e}function kd(n,e){if(An(e))return n;{const t=Cp(n,e);return new wa(null!=t?new hi(t):n.writeTree_.subtree(e))}}function yL(n){return n.writeTree_.isEmpty()}function N_(n,e){return gG(Kn(),n.writeTree_,e)}function gG(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,J.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=gG(Ri(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Ri(n,".priority"),i)),t}}function VD(n,e){return wG(e,n)}function yoe(n,e){if(n.snap)return Bs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Bs(Ri(n.path,t),e))return!0;return!1}function woe(n){return n.visible}function _G(n,e,t){let i=wa.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let d;if(o.snap)Bs(t,c)?(d=Do(t,c),i=Hw(i,d,o.snap)):Bs(c,t)&&(d=Do(c,t),i=Hw(i,Kn(),o.snap.getChild(d)));else{if(!o.children)throw(0,J.g5)("WriteRecord should have .snap or .children");if(Bs(t,c))d=Do(t,c),i=_L(i,d,o.children);else if(Bs(c,t))if(d=Do(c,t),An(d))i=_L(i,Kn(),o.children);else{const p=(0,J.DV)(o.children,Dn(d));if(p){const _=p.getChild(ci(d));i=Hw(i,Kn(),_)}}}}}return i}function vG(n,e,t,i,r){if(i||r){const o=kd(n.visibleWrites,e);return!r&&yL(o)?t:r||null!=t||vL(o,Kn())?N_(_G(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Bs(_.path,e)||Bs(e,_.path))},e),t||Cn.EMPTY_NODE):null}{const o=Cp(n.visibleWrites,e);if(null!=o)return o;{const c=kd(n.visibleWrites,e);return yL(c)?t:null!=t||vL(c,Kn())?N_(c,t||Cn.EMPTY_NODE):null}}}function UD(n,e,t,i){return vG(n.writeTree,n.treePath,e,t,i)}function bL(n,e){return function Coe(n,e,t){let i=Cn.EMPTY_NODE;const r=Cp(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(di,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=kd(n.visibleWrites,e);return t.forEachChild(di,(c,d)=>{const p=N_(kd(o,new Jn(c)),d);i=i.updateImmediateChild(c,p)}),mG(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return mG(kd(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function yG(n,e,t,i){return function Eoe(n,e,t,i,r){(0,J.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ri(e,t);if(vL(n.visibleWrites,o))return null;{const c=kd(n.visibleWrites,o);return yL(c)?r.getChild(t):N_(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function zD(n,e){return function Ioe(n,e){return Cp(n.visibleWrites,e)}(n.writeTree,Ri(n.treePath,e))}function wL(n,e,t){return function xoe(n,e,t,i){const r=Ri(e,t),o=Cp(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?N_(kd(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function bG(n,e){return wG(Ri(n.treePath,e),n.writeTree)}function wG(n,e){return{treePath:n,writeTree:e}}class Aoe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,J.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,J.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Bw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function Lw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function R_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,J.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Bw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const CG=new class Moe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class CL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Md(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wp(this.viewCache_),o=function Doe(n,e,t,i,r,o){return function Soe(n,e,t,i,r,o,c){let d;const p=kd(n.visibleWrites,e),_=Cp(p,Kn());if(null!=_)d=_;else{if(null==t)return[];d=N_(p,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],x=c.getCompare(),T=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let M=T.getNext();for(;M&&b.length<r;)0!==x(M,i)&&b.push(M),M=T.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function EG(n,e,t,i,r,o){const c=e.eventCache;if(null!=zD(i,t))return e;{let d,p;if(An(t))if((0,J.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=wp(e),x=bL(i,_ instanceof Cn?_:Cn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),x,o)}else{const _=UD(i,wp(e));d=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const _=Dn(t);if(".priority"===_){(0,J.hu)(1===Ad(t),"Can't have a priority with additional path components");const b=c.getNode();p=e.serverCache.getNode();const x=yG(i,t,b,p);d=null!=x?n.filter.updatePriority(b,x):c.getNode()}else{const b=ci(t);let x;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const T=yG(i,t,c.getNode(),p);x=null!=T?c.getNode().getImmediateChild(_).updateChild(b,T):c.getNode().getImmediateChild(_)}else x=wL(i,_,e.serverCache);d=null!=x?n.filter.updateChild(c.getNode(),_,x,b,r,o):c.getNode()}}return jw(e,d,c.isFullyInitialized()||An(t),n.filter.filtersNodes())}}function jD(n,e,t,i,r,o,c,d){const p=e.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(An(t))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const M=p.getNode().updateChild(t,i);_=b.updateFullNode(p.getNode(),M,null)}else{const M=Dn(t);if(!p.isCompleteForPath(t)&&Ad(t)>1)return e;const N=ci(t),ce=p.getNode().getImmediateChild(M).updateChild(N,i);_=".priority"===M?b.updatePriority(p.getNode(),ce):b.updateChild(p.getNode(),M,ce,N,CG,null)}const x=fG(e,_,p.isFullyInitialized()||An(t),b.filtersNodes());return EG(n,x,t,r,new CL(r,x,o),d)}function EL(n,e,t,i,r,o,c){const d=e.eventCache;let p,_;const b=new CL(r,e,o);if(An(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=jw(e,_,!0,n.filter.filtersNodes());else{const x=Dn(t);if(".priority"===x)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=jw(e,_,d.isFullyInitialized(),d.isFiltered());else{const T=ci(t),M=d.getNode().getImmediateChild(x);let N;if(An(T))N=i;else{const q=b.getCompleteChild(x);N=null!=q?".priority"===JF(T)&&q.getChild(J5(T)).isEmpty()?q:q.updateChild(T,i):Cn.EMPTY_NODE}p=M.equals(N)?e:jw(e,n.filter.updateChild(d.getNode(),x,N,T,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function xG(n,e){return n.eventCache.isCompleteForChild(e)}function IG(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function xL(n,e,t,i,r,o,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=An(t)?i:new hi(null).setTree(t,i);const b=e.serverCache.getNode();return _.children.inorderTraversal((x,T)=>{if(b.hasChild(x)){const N=IG(0,e.serverCache.getNode().getImmediateChild(x),T);p=jD(n,p,new Jn(x),N,r,o,c,d)}}),_.children.inorderTraversal((x,T)=>{const M=!e.serverCache.isCompleteForChild(x)&&null===T.value;if(!b.hasChild(x)&&!M){const q=IG(0,e.serverCache.getNode().getImmediateChild(x),T);p=jD(n,p,new Jn(x),q,r,o,c,d)}}),p}function joe(n,e){const t=wp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!An(e)&&!t.getImmediateChild(Dn(e)).isEmpty())?t.getChild(e):null}function DG(n,e,t,i){e.type===Vs.MERGE&&null!==e.source.queryId&&((0,J.hu)(wp(n.viewCache_),"We should always have a full cache before handling merges"),(0,J.hu)(BD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Ooe(n,e,t,i,r){const o=new Aoe;let c,d;if(t.type===Vs.OVERWRITE){const _=t;_.source.fromUser?c=EL(n,e,_.path,_.snap,i,r,o):((0,J.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!An(_.path),c=jD(n,e,_.path,_.snap,i,r,d,o))}else if(t.type===Vs.MERGE){const _=t;_.source.fromUser?c=function Noe(n,e,t,i,r,o,c){let d=e;return i.foreach((p,_)=>{const b=Ri(t,p);xG(e,Dn(b))&&(d=EL(n,d,b,_,r,o,c))}),i.foreach((p,_)=>{const b=Ri(t,p);xG(e,Dn(b))||(d=EL(n,d,b,_,r,o,c))}),d}(n,e,_.path,_.children,i,r,o):((0,J.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),c=xL(n,e,_.path,_.children,i,r,d,o))}else if(t.type===Vs.ACK_USER_WRITE){const _=t;c=_.revert?function Boe(n,e,t,i,r,o){let c;if(null!=zD(i,t))return e;{const d=new CL(i,e,r),p=e.eventCache.getNode();let _;if(An(t)||".priority"===Dn(t)){let b;if(e.serverCache.isFullyInitialized())b=UD(i,wp(e));else{const x=e.serverCache.getNode();(0,J.hu)(x instanceof Cn,"serverChildren would be complete if leaf node"),b=bL(i,x)}_=n.filter.updateFullNode(p,b,o)}else{const b=Dn(t);let x=wL(i,b,e.serverCache);null==x&&e.serverCache.isCompleteForChild(b)&&(x=p.getImmediateChild(b)),_=null!=x?n.filter.updateChild(p,b,x,ci(t),d,o):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Cn.EMPTY_NODE,ci(t),d,o):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=UD(i,wp(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,o)))}return c=e.serverCache.isFullyInitialized()||null!=zD(i,Kn()),jw(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,o):function Foe(n,e,t,i,r,o,c){if(null!=zD(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(An(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return jD(n,e,t,p.getNode().getChild(t),r,o,d,c);if(An(t)){let _=new hi(null);return p.getNode().forEachChild(gc,(b,x)=>{_=_.set(new Jn(b),x)}),xL(n,e,t,_,r,o,d,c)}return e}{let _=new hi(null);return i.foreach((b,x)=>{const T=Ri(t,b);p.isCompleteForPath(T)&&(_=_.set(b,p.getNode().getChild(T)))}),xL(n,e,t,_,r,o,d,c)}}(n,e,_.path,_.affectedTree,i,r,o)}else{if(t.type!==Vs.LISTEN_COMPLETE)throw(0,J.g5)("Unknown operation type: "+t.type);c=function Loe(n,e,t,i,r){const o=e.serverCache;return EG(n,fG(e,o.getNode(),o.isFullyInitialized()||An(t),o.isFiltered()),t,i,CG,r)}(n,e,t.path,i,o)}const p=o.getChanges();return function Poe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=BD(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function lG(n){return{type:"value",snapshotNode:n}}(BD(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Roe(n,e){(0,J.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,J.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,J.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function AG(n,e,t,i){return function doe(n,e,t,i){const r=[],o=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function Qre(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),zw(n,r,"child_removed",e,i,t),zw(n,r,"child_added",e,i,t),zw(n,r,"child_moved",o,i,t),zw(n,r,"child_changed",e,i,t),zw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let HD,GD;function IL(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,J.hu)(null!=o,"SyncTree gave us an op for an invalid query."),DG(o,e,t,i)}{let o=[];for(const c of n.views.values())o=o.concat(DG(c,e,t,i));return o}}function Rd(n,e){let t=null;for(const i of n.views.values())t=t||joe(i,e);return t}class NG{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function Toe(){return{visibleWrites:wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SL(n,e,t,i,r){return function moe(n,e,t,i,r){(0,J.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Hw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?F_(n,new bp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Pd(n,e,t=!1){const i=function _oe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function voe(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,J.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&yoe(d,i.path)?r=!1:Bs(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function boe(n){n.visibleWrites=_G(n.allWrites,woe,Kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=pG(n.visibleWrites,i.path):Vr(i.children,p=>{n.visibleWrites=pG(n.visibleWrites,Ri(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let o=new hi(null);return null!=i.snap?o=o.set(Kn(),!0):Vr(i.children,c=>{o=o.set(new Jn(c),!0)}),F_(n,new FD(i.path,o,t))}return[]}function $w(n,e,t){return F_(n,new bp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function qD(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,d)=>{const _=Rd(d,Do(c,e));if(_)return _});return vG(r,e,o,t,!0)}function F_(n,e){return LG(e,n.syncPointTree_,null,VD(n.pendingWriteTree_,Kn()))}function LG(n,e,t,i){if(An(n.path))return BG(n,e,t,i);{const r=e.get(Kn());null==t&&null!=r&&(t=Rd(r,Kn()));let o=[];const c=Dn(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const _=t?t.getImmediateChild(c):null,b=bG(i,c);o=o.concat(LG(d,p,_,b))}return r&&(o=o.concat(IL(r,n,i,t))),o}}function BG(n,e,t,i){const r=e.get(Kn());null==t&&null!=r&&(t=Rd(r,Kn()));let o=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,_=bG(i,c),b=n.operationForChild(c);b&&(o=o.concat(BG(b,d,p,_)))}),r&&(o=o.concat(IL(r,n,i,t))),o}function DL(n,e){return n.tagToQueryMap.get(e)}function AL(n){const e=n.indexOf("$");return(0,J.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Jn(n.substr(0,e))}}function ML(n,e,t){const i=n.syncPointTree_.get(e);return(0,J.hu)(i,"Missing sync point for query tag that we're tracking"),IL(i,t,VD(n.pendingWriteTree_,e),null)}class kL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new kL(t)}node(){return this.node_}}class RL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ri(this.path_,e);return new RL(this.syncTree_,t)}node(){return qD(this.syncTree_,this.path_)}}const lse=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},UG=function(n,e,t){return n&&"object"==typeof n?((0,J.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?use(n[".sv"],e,t):"object"==typeof n[".sv"]?dse(n[".sv"],e):void(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},use=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,J.hu)(!1,"Unexpected server value: "+n)},dse=function(n,e,t){n.hasOwnProperty("increment")||(0,J.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,J.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,J.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},zG=function(n,e,t,i){return PL(e,new RL(t,n),i)},OL=function(n,e,t){return PL(n,new kL(e),t)};function PL(n,e,t){const i=n.getPriority().val(),r=UG(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,d=UG(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new M_(d,ji(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new M_(r))),c.forEachChild(di,(d,p)=>{const _=PL(p,e.getImmediateChild(d),t);_!==p&&(o=o.updateImmediateChild(d,_))}),o}}class NL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ZD(n,e){let t=e instanceof Jn?e:new Jn(e),i=n,r=Dn(t);for(;null!==r;){const o=(0,J.DV)(i.node.children,r)||{children:{},childCount:0};i=new NL(r,i,o),t=ci(t),r=Dn(t)}return i}function Ep(n){return n.node.value}function FL(n,e){n.node.value=e,LL(n)}function jG(n){return n.node.childCount>0}function KD(n,e){Vr(n.node.children,(t,i)=>{e(new NL(t,n,i))})}function HG(n,e,t,i){t&&!i&&e(n),KD(n,r=>{HG(r,e,!0,i)}),t&&i&&e(n)}function qw(n){return new Jn(null===n.parent?n.name:qw(n.parent)+"/"+n.name)}function LL(n){null!==n.parent&&function pse(n,e,t){const i=function hse(n){return void 0===Ep(n)&&!jG(n)}(t),r=(0,J.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,LL(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,LL(n))}(n.parent,n.name,n)}const mse=/[\[\].#$\/\u0000-\u001F\u007F]/,gse=/[\[\].#$\u0000-\u001F\u007F]/,BL=10485760,QD=function(n){return"string"==typeof n&&0!==n.length&&!mse.test(n)},Zw=function(n,e,t){const i=t instanceof Jn?new Ore(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+vp(i));if("function"==typeof e)throw new Error(n+"contains a function "+vp(i)+" with contents = "+e.toString());if(ID(e))throw new Error(n+"contains "+e.toString()+" "+vp(i));if("string"==typeof e&&e.length>BL/3&&(0,J.ug)(e)>BL)throw new Error(n+"contains a string greater than "+BL+" utf8 bytes "+vp(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Vr(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!QD(c)))throw new Error(n+" contains an invalid key ("+c+") "+vp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pre(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,J.ug)(e),eG(n)})(i,c),Zw(n,d,i),function Nre(n){const e=n.parts_.pop();n.byteLength_-=(0,J.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+vp(i)+" in addition to actual children.")}},WG=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!QD(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!gse.test(n)}(n)}(t))throw new Error((0,J.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fs(n,e,t){(function XD(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!eL(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function YG(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(wse(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Bs(i,e)||Bs(e,i))}function wse(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();gp&&Br("event: "+t.toString()),D_(i)}}}const ZG="repo_interrupt",Cse=25;class Ese{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ND(),this.transactionQueueTree_=new NL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KG(n){const t=n.infoData_.getNode(new Jn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Qw(n){return lse({timestamp:KG(n)})}function QG(n,e,t,i,r){n.dataUpdateCount++;const o=new Jn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,J.UI)(t,_=>ji(_));c=function ise(n,e,t,i){const r=DL(n,i);if(r){const o=AL(r),c=o.path,d=o.queryId,p=Do(c,e),_=hi.fromObject(t);return ML(n,c,new P_(mL(d),p,_))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=ji(t);c=function FG(n,e,t,i){const r=DL(n,i);if(null!=r){const o=AL(r),c=o.path,d=o.queryId,p=Do(c,e);return ML(n,c,new bp(mL(d),p,t))}return[]}(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,J.UI)(t,_=>ji(_));c=function ese(n,e,t){const i=hi.fromObject(t);return F_(n,new P_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,p)}else{const p=ji(t);c=$w(n.serverSyncTree_,o,p)}let d=o;c.length>0&&(d=B_(n,o)),fs(n.eventQueue_,d,c)}function XG(n,e){zL(n,"connected",e),!1===e&&function Dse(n){L_(n,"onDisconnectEvents");const e=Qw(n),t=ND();hL(n.onDisconnect_,Kn(),(r,o)=>{const c=zG(r,o,n.serverSyncTree_,e);O_(t,r,c)});let i=[];hL(t,Kn(),(r,o)=>{i=i.concat($w(n.serverSyncTree_,r,o));const c=function GL(n,e){const t=qw(tW(n,e)),i=ZD(n.transactionQueueTree_,e);return function fse(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{WL(n,r)}),WL(n,i),HG(i,r=>{WL(n,r)}),t}(n,r);B_(n,c)}),n.onDisconnect_=ND(),fs(n.eventQueue_,Kn(),i)}(n)}function zL(n,e,t){const i=new Jn("/.info/"+e),r=ji(t);n.infoData_.updateSnapshot(i,r);const o=$w(n.infoSyncTree_,i,r);fs(n.eventQueue_,i,o)}function JD(n){return n.nextWriteId_++}function L_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Br(t,...e)}function $L(n,e,t){return qD(n.serverSyncTree_,e,t)||Cn.EMPTY_NODE}function eA(n,e=n.transactionQueueTree_){if(e||tA(n,e),Ep(e)){const t=nW(n,e);(0,J.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Nse(n,e,t){const i=t.map(_=>_.currentWriteId),r=$L(n,e,i);let o=r;const c=r.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,J.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=Do(e,b.path);o=o.updateChild(x,b.currentOutputSnapshotRaw)}const d=o.val(!0),p=e;n.server_.put(p.toString(),d,_=>{L_(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const x=[];for(let T=0;T<t.length;T++)t[T].status=2,b=b.concat(Pd(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&x.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();tA(n,ZD(n.transactionQueueTree_,e)),eA(n,n.transactionQueueTree_),fs(n.eventQueue_,e,b);for(let T=0;T<x.length;T++)D_(x[T])}else{if("datastale"===_)for(let x=0;x<t.length;x++)t[x].status=3===t[x].status?4:0;else{fo("transaction at "+p.toString()+" failed: "+_);for(let x=0;x<t.length;x++)t[x].status=4,t[x].abortReason=_}B_(n,e)}},c)}(n,qw(e),t)}else jG(e)&&KD(e,t=>{eA(n,t)})}function B_(n,e){const t=tW(n,e),i=qw(t);return function Fse(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],_=Do(t,p.path);let x,b=!1;if((0,J.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,x=p.abortReason,r=r.concat(Pd(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=Cse)b=!0,x="maxretry",r=r.concat(Pd(n.serverSyncTree_,p.currentWriteId,!0));else{const T=$L(n,p.path,c);p.currentInputSnapshot=T;const M=e[d].update(T.val());if(void 0!==M){Zw("transaction failed: Data returned ",M,p.path);let N=ji(M);"object"==typeof M&&null!=M&&(0,J.r3)(M,".priority")||(N=N.updatePriority(T.getPriority()));const ce=p.currentWriteId,ze=Qw(n),Xe=OL(N,T,ze);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=Xe,p.currentWriteId=JD(n),c.splice(c.indexOf(ce),1),r=r.concat(SL(n.serverSyncTree_,p.path,Xe,p.currentWriteId,p.applyLocally)),r=r.concat(Pd(n.serverSyncTree_,ce,!0))}else b=!0,x="nodata",r=r.concat(Pd(n.serverSyncTree_,p.currentWriteId,!0))}fs(n.eventQueue_,t,r),r=[],b&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===x?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(x),!1,null)))}tA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)D_(i[d]);eA(n,n.transactionQueueTree_)}(n,nW(n,t),i),i}function tW(n,e){let t,i=n.transactionQueueTree_;for(t=Dn(e);null!==t&&void 0===Ep(i);)i=ZD(i,t),t=Dn(e=ci(e));return i}function nW(n,e){const t=[];return iW(n,e,t),t.sort((i,r)=>i.order-r.order),t}function iW(n,e,t){const i=Ep(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);KD(e,r=>{iW(n,r,t)})}function tA(n,e){const t=Ep(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,FL(e,t.length>0?t:void 0)}KD(e,i=>{tA(n,i)})}function WL(n,e){const t=Ep(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,J.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):((0,J.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Pd(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?FL(e,void 0):t.length=o+1,fs(n.eventQueue_,qw(e),r);for(let c=0;c<i.length;c++)D_(i[c])}}const qL=function(n,e){const t=Vse(n),i=t.namespace;return"firebase.com"===t.domain&&mc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&mc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qF(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Jn(t.pathString)}},Vse=function(n){let e="",t="",i="",r="",o="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),e=n.substring(0,Math.min(b,x)),b<x&&(r=function Lse(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,x)));const T=function Bse(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,x)));_=e.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(e.substring(_+1),10)):_=e.length;const M=e.slice(0,_);if("localhost"===M.toLowerCase())t="localhost";else if(M.split(".").length<=2)t=M;else{const N=e.indexOf(".");i=e.substring(0,N).toLowerCase(),t=e.substring(N+1),o=i}"ns"in T&&(o=T.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}};class ps{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return An(this._path)?null:JF(this._path)}get ref(){return new Ca(this._repo,this._path)}get _queryIdentifier(){const e=dG(this._queryParams),t=GF(e);return"{}"===t?"default":t}get _queryObject(){return dG(this._queryParams)}isEqual(e){if(!((e=(0,J.m9)(e))instanceof ps))return!1;const t=this._repo===e._repo,i=eL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kre(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ca extends ps{constructor(e,t){super(e,t,new cL,!1)}get parent(){const e=J5(this._path);return null===e?null:new Ca(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Goe(n){(0,J.hu)(!HD,"__referenceConstructor has already been defined"),HD=n})(Ca),function Koe(n){(0,J.hu)(!GD,"__referenceConstructor has already been defined"),GD=n}(Ca);const Jse="FIREBASE_DATABASE_EMULATOR_HOST",ZL={};let uW=!1;class oae{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xse(n,e,t){if(n.stats_=KF(n.repoInfo_),n.forceRestClient_||rre())n.server_=new PD(n.repoInfo_,(i,r,o,c)=>{QG(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XG(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,J.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new yp(n.repoInfo_,e,(i,r,o,c)=>{QG(n,i,r,o,c)},i=>{XG(n,i)},i=>{!function Ise(n,e){Vr(e,(t,i)=>{zL(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function lre(n,e){const t=n.toString();return ZF[t]||(ZF[t]=e()),ZF[t]}(n.repoInfo_,()=>new loe(n.stats_,n.server_)),n.infoData_=new roe,n.infoSyncTree_=new NG({startListening:(i,r,o,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=$w(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),zL(n,"connected",!1),n.serverSyncTree_=new NG({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,p)=>{const _=c(d,p);fs(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ca(this._repo,Kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function nae(n,e){const t=ZL[e];(!t||t[n.key]!==n)&&mc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function eW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZG)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&mc("Cannot call "+e+" on a deleted database.")}}function sae(n=(0,$n.getApp)(),e){const t=(0,$n._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(0,J.P0)("database");i&&function aae(n,e,t,i={}){(n=(0,J.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&mc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&mc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Rw(Rw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,J.Sg)(i.mockUserToken,n.app.options.projectId);o=new Rw(c)}!function eae(n,e,t,i){n.repoInfo_=new qF(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}yp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},yp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function cae(n){(function Wie(n){jF=n})($n.SDK_VERSION),(0,$n._registerComponent)(new Ps.wA("database",(e,{instanceIdentifier:t})=>function tae(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||mc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=qL(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env[Jse]),_?(p=!0,o=`http://${_}?ns=${d.namespace}`,c=qL(o,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new Rw(Rw.OWNER):new sre(n.name,n.options,e);WG("Invalid Firebase Database URL",c),An(c.path)||mc("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function iae(n,e,t,i){let r=ZL[e.name];r||(r={},ZL[e.name]=r);let o=r[n.toURLString()];return o&&mc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ese(n,uW,t,i),r[n.toURLString()]=o,o}(d,n,b,new ore(n.name,t));return new oae(x,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,$n.registerVersion)(m5,"0.14.3",n),(0,$n.registerVersion)(m5,"0.14.3","esm2017")}();class KL{constructor(e){return e}}const hW="database",QL=new l.OlP("angularfire2.database-instances");function fae(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new KL(i)}}const pae={provide:class dae{constructor(){return(0,ct.vb)(hW)}},deps:[[new l.FiY,QL]]},mae={provide:KL,useFactory:function hae(n,e){const t=(0,ct.JM)(hW,n,e);return t&&new KL(t)},deps:[[new l.FiY,QL],ls]};let gae=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mae,pae]}),n})();function _ae(n,...e){return{ngModule:gae,providers:[{provide:QL,useFactory:fae(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,[new l.FiY,Iw],[new l.FiY,vd],...e]}]}}const vae=(0,ct.u3)(sae,!0);class XL{constructor(e){return e}}const fW="firestore",JL=new l.OlP("angularfire2.firestore-instances");function wae(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new XL(i)}}const Cae={provide:class yae{constructor(){return(0,ct.vb)(fW)}},deps:[[new l.FiY,JL]]},Eae={provide:XL,useFactory:function bae(n,e){const t=(0,ct.JM)(fW,n,e);return t&&new XL(t)},deps:[[new l.FiY,JL],ls]};let xae=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Eae,Cae]}),n})();function Iae(n,...e){return{ngModule:xae,providers:[{provide:JL,useFactory:wae(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,[new l.FiY,Iw],[new l.FiY,vd],...e]}]}}const Sae=(0,ct.u3)(FZ,!0),t2="functions";class kae{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,Ae.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,Ae.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,Ae.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,Ae.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const n2="us-central1";class Oae{constructor(e,t,i,r,o=n2,c){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new kae(t,i,r),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(o);this.customDomain=d.origin,this.region=n2}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const _W="@firebase/functions";function Hae(n=(0,$n.getApp)(),e=n2){const i=(0,$n._getProvider)((0,J.m9)(n),t2).getImmediate({identifier:e}),r=(0,J.P0)("functions");return r&&function $ae(n,e,t){!function Pae(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,J.m9)(n),e,t)}(i,...r),i}!function jae(n,e){(0,$n._registerComponent)(new Ps.wA(t2,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),d=i.getProvider("messaging-internal"),p=i.getProvider("app-check-internal");return new Oae(o,c,d,p,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,$n.registerVersion)(_W,"0.9.3",e),(0,$n.registerVersion)(_W,"0.9.3","esm2017")}(fetch.bind(self));class s2{constructor(e){return e}}const yW="functions",a2=new l.OlP("angularfire2.functions-instances");function qae(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new s2(i)}}const Yae={provide:class Gae{constructor(){return(0,ct.vb)(yW)}},deps:[[new l.FiY,a2]]},Zae={provide:s2,useFactory:function Wae(n,e){const t=(0,ct.JM)(yW,n,e);return t&&new s2(t)},deps:[[new l.FiY,a2],ls]};let Kae=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Zae,Yae]}),n})();function Qae(n,...e){return{ngModule:Kae,providers:[{provide:a2,useFactory:qae(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,[new l.FiY,Iw],[new l.FiY,vd],...e]}]}}const Xae=(0,ct.u3)(Hae,!0);var Jae=L(751);class c2{constructor(e){return e}}const bW="messaging",l2=new l.OlP("angularfire2.messaging-instances");function nce(n){return(e,t)=>{if(!ct.n1.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new c2(i)}}const ice={provide:class ece{constructor(){return(0,ct.vb)(bW)}},deps:[[new l.FiY,l2]]},rce={provide:c2,useFactory:function tce(n,e){if(!ct.n1.sync())return null;const t=(0,ct.JM)(bW,n,e);return t&&new c2(t)},deps:[[new l.FiY,l2],ls]};let oce=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rce,ice,{provide:l.ip1,useValue:ct.n1.async,multi:!0}]}),n})();function sce(n,...e){return{ngModule:oce,providers:[{provide:l2,useFactory:nce(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,...e]}]}}const ace=(0,ct.u3)(Jae.KL,!0);L(2833);const wW="@firebase/performance",u2="0.6.3",CW=u2,d2="FB-PERF-TRACE-MEASURE",TW="@firebase/performance/config",DW="@firebase/performance/configexpire",AW="Performance",to=new J.LL("performance",AW,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),yc=new os.Yd(AW);let h2,MW,kW,p2;yc.logLevel=os.in.INFO;class Ur{constructor(e){if(this.window=e,!e)throw to.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,i){!this.performance||!this.performance.measure||this.performance.measure(e,t,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,J.zI)()?!!(0,J.hl)()||(yc.info("IndexedDB is not supported by current browswer"),!1):(yc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const o of r.getEntries())t(o)}).observe({entryTypes:[e]})}static getInstance(){return void 0===h2&&(h2=new Ur(MW)),h2}}function f2(){return kW}function RW(n,e){const t=n.length-e.length;if(t<0||t>1)throw to.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class ms{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=RW("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=RW("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===p2&&(p2=new ms),p2}}var Ip=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(Ip||(Ip={})),Ip))();const mce=["firebase_","google_","ga_"],gce=new RegExp("^[a-zA-Z]\\w*$");function yce(){const n=Ur.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function OW(){switch(Ur.getInstance().document.visibilityState){case"visible":return Ip.VISIBLE;case"hidden":return Ip.HIDDEN;default:return Ip.UNKNOWN}}function bce(){const e=Ur.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function PW(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw to.create("no app id");return t}const Ice="0.0.1",Ea={loggingEnabled:!0},Sce="FIREBASE_INSTALLATIONS_AUTH";const Mce="Could not fetch config, will use default configs";function NW(n){if(!n)return n;const e=ms.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Ea.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Ea.logSource&&(e.logSource=Ea.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Ea.logEndPointUrl&&(e.logEndPointUrl=Ea.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Ea.transportKey&&(e.transportKey=Ea.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Ea.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Ea.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Ea.tracesSamplingRate&&(e.tracesSamplingRate=Ea.tracesSamplingRate),e.logTraceAfterSampling=FW(e.tracesSamplingRate),e.logNetworkAfterSampling=FW(e.networkRequestsSamplingRate),n}function FW(n){return Math.random()<=n}let g2,m2=1;function LW(n){return m2=2,g2=g2||function Pce(n){return function Nce(){const n=Ur.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function fce(n){const e=n.getId();return e.then(t=>{kW=t}),e}(n.installations)).then(e=>function Tce(n,e){const t=function Dce(){const n=Ur.getInstance().localStorage;if(!n)return;const e=n.getItem(DW);if(!e||!function Rce(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(TW);if(t)try{return JSON.parse(t)}catch{return}}();return t?(NW(t),Promise.resolve()):function kce(n,e){return function pce(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const i=function Ece(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw to.create("no project id");return t}(n.app),r=function xce(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw to.create("no api key");return t}(n.app),c=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`${Sce} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:PW(n.app),app_version:CW,sdk_version:Ice})});return fetch(c).then(d=>{if(d.ok)return d.json();throw to.create("RC response not ok")})}).catch(()=>{yc.info(Mce)})}(n,e).then(NW).then(i=>function Ace(n){const e=Ur.getInstance().localStorage;!n||!e||(e.setItem(TW,JSON.stringify(n)),e.setItem(DW,String(Date.now()+60*ms.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,e)).then(()=>BW(),()=>BW())}(n),g2}function BW(){m2=3}const _2=1e4,VW=3,Lce=1e3;let v2,sA=VW,Ld=[],UW=!1;function aA(n){setTimeout(()=>{if(0!==sA){if(!Ld.length)return aA(_2);!function Vce(){const n=Ld.splice(0,Lce),e=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function Uce(n,e){return function zce(n){const e=ms.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||yc.info("Call to Firebase backend failed."),t.json())).then(t=>{const i=Number(t.nextRequestWaitMillis);let r=_2;isNaN(i)||(r=Math.max(i,r));const o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(Ld=[...e,...Ld],yc.info("Retry transport request later.")),sA=VW,aA(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ms.getInstance().logSource,log_event:e},n).catch(()=>{Ld=[...n,...Ld],sA--,yc.info(`Tries left: ${sA}.`),aA(_2)})}()}},n)}function zW(n,e){v2||(v2=function Hce(n){return(...e)=>{!function jce(n){if(!n.eventTime||!n.message)throw to.create("invalid cc log");Ld=[...Ld,n]}({message:n(...e),eventTime:Date.now()})}}(Gce)),v2(n,e)}function cA(n){const e=ms.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||Ur.getInstance().requiredApisAvailable()&&(n.isAuto&&OW()!==Ip.VISIBLE||(function Oce(){return 3===m2}()?y2(n):LW(n.performanceController).then(()=>y2(n),()=>y2(n))))}function y2(n){if(!f2())return;const e=ms.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>zW(n,1),0)}function Gce(n,e){return 0===e?function Wce(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:jW(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function qce(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const i={application_info:jW(n.performanceController.app),trace_metric:e};return JSON.stringify(i)}(n)}function jW(n){return{google_app_id:PW(n),app_instance_id:f2(),web_app_info:{sdk_version:CW,page_url:Ur.getInstance().getUrl(),service_worker_status:yce(),visibility_state:OW(),effective_connection_type:bce()},application_process_state:0}}const Kce=["_fp","_fcp","_fid"];class Bd{constructor(e,t,i=!1,r){this.performanceController=e,this.name=t,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=Ur.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${d2}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw to.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw to.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),cA(this)}record(e,t,i){if(e<=0)throw to.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw to.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));cA(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function Qce(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&Kce.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw to.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function Xce(n){const e=Math.floor(n);return e<n&&yc.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const i=function wce(n){return!(0===n.length||n.length>40||mce.some(t=>n.startsWith(t))||!n.match(gce))}(e),r=function Cce(n){return 0!==n.length&&n.length<=100}(t);if(i&&r)this.customAttributes[e]=t;else{if(!i)throw to.create("invalid attribute name",{attributeName:e});if(!r)throw to.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,i,r){const o=Ur.getInstance().getUrl();if(!o)return;const c=new Bd(e,"_wt_"+o,!0),d=Math.floor(1e3*Ur.getInstance().getTimeOrigin());if(c.setStartTime(d),t&&t[0]&&(c.setDuration(Math.floor(1e3*t[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),i){const b=i.find(T=>"first-paint"===T.name);b&&b.startTime&&c.putMetric("_fp",Math.floor(1e3*b.startTime));const x=i.find(T=>"first-contentful-paint"===T.name);x&&x.startTime&&c.putMetric("_fcp",Math.floor(1e3*x.startTime)),r&&c.putMetric("_fid",Math.floor(1e3*r))}cA(c)}static createUserTimingTrace(e,t){cA(new Bd(e,t,!1,t))}}function HW(n,e){const t=e;if(!t||void 0===t.responseStart)return;const i=Ur.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+i)),o=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,c=Math.floor(1e3*(t.responseEnd-t.startTime));!function $ce(n){const e=ms.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===i||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>zW(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:c})}const Jce=5e3;function $W(n){f2()&&(setTimeout(()=>function tle(n){const e=Ur.getInstance(),t=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{Bd.createOobTrace(n,t,i),r=void 0},Jce);e.onFirstInputDelay(o=>{r&&(clearTimeout(r),Bd.createOobTrace(n,t,i,o))})}else Bd.createOobTrace(n,t,i)}(n),0),setTimeout(()=>function ele(n){const e=Ur.getInstance(),t=e.getEntriesByType("resource");for(const i of t)HW(n,i);e.setupObserver("resource",i=>HW(n,i))}(n),0),setTimeout(()=>function nle(n){const e=Ur.getInstance(),t=e.getEntriesByType("measure");for(const i of t)GW(n,i);e.setupObserver("measure",i=>GW(n,i))}(n),0))}function GW(n,e){const t=e.name;t.substring(0,d2.length)!==d2&&Bd.createUserTimingTrace(n,t)}class ile{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Ur.getInstance().requiredApisAvailable()?(0,J.eu)().then(t=>{t&&(function Bce(){UW||(aA(5500),UW=!0)}(),LW(this).then(()=>$W(this),()=>$W(this)),this.initialized=!0)}).catch(t=>{yc.info(`Environment doesn't support IndexedDB: ${t}`)}):yc.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ms.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ms.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ms.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ms.getInstance().dataCollectionEnabled}}function ole(n=(0,$n.getApp)()){return n=(0,J.m9)(n),(0,$n._getProvider)(n,"performance").getImmediate()}const sle=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw to.create("FB not default");if(typeof window>"u")throw to.create("no window");!function hce(n){MW=n}(window);const r=new ile(t,i);return r._init(e),r};!function ale(){(0,$n._registerComponent)(new Ps.wA("performance",sle,"PUBLIC")),(0,$n.registerVersion)(wW,u2),(0,$n.registerVersion)(wW,u2,"esm2017")}();class b2{constructor(e){return e}}const WW="performance",w2=new l.OlP("angularfire2.performance-instances");function ule(n){return(e,t,i)=>{if(!Ic(t))return null;const r=e.runOutsideAngular(()=>n(i));return new b2(r)}}const dle={provide:class cle{constructor(){return(0,ct.vb)(WW)}},deps:[[new l.FiY,w2]]},hle={provide:b2,useFactory:function lle(n,e,t){if(!Ic(t))return null;const i=(0,ct.JM)(WW,n,e);return i&&new b2(i)},deps:[[new l.FiY,w2],ls,l.Lbi]};let fle=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hle,dle]}),n})();function ple(n,...e){return{ngModule:fle,providers:[{provide:w2,useFactory:ule(n),multi:!0,deps:[l.R0b,l.Lbi,l.zs3,ct.HU,hc,...e]}]}}const mle=(0,ct.u3)(ole,!0);var gle=L(4880);class C2{constructor(e){return e}}const qW="remote-config",E2=new l.OlP("angularfire2.remote-config-instances");function yle(n){return(e,t)=>{if(!ct._J.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new C2(i)}}const ble={provide:class _le{constructor(){return(0,ct.vb)(qW)}},deps:[[new l.FiY,E2]]},wle={provide:C2,useFactory:function vle(n,e){if(!ct._J.sync())return null;const t=(0,ct.JM)(qW,n,e);return t&&new C2(t)},deps:[[new l.FiY,E2],ls]};let Cle=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wle,ble,{provide:l.ip1,useValue:ct._J.async,multi:!0}]}),n})();function Ele(n,...e){return{ngModule:Cle,providers:[{provide:E2,useFactory:yle(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,...e]}]}}const xle=(0,ct.u3)(gle.sN,!0),YW="firebasestorage.googleapis.com",ZW="storageBucket";class Hi extends J.ZR{constructor(e,t,i=0){super(x2(e),`Firebase Storage: ${t} (${x2(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fi=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fi||(fi={})),fi))();function x2(n){return"storage/"+n}function S2(n){return new Hi(fi.INVALID_ARGUMENT,n)}function JW(){return new Hi(fi.APP_DELETED,"The Firebase app was deleted.")}class Ao{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ao.makeFromUrl(e,t)}catch{return new Ao(e,"")}if(""===i.path)return i;throw function Ple(n){return new Hi(fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(tt){tt.path_=decodeURIComponent(tt.path)}const x=t.replace(/[.]/g,"\\."),Ke=[{regex:d,indices:{bucket:1,path:3},postModify:function o(tt){"/"===tt.path.charAt(tt.path.length-1)&&(tt.path_=tt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===YW?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let tt=0;tt<Ke.length;tt++){const Et=Ke[tt],zt=Et.regex.exec(e);if(zt){let Ci=zt[Et.indices.path];Ci||(Ci=""),i=new Ao(zt[Et.indices.bucket],Ci),Et.postModify(i);break}}if(null==i)throw function Ole(n){return new Hi(fi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Ule{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function D2(n,e,t,i){if(i<e)throw S2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw S2(`Invalid value for '${n}'. Expected ${t} or less.`)}var Vd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vd||(Vd={})),Vd))();class Wle{constructor(e,t,i,r,o,c,d,p,_,b,x,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=x,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,N)=>{this.resolve_=M,this.reject_=N,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function Hle(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==d){const p=function I2(){return new Hi(fi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?JW():function QW(){return new Hi(fi.CANCELED,"User canceled the upload/download.")}():function KW(){return new Hi(fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new uA(!1,null,!0)):this.backoffId_=function zle(n,e,t){let i=1,r=null,o=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...ce){_||(_=!0,e.apply(null,ce))}function x(ce){r=setTimeout(()=>{r=null,n(M,p())},ce)}function T(){o&&clearTimeout(o)}function M(ce,...ze){if(_)return void T();if(ce)return T(),void b.call(null,ce,...ze);if(p()||c)return T(),void b.call(null,ce,...ze);let Ke;i<64&&(i*=2),1===d?(d=2,Ke=0):Ke=1e3*(i+Math.random()),x(Ke)}let N=!1;function q(ce){N||(N=!0,T(),!_&&(null!==r?(ce||(d=2),clearTimeout(r),x(0)):ce||(d=1)))}return x(0),o=setTimeout(()=>{c=!0,q(!0)},t),q}((i,r)=>{if(r)return void i(!1,new uA(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Vd.NO_ERROR,p=o.getStatus();if(!d||function n8(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(p,this.additionalRetryCodes_)&&this.retry){const b=o.getErrorCode()===Vd.ABORT;return void i(!1,new uA(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new uA(_,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function jle(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uA{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}class Sp{constructor(e,t){this._service=e,this._location=t instanceof Ao?t:Ao.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Sp(e,t)}get root(){const e=new Ao(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function a8(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function sue(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ao(this._location.bucket,e);return new Sp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Vle(n){return new Hi(fi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function C8(n,e){const t=e?.[ZW];return null==t?null:Ao.makeFromBucketSpec(t,n)}class N2{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=YW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ao.makeFromBucketSpec(r,this._host):C8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ao.makeFromBucketSpec(this._url,e):C8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ae.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ae.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sp(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new Ule(JW());{const c=function Qle(n,e,t,i,r,o,c=!0){const d=function t8(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function Zle(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function qle(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function Yle(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function Kle(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new Wle(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,Ae.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const E8="@firebase/storage",I8="storage";function Gue(n=(0,$n.getApp)(),e){n=(0,J.m9)(n);const i=(0,$n._getProvider)(n,I8).getImmediate({identifier:e}),r=(0,J.P0)("storage");return r&&function Wue(n,e,t,i={}){!function $ue(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,J.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function que(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new N2(t,i,r,e,$n.SDK_VERSION)}!function Yue(){(0,$n._registerComponent)(new Ps.wA(I8,que,"PUBLIC").setMultipleInstances(!0)),(0,$n.registerVersion)(E8,"0.11.1",""),(0,$n.registerVersion)(E8,"0.11.1","esm2017")}();class F2{constructor(e){return e}}const S8="storage",L2=new l.OlP("angularfire2.storage-instances");function Que(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new F2(i)}}const Xue={provide:class Zue{constructor(){return(0,ct.vb)(S8)}},deps:[[new l.FiY,L2]]},Jue={provide:F2,useFactory:function Kue(n,e){const t=(0,ct.JM)(S8,n,e);return t&&new F2(t)},deps:[[new l.FiY,L2],ls]};let ede=(()=>{class n{constructor(){(0,Jr.KN)("angularfire",ct.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Jue,Xue]}),n})();function tde(n,...e){return{ngModule:ede,providers:[{provide:L2,useFactory:Que(n),multi:!0,deps:[l.R0b,l.zs3,ct.HU,hc,[new l.FiY,Iw],[new l.FiY,vd],...e]}]}}const nde=(0,ct.u3)(Gue,!0);let ide=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[SJ]}),n.\u0275inj=l.cJS({providers:[{provide:bo.Dh,useValue:a5.firebase},p5,BF],imports:[Va.withServerTransition({appId:"serverApp"}),vJ,aF,sF,oie,zh,sie,aie,cie,jK(()=>HK(a5.firebase)),Gie(()=>Eie()),yie(()=>wie()),_ae(()=>vae()),Iae(()=>Sae()),Qae(()=>Xae()),sce(()=>ace()),ple(()=>mle()),Ele(()=>xle()),tde(()=>nde()),j9,bo.hO,Ix]}),n})();function T8(){cv().bootstrapModule(ide).catch(n=>console.error(n))}"complete"===document.readyState?T8():document.addEventListener("DOMContentLoaded",T8)},1482:(Gt,je,L)=>{L.d(je,{y:()=>Ie});var l=L(6664),j=L(1026),B=L(4178),oe=L(6527),Fe=L(1823),re=L(4870),Ie=function(){function V(U){U&&(this._subscribe=U)}return V.prototype.lift=function(U){var fe=new V;return fe.source=this,fe.operator=U,fe},V.prototype.subscribe=function(U,fe,ot){var Je=function Y(V){return V&&V instanceof l.Lv||function De(V){return V&&(0,re.m)(V.next)&&(0,re.m)(V.error)&&(0,re.m)(V.complete)}(V)&&(0,j.Nn)(V)}(U)?U:new l.Hp(U,fe,ot);if(Fe.v.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(Je);else{var me=this.operator,Ee=this.source;Je.add(me?me.call(Je,Ee):Ee?this._subscribe(Je):this._trySubscribe(Je))}return Je},V.prototype._deprecatedSyncErrorSubscribe=function(U){var fe=U;fe._syncErrorHack_isSubscribing=!0;var ot=this.operator;if(ot)U.add(ot.call(U,this.source));else try{U.add(this._subscribe(U))}catch(Ve){fe.__syncError=Ve}for(var Je=fe;Je;){if("__syncError"in Je)try{throw Je.__syncError}finally{U.unsubscribe()}Je=Je.destination}fe._syncErrorHack_isSubscribing=!1},V.prototype._trySubscribe=function(U){try{return this._subscribe(U)}catch(fe){U.error(fe)}},V.prototype.forEach=function(U,fe){var ot=this;return new(fe=ve(fe))(function(Je,Ve){var me;me=ot.subscribe(function(Ee){try{U(Ee)}catch(Se){Ve(Se),me?.unsubscribe()}},Ve,Je)})},V.prototype._subscribe=function(U){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(U)},V.prototype[B.L]=function(){return this},V.prototype.pipe=function(){for(var U=[],fe=0;fe<arguments.length;fe++)U[fe]=arguments[fe];return U.length?(0,oe.U)(U)(this):this},V.prototype.toPromise=function(U){var fe=this;return new(U=ve(U))(function(ot,Je){var Ve;fe.subscribe(function(me){return Ve=me},function(me){return Je(me)},function(){return ot(Ve)})})},V.create=function(U){return new V(U)},V}();function ve(V){var U;return null!==(U=V??Fe.v.Promise)&&void 0!==U?U:Promise}},2873:(Gt,je,L)=>{L.d(je,{x:()=>Ie});var l=L(5987),j=L(1482),B=L(1026),Fe=(0,L(5490).d)(function(De){return function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),re=L(1549),Ie=function(De){function Y(){var V=De.call(this)||this;return V.closed=!1,V.observers=[],V.isStopped=!1,V.hasError=!1,V.thrownError=null,V}return(0,l.ZT)(Y,De),Y.prototype.lift=function(V){var U=new ve(this,this);return U.operator=V,U},Y.prototype._throwIfClosed=function(){if(this.closed)throw new Fe},Y.prototype.next=function(V){var U,fe;if(this._throwIfClosed(),!this.isStopped){var ot=this.observers.slice();try{for(var Je=(0,l.XA)(ot),Ve=Je.next();!Ve.done;Ve=Je.next())Ve.value.next(V)}catch(Ee){U={error:Ee}}finally{try{Ve&&!Ve.done&&(fe=Je.return)&&fe.call(Je)}finally{if(U)throw U.error}}}},Y.prototype.error=function(V){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;for(var U=this.observers;U.length;)U.shift().error(V)}},Y.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var V=this.observers;V.length;)V.shift().complete()}},Y.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Y.prototype._trySubscribe=function(V){return this._throwIfClosed(),De.prototype._trySubscribe.call(this,V)},Y.prototype._subscribe=function(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)},Y.prototype._innerSubscribe=function(V){var U=this,Je=U.observers;return U.hasError||U.isStopped?B.Lc:(Je.push(V),new B.w0(function(){return(0,re.P)(Je,V)}))},Y.prototype._checkFinalizedStatuses=function(V){var U=this,Je=U.isStopped;U.hasError?V.error(U.thrownError):Je&&V.complete()},Y.prototype.asObservable=function(){var V=new j.y;return V.source=this,V},Y.create=function(V,U){return new ve(V,U)},Y}(j.y),ve=function(De){function Y(V,U){var fe=De.call(this)||this;return fe.destination=V,fe.source=U,fe}return(0,l.ZT)(Y,De),Y.prototype.next=function(V){var U,fe;null===(fe=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===fe||fe.call(U,V)},Y.prototype.error=function(V){var U,fe;null===(fe=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===fe||fe.call(U,V)},Y.prototype.complete=function(){var V,U;null===(U=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===U||U.call(V)},Y.prototype._subscribe=function(V){var U,fe;return null!==(fe=null===(U=this.source)||void 0===U?void 0:U.subscribe(V))&&void 0!==fe?fe:B.Lc},Y}(Ie)},6664:(Gt,je,L)=>{L.d(je,{Hp:()=>fe,Lv:()=>U});var l=L(5987),j=L(4870),B=L(1026),oe=L(1823),Fe=L(3702),re=L(6313),Ie=Y("C",void 0,void 0);function Y(Ee,Se,_e){return{kind:Ee,value:Se,error:_e}}var V=L(6815),U=function(Ee){function Se(_e){var Ze=Ee.call(this)||this;return Ze.isStopped=!1,_e?(Ze.destination=_e,(0,B.Nn)(_e)&&_e.add(Ze)):Ze.destination=me,Ze}return(0,l.ZT)(Se,Ee),Se.create=function(_e,Ze,At){return new fe(_e,Ze,At)},Se.prototype.next=function(_e){this.isStopped?Ve(function De(Ee){return Y("N",Ee,void 0)}(_e),this):this._next(_e)},Se.prototype.error=function(_e){this.isStopped?Ve(function ve(Ee){return Y("E",void 0,Ee)}(_e),this):(this.isStopped=!0,this._error(_e))},Se.prototype.complete=function(){this.isStopped?Ve(Ie,this):(this.isStopped=!0,this._complete())},Se.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,Ee.prototype.unsubscribe.call(this),this.destination=null)},Se.prototype._next=function(_e){this.destination.next(_e)},Se.prototype._error=function(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}},Se.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Se}(B.w0),fe=function(Ee){function Se(_e,Ze,At){var xt,dt=Ee.call(this)||this;if((0,j.m)(_e))xt=_e;else if(_e){var ee;xt=_e.next,Ze=_e.error,At=_e.complete,dt&&oe.v.useDeprecatedNextContext?(ee=Object.create(_e)).unsubscribe=function(){return dt.unsubscribe()}:ee=_e,xt=xt?.bind(ee),Ze=Ze?.bind(ee),At=At?.bind(ee)}return dt.destination={next:xt?ot(xt,dt):re.Z,error:ot(Ze??Je,dt),complete:At?ot(At,dt):re.Z},dt}return(0,l.ZT)(Se,Ee),Se}(U);function ot(Ee,Se){return function(){for(var _e=[],Ze=0;Ze<arguments.length;Ze++)_e[Ze]=arguments[Ze];try{Ee.apply(void 0,(0,l.ev)([],(0,l.CR)(_e)))}catch(At){if(oe.v.useDeprecatedSynchronousErrorHandling){if(!Se._syncErrorHack_isSubscribing)throw At;Se.__syncError=At}else(0,Fe.h)(At)}}}function Je(Ee){throw Ee}function Ve(Ee,Se){var _e=oe.v.onStoppedNotification;_e&&V.z.setTimeout(function(){return _e(Ee,Se)})}var me={closed:!0,next:re.Z,error:Je,complete:re.Z}},1026:(Gt,je,L)=>{L.d(je,{Lc:()=>Ie,w0:()=>re,Nn:()=>ve});var l=L(5987),j=L(4870),oe=(0,L(5490).d)(function(Y){return function(U){Y(this),this.message=U?U.length+" errors occurred during unsubscription:\n"+U.map(function(fe,ot){return ot+1+") "+fe.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=U}}),Fe=L(1549),re=function(){function Y(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._teardowns=null}return Y.prototype.unsubscribe=function(){var V,U,fe,ot,Je;if(!this.closed){this.closed=!0;var Ve=this._parentage;if(Ve)if(this._parentage=null,Array.isArray(Ve))try{for(var me=(0,l.XA)(Ve),Ee=me.next();!Ee.done;Ee=me.next())Ee.value.remove(this)}catch(ee){V={error:ee}}finally{try{Ee&&!Ee.done&&(U=me.return)&&U.call(me)}finally{if(V)throw V.error}}else Ve.remove(this);var _e=this.initialTeardown;if((0,j.m)(_e))try{_e()}catch(ee){Je=ee instanceof oe?ee.errors:[ee]}var Ze=this._teardowns;if(Ze){this._teardowns=null;try{for(var At=(0,l.XA)(Ze),dt=At.next();!dt.done;dt=At.next()){var xt=dt.value;try{De(xt)}catch(ee){Je=Je??[],ee instanceof oe?Je=(0,l.ev)((0,l.ev)([],(0,l.CR)(Je)),(0,l.CR)(ee.errors)):Je.push(ee)}}}catch(ee){fe={error:ee}}finally{try{dt&&!dt.done&&(ot=At.return)&&ot.call(At)}finally{if(fe)throw fe.error}}}if(Je)throw new oe(Je)}},Y.prototype.add=function(V){var U;if(V&&V!==this)if(this.closed)De(V);else{if(V instanceof Y){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._teardowns=null!==(U=this._teardowns)&&void 0!==U?U:[]).push(V)}},Y.prototype._hasParent=function(V){var U=this._parentage;return U===V||Array.isArray(U)&&U.includes(V)},Y.prototype._addParent=function(V){var U=this._parentage;this._parentage=Array.isArray(U)?(U.push(V),U):U?[U,V]:V},Y.prototype._removeParent=function(V){var U=this._parentage;U===V?this._parentage=null:Array.isArray(U)&&(0,Fe.P)(U,V)},Y.prototype.remove=function(V){var U=this._teardowns;U&&(0,Fe.P)(U,V),V instanceof Y&&V._removeParent(this)},Y.EMPTY=((V=new Y).closed=!0,V),Y;var V}(),Ie=re.EMPTY;function ve(Y){return Y instanceof re||Y&&"closed"in Y&&(0,j.m)(Y.remove)&&(0,j.m)(Y.add)&&(0,j.m)(Y.unsubscribe)}function De(Y){(0,j.m)(Y)?Y():Y.unsubscribe()}},1823:(Gt,je,L)=>{L.d(je,{v:()=>l});var l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8981:(Gt,je,L)=>{L.d(je,{E:()=>j});var j=new(L(1482).y)(function(Fe){return Fe.complete()})},4524:(Gt,je,L)=>{L.d(je,{Dp:()=>ee,OO:()=>le,Xf:()=>Te});var l=L(5987),j=L(5719),B=L(4870);function oe($){return(0,B.m)($?.then)}var Fe=L(4178),re=L(1482),Ie=L(1026),Y=L(5897),U=function V(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Je($,se){if(!$)throw new Error("Iterable cannot be null");return new re.y(function(ne){var de=new Ie.w0;return de.add(se.schedule(function(){var Re=$[Symbol.asyncIterator]();de.add(se.schedule(function(){var Le=this;Re.next().then(function(Ot){Ot.done?ne.complete():(ne.next(Ot.value),Le.schedule())})}))})),de})}function Ve($){return(0,B.m)($[Fe.L])}function me($){return(0,B.m)($?.[U])}function Ee($){return Symbol.asyncIterator&&(0,B.m)($?.[Symbol.asyncIterator])}function Se($){return new TypeError("You provided "+(null!==$&&"object"==typeof $?"an invalid object":"'"+$+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function _e($){return(0,l.FC)(this,arguments,function(){var ne,de,Re;return(0,l.Jh)(this,function(Ot){switch(Ot.label){case 0:ne=$.getReader(),Ot.label=1;case 1:Ot.trys.push([1,,9,10]),Ot.label=2;case 2:return[4,(0,l.qq)(ne.read())];case 3:return de=Ot.sent(),Re=de.value,de.done?[4,(0,l.qq)(void 0)]:[3,5];case 4:return[2,Ot.sent()];case 5:return[4,(0,l.qq)(Re)];case 6:return[4,Ot.sent()];case 7:return Ot.sent(),[3,2];case 8:return[3,10];case 9:return ne.releaseLock(),[7];case 10:return[2]}})})}function Ze($){return(0,B.m)($?.getReader)}var xt=L(3702);function ee($,se){return se?function dt($,se){if(null!=$){if(Ve($))return function ve($,se){return new re.y(function(ne){var de=new Ie.w0;return de.add(se.schedule(function(){var Re=$[Fe.L]();de.add(Re.subscribe({next:function(Le){de.add(se.schedule(function(){return ne.next(Le)}))},error:function(Le){de.add(se.schedule(function(){return ne.error(Le)}))},complete:function(){de.add(se.schedule(function(){return ne.complete()}))}}))})),de})}($,se);if((0,j.z)($))return(0,Y.r)($,se);if(oe($))return function De($,se){return new re.y(function(ne){return se.schedule(function(){return $.then(function(de){ne.add(se.schedule(function(){ne.next(de),ne.add(se.schedule(function(){return ne.complete()}))}))},function(de){ne.add(se.schedule(function(){return ne.error(de)}))})})})}($,se);if(Ee($))return Je($,se);if(me($))return function ot($,se){return new re.y(function(ne){var de;return ne.add(se.schedule(function(){de=$[U](),function fe($,se,ne,de){void 0===de&&(de=0);var Re=se.schedule(function(){try{ne.call(this)}catch(Le){$.error(Le)}},de);$.add(Re)}(ne,se,function(){var Re=de.next(),Le=Re.value;Re.done?ne.complete():(ne.next(Le),this.schedule())})})),function(){return(0,B.m)(de?.return)&&de.return()}})}($,se);if(Ze($))return function At($,se){return Je(_e($),se)}($,se)}throw Se($)}($,se):Te($)}function Te($){if($ instanceof re.y)return $;if(null!=$){if(Ve($))return function Z($){return new re.y(function(se){var ne=$[Fe.L]();if((0,B.m)(ne.subscribe))return ne.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($);if((0,j.z)($))return le($);if(oe($))return function te($){return new re.y(function(se){$.then(function(ne){se.closed||(se.next(ne),se.complete())},function(ne){return se.error(ne)}).then(null,xt.h)})}($);if(Ee($))return ye($);if(me($))return function Me($){return new re.y(function(se){var ne,de;try{for(var Re=(0,l.XA)($),Le=Re.next();!Le.done;Le=Re.next())if(se.next(Le.value),se.closed)return}catch(pt){ne={error:pt}}finally{try{Le&&!Le.done&&(de=Re.return)&&de.call(Re)}finally{if(ne)throw ne.error}}se.complete()})}($);if(Ze($))return function G($){return ye(_e($))}($)}throw Se($)}function le($){return new re.y(function(se){for(var ne=0;ne<$.length&&!se.closed;ne++)se.next($[ne]);se.complete()})}function ye($){return new re.y(function(se){(function ae($,se){var ne,de,Re,Le;return(0,l.mG)(this,void 0,void 0,function(){var pt;return(0,l.Jh)(this,function(it){switch(it.label){case 0:it.trys.push([0,5,6,11]),ne=(0,l.KL)($),it.label=1;case 1:return[4,ne.next()];case 2:if((de=it.sent()).done)return[3,4];if(se.next(de.value),se.closed)return[2];it.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return pt=it.sent(),Re={error:pt},[3,11];case 6:return it.trys.push([6,,9,10]),de&&!de.done&&(Le=ne.return)?[4,Le.call(ne)]:[3,8];case 7:it.sent(),it.label=8;case 8:return[3,10];case 9:if(Re)throw Re.error;return[7];case 10:return[7];case 11:return se.complete(),[2]}})})})($,se).catch(function(ne){return se.error(ne)})})}},1431:(Gt,je,L)=>{L.d(je,{h:()=>B});var l=L(5897),j=L(4524);function B(oe,Fe){return Fe?(0,l.r)(oe,Fe):(0,j.OO)(oe)}},1208:(Gt,je,L)=>{L.d(je,{T:()=>re});var l=L(8069),j=L(1431),B=L(4524),oe=L(8981),Fe=L(9664);function re(){for(var Ie=[],ve=0;ve<arguments.length;ve++)Ie[ve]=arguments[ve];var De=(0,Fe.yG)(Ie),Y=(0,Fe._6)(Ie,1/0),V=Ie;return V.length?1===V.length?(0,B.Xf)(V[0]):(0,l.J)(Y)((0,j.h)(V,De)):oe.E}},561:(Gt,je,L)=>{L.d(je,{Q:()=>B});var l=L(5987),B=function(oe){function Fe(re,Ie,ve,De,Y){var V=oe.call(this,re)||this;return V.onFinalize=Y,V._next=Ie?function(U){try{Ie(U)}catch(fe){re.error(fe)}}:oe.prototype._next,V._error=De?function(U){try{De(U)}catch(fe){re.error(fe)}finally{this.unsubscribe()}}:oe.prototype._error,V._complete=ve?function(){try{ve()}catch(U){re.error(U)}finally{this.unsubscribe()}}:oe.prototype._complete,V}return(0,l.ZT)(Fe,oe),Fe.prototype.unsubscribe=function(){var re,Ie=this.closed;oe.prototype.unsubscribe.call(this),!Ie&&(null===(re=this.onFinalize)||void 0===re||re.call(this))},Fe}(L(6664).Lv)},9891:(Gt,je,L)=>{L.d(je,{U:()=>B});var l=L(5011),j=L(561);function B(oe,Fe){return(0,l.e)(function(re,Ie){var ve=0;re.subscribe(new j.Q(Ie,function(De){Ie.next(oe.call(Fe,De,ve++))}))})}},8069:(Gt,je,L)=>{L.d(je,{J:()=>B});var l=L(9356),j=L(3377);function B(oe){return void 0===oe&&(oe=1/0),(0,l.z)(j.y,oe)}},9356:(Gt,je,L)=>{L.d(je,{z:()=>Ie});var l=L(9891),j=L(4524),B=L(5011),oe=L(561),re=L(4870);function Ie(ve,De,Y){return void 0===Y&&(Y=1/0),(0,re.m)(De)?Ie(function(V,U){return(0,l.U)(function(fe,ot){return De(V,fe,U,ot)})((0,j.Xf)(ve(V,U)))},Y):("number"==typeof De&&(Y=De),(0,B.e)(function(V,U){return function Fe(ve,De,Y,V,U,fe,ot,Je){var Ve=[],me=0,Ee=0,Se=!1,_e=function(){Se&&!Ve.length&&!me&&De.complete()},Ze=function(dt){return me<V?At(dt):Ve.push(dt)},At=function(dt){fe&&De.next(dt),me++;var xt=!1;(0,j.Xf)(Y(dt,Ee++)).subscribe(new oe.Q(De,function(ee){U?.(ee),fe?Ze(ee):De.next(ee)},function(){xt=!0},void 0,function(){if(xt)try{me--;for(var ee=function(){var Te=Ve.shift();ot?De.add(ot.schedule(function(){return At(Te)})):At(Te)};Ve.length&&me<V;)ee();_e()}catch(Te){De.error(Te)}}))};return ve.subscribe(new oe.Q(De,Ze,function(){Se=!0,_e()})),function(){Je?.()}}(V,U,ve,Y)}))}},592:(Gt,je,L)=>{L.d(je,{Q:()=>B});var l=L(5011),j=L(561);function B(oe,Fe){return void 0===Fe&&(Fe=0),(0,l.e)(function(re,Ie){re.subscribe(new j.Q(Ie,function(ve){return Ie.add(oe.schedule(function(){return Ie.next(ve)},Fe))},function(){return Ie.add(oe.schedule(function(){return Ie.complete()},Fe))},function(ve){return Ie.add(oe.schedule(function(){return Ie.error(ve)},Fe))}))})}},2092:(Gt,je,L)=>{L.d(je,{B:()=>Fe});var l=L(2873),j=L(6664),B=L(4524),oe=L(5011);function Fe(re){var Ie=(re=re||{}).connector,ve=void 0===Ie?function(){return new l.x}:Ie,De=re.resetOnComplete,Y=void 0===De||De,V=re.resetOnError,U=void 0===V||V,fe=re.resetOnRefCountZero,ot=void 0===fe||fe,Je=null,Ve=null,me=0,Ee=!1,Se=!1,_e=function(){Je=Ve=null,Ee=Se=!1};return(0,oe.e)(function(Ze,At){me++,Ve=Ve??ve(),At.add(function(){if(me--,ot&&!me&&!Se&&!Ee){var dt=Je;_e(),dt?.unsubscribe()}}),Ve.subscribe(At),Je||(Je=new j.Hp({next:function(dt){return Ve.next(dt)},error:function(dt){Se=!0;var xt=Ve;U&&_e(),xt.error(dt)},complete:function(){Ee=!0;var dt=Ve;Y&&_e(),dt.complete()}}),(0,B.Dp)(Ze).subscribe(Je))})}},5062:(Gt,je,L)=>{L.d(je,{R:()=>j});var l=L(5011);function j(B,oe){return void 0===oe&&(oe=0),(0,l.e)(function(Fe,re){re.add(B.schedule(function(){return Fe.subscribe(re)},oe))})}},2518:(Gt,je,L)=>{L.d(je,{b:()=>Fe});var l=L(4870),j=L(5011),B=L(561),oe=L(3377);function Fe(re,Ie,ve){var De=(0,l.m)(re)||Ie||ve?{next:re,error:Ie,complete:ve}:re;return De?(0,j.e)(function(Y,V){Y.subscribe(new B.Q(V,function(U){var fe;null===(fe=De.next)||void 0===fe||fe.call(De,U),V.next(U)},function(){var U;null===(U=De.complete)||void 0===U||U.call(De),V.complete()},function(U){var fe;null===(fe=De.error)||void 0===fe||fe.call(De,U),V.error(U)}))}):oe.y}},5897:(Gt,je,L)=>{L.d(je,{r:()=>j});var l=L(1482);function j(B,oe){return new l.y(function(Fe){var re=0;return oe.schedule(function(){re===B.length?Fe.complete():(Fe.next(B[re++]),Fe.closed||this.schedule())})})}},8139:(Gt,je,L)=>{L.d(je,{o:()=>re});var l=L(5987),B=function(Ie){function ve(De,Y){return Ie.call(this)||this}return(0,l.ZT)(ve,Ie),ve.prototype.schedule=function(De,Y){return void 0===Y&&(Y=0),this},ve}(L(1026).w0),oe={setInterval:function(){for(var Ie=[],ve=0;ve<arguments.length;ve++)Ie[ve]=arguments[ve];return(oe.delegate?.setInterval||setInterval).apply(void 0,(0,l.ev)([],(0,l.CR)(Ie)))},clearInterval:function(Ie){return(oe.delegate?.clearInterval||clearInterval)(Ie)},delegate:void 0},Fe=L(1549),re=function(Ie){function ve(De,Y){var V=Ie.call(this,De,Y)||this;return V.scheduler=De,V.work=Y,V.pending=!1,V}return(0,l.ZT)(ve,Ie),ve.prototype.schedule=function(De,Y){if(void 0===Y&&(Y=0),this.closed)return this;this.state=De;var V=this.id,U=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(U,V,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(U,this.id,Y),this},ve.prototype.requestAsyncId=function(De,Y,V){return void 0===V&&(V=0),oe.setInterval(De.flush.bind(De,this),V)},ve.prototype.recycleAsyncId=function(De,Y,V){if(void 0===V&&(V=0),null!=V&&this.delay===V&&!1===this.pending)return Y;oe.clearInterval(Y)},ve.prototype.execute=function(De,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var V=this._execute(De,Y);if(V)return V;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},ve.prototype._execute=function(De,Y){var U,V=!1;try{this.work(De)}catch(fe){V=!0,U=!!fe&&fe||new Error(fe)}if(V)return this.unsubscribe(),U},ve.prototype.unsubscribe=function(){if(!this.closed){var Y=this.id,V=this.scheduler,U=V.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fe.P)(U,this),null!=Y&&(this.id=this.recycleAsyncId(V,Y,null)),this.delay=null,Ie.prototype.unsubscribe.call(this)}},ve}(B)},2458:(Gt,je,L)=>{L.d(je,{v:()=>oe});var l=L(5987),j=L(5156),B=function(){function Fe(re,Ie){void 0===Ie&&(Ie=Fe.now),this.schedulerActionCtor=re,this.now=Ie}return Fe.prototype.schedule=function(re,Ie,ve){return void 0===Ie&&(Ie=0),new this.schedulerActionCtor(this,re).schedule(ve,Ie)},Fe.now=j.l.now,Fe}(),oe=function(Fe){function re(Ie,ve){void 0===ve&&(ve=B.now);var De=Fe.call(this,Ie,ve)||this;return De.actions=[],De._active=!1,De._scheduled=void 0,De}return(0,l.ZT)(re,Fe),re.prototype.flush=function(Ie){var ve=this.actions;if(this._active)ve.push(Ie);else{var De;this._active=!0;do{if(De=Ie.execute(Ie.state,Ie.delay))break}while(Ie=ve.shift());if(this._active=!1,De){for(;Ie=ve.shift();)Ie.unsubscribe();throw De}}},re}(B)},6405:(Gt,je,L)=>{L.d(je,{P:()=>oe,z:()=>B});var l=L(8139),B=new(L(2458).v)(l.o),oe=B},5156:(Gt,je,L)=>{L.d(je,{l:()=>l});var l={now:function(){return(l.delegate||Date).now()},delegate:void 0}},6815:(Gt,je,L)=>{L.d(je,{z:()=>j});var l=L(5987),j={setTimeout:function(){for(var B=[],oe=0;oe<arguments.length;oe++)B[oe]=arguments[oe];return(j.delegate?.setTimeout||setTimeout).apply(void 0,(0,l.ev)([],(0,l.CR)(B)))},clearTimeout:function(B){return(j.delegate?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4178:(Gt,je,L)=>{L.d(je,{L:()=>l});var l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9664:(Gt,je,L)=>{L.d(je,{_6:()=>re,jO:()=>oe,yG:()=>Fe});var l=L(4870),j=L(2315);function B(Ie){return Ie[Ie.length-1]}function oe(Ie){return(0,l.m)(B(Ie))?Ie.pop():void 0}function Fe(Ie){return(0,j.K)(B(Ie))?Ie.pop():void 0}function re(Ie,ve){return"number"==typeof B(Ie)?Ie.pop():ve}},1549:(Gt,je,L)=>{function l(j,B){if(j){var oe=j.indexOf(B);0<=oe&&j.splice(oe,1)}}L.d(je,{P:()=>l})},5490:(Gt,je,L)=>{function l(j){var oe=j(function(Fe){Error.call(Fe),Fe.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(je,{d:()=>l})},3377:(Gt,je,L)=>{function l(j){return j}L.d(je,{y:()=>l})},5719:(Gt,je,L)=>{L.d(je,{z:()=>l});var l=function(j){return j&&"number"==typeof j.length&&"function"!=typeof j}},4870:(Gt,je,L)=>{function l(j){return"function"==typeof j}L.d(je,{m:()=>l})},2315:(Gt,je,L)=>{L.d(je,{K:()=>j});var l=L(4870);function j(B){return B&&(0,l.m)(B.schedule)}},5011:(Gt,je,L)=>{L.d(je,{A:()=>j,e:()=>B});var l=L(4870);function j(oe){return(0,l.m)(oe?.lift)}function B(oe){return function(Fe){if(j(Fe))return Fe.lift(function(re){try{return oe(re,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},6313:(Gt,je,L)=>{function l(){}L.d(je,{Z:()=>l})},6527:(Gt,je,L)=>{L.d(je,{U:()=>B,z:()=>j});var l=L(3377);function j(){for(var oe=[],Fe=0;Fe<arguments.length;Fe++)oe[Fe]=arguments[Fe];return B(oe)}function B(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(re){return oe.reduce(function(Ie,ve){return ve(Ie)},re)}}},3702:(Gt,je,L)=>{L.d(je,{h:()=>B});var l=L(1823),j=L(6815);function B(oe){j.z.setTimeout(function(){var Fe=l.v.onUnhandledError;if(!Fe)throw oe;Fe(oe)})}},5987:(Gt,je,L)=>{L.d(je,{CR:()=>fe,FC:()=>Ee,Jh:()=>De,KL:()=>_e,XA:()=>U,ZT:()=>j,ev:()=>Ve,mG:()=>ve,qq:()=>me});var l=function(Z,le){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,Me){te.__proto__=Me}||function(te,Me){for(var ye in Me)Object.prototype.hasOwnProperty.call(Me,ye)&&(te[ye]=Me[ye])})(Z,le)};function j(Z,le){if("function"!=typeof le&&null!==le)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");function te(){this.constructor=Z}l(Z,le),Z.prototype=null===le?Object.create(le):(te.prototype=le.prototype,new te)}function ve(Z,le,te,Me){return new(te||(te=Promise))(function(G,ae){function $(de){try{ne(Me.next(de))}catch(Re){ae(Re)}}function se(de){try{ne(Me.throw(de))}catch(Re){ae(Re)}}function ne(de){de.done?G(de.value):function ye(G){return G instanceof te?G:new te(function(ae){ae(G)})}(de.value).then($,se)}ne((Me=Me.apply(Z,le||[])).next())})}function De(Z,le){var Me,ye,G,ae,te={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return ae={next:$(0),throw:$(1),return:$(2)},"function"==typeof Symbol&&(ae[Symbol.iterator]=function(){return this}),ae;function $(ne){return function(de){return function se(ne){if(Me)throw new TypeError("Generator is already executing.");for(;te;)try{if(Me=1,ye&&(G=2&ne[0]?ye.return:ne[0]?ye.throw||((G=ye.return)&&G.call(ye),0):ye.next)&&!(G=G.call(ye,ne[1])).done)return G;switch(ye=0,G&&(ne=[2&ne[0],G.value]),ne[0]){case 0:case 1:G=ne;break;case 4:return te.label++,{value:ne[1],done:!1};case 5:te.label++,ye=ne[1],ne=[0];continue;case 7:ne=te.ops.pop(),te.trys.pop();continue;default:if(!(G=(G=te.trys).length>0&&G[G.length-1])&&(6===ne[0]||2===ne[0])){te=0;continue}if(3===ne[0]&&(!G||ne[1]>G[0]&&ne[1]<G[3])){te.label=ne[1];break}if(6===ne[0]&&te.label<G[1]){te.label=G[1],G=ne;break}if(G&&te.label<G[2]){te.label=G[2],te.ops.push(ne);break}G[2]&&te.ops.pop(),te.trys.pop();continue}ne=le.call(Z,te)}catch(de){ne=[6,de],ye=0}finally{Me=G=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,de])}}}function U(Z){var le="function"==typeof Symbol&&Symbol.iterator,te=le&&Z[le],Me=0;if(te)return te.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&Me>=Z.length&&(Z=void 0),{value:Z&&Z[Me++],done:!Z}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(Z,le){var te="function"==typeof Symbol&&Z[Symbol.iterator];if(!te)return Z;var ye,ae,Me=te.call(Z),G=[];try{for(;(void 0===le||le-- >0)&&!(ye=Me.next()).done;)G.push(ye.value)}catch($){ae={error:$}}finally{try{ye&&!ye.done&&(te=Me.return)&&te.call(Me)}finally{if(ae)throw ae.error}}return G}function Ve(Z,le){for(var te=0,Me=le.length,ye=Z.length;te<Me;te++,ye++)Z[ye]=le[te];return Z}function me(Z){return this instanceof me?(this.v=Z,this):new me(Z)}function Ee(Z,le,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,Me=te.apply(Z,le||[]),G=[];return ye={},ae("next"),ae("throw"),ae("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function ae(Le){Me[Le]&&(ye[Le]=function(Ot){return new Promise(function(pt,it){G.push([Le,Ot,pt,it])>1||$(Le,Ot)})})}function $(Le,Ot){try{!function se(Le){Le.value instanceof me?Promise.resolve(Le.value.v).then(ne,de):Re(G[0][2],Le)}(Me[Le](Ot))}catch(pt){Re(G[0][3],pt)}}function ne(Le){$("next",Le)}function de(Le){$("throw",Le)}function Re(Le,Ot){Le(Ot),G.shift(),G.length&&$(G[0][0],G[0][1])}}function _e(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,le=Z[Symbol.asyncIterator];return le?le.call(Z):(Z=U(Z),te={},Me("next"),Me("throw"),Me("return"),te[Symbol.asyncIterator]=function(){return this},te);function Me(G){te[G]=Z[G]&&function(ae){return new Promise(function($,se){!function ye(G,ae,$,se){Promise.resolve(se).then(function(ne){G({value:ne,done:$})},ae)}($,se,(ae=Z[G](ae)).done,ae.value)})}}}},655:(Gt,je,L)=>{function oe(G,ae){var $={};for(var se in G)Object.prototype.hasOwnProperty.call(G,se)&&ae.indexOf(se)<0&&($[se]=G[se]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(se=Object.getOwnPropertySymbols(G);ne<se.length;ne++)ae.indexOf(se[ne])<0&&Object.prototype.propertyIsEnumerable.call(G,se[ne])&&($[se[ne]]=G[se[ne]])}return $}function U(G,ae,$,se){return new($||($=Promise))(function(de,Re){function Le(it){try{pt(se.next(it))}catch(rt){Re(rt)}}function Ot(it){try{pt(se.throw(it))}catch(rt){Re(rt)}}function pt(it){it.done?de(it.value):function ne(de){return de instanceof $?de:new $(function(Re){Re(de)})}(it.value).then(Le,Ot)}pt((se=se.apply(G,ae||[])).next())})}L.d(je,{_T:()=>oe,mG:()=>U})},4650:(Gt,je,L)=>{L.d(je,{$8M:()=>Jp,$WT:()=>pr,$Z:()=>Nm,AFp:()=>kb,ALo:()=>ub,AaK:()=>ve,BQk:()=>Sy,CHM:()=>q_,CRH:()=>pI,CZH:()=>If,CqO:()=>Km,D6c:()=>Mf,EJc:()=>Tk,EiD:()=>jA,EpF:()=>qM,F$t:()=>XM,F4k:()=>YM,FYo:()=>$c,FiY:()=>_o,Gf:()=>hI,GfV:()=>Am,Gpc:()=>V,Hsn:()=>Ou,Ikx:()=>Ny,JOm:()=>Xo,JVY:()=>Mr,JZr:()=>Ve,Jf7:()=>oM,KtG:()=>Y_,L6k:()=>ir,LAX:()=>FA,LFG:()=>Qe,LSH:()=>xh,Lbi:()=>xk,Lck:()=>$x,MAs:()=>Ey,MGl:()=>Xa,MMx:()=>nb,MR2:()=>ZA,NdJ:()=>il,O4$:()=>Qd,OlP:()=>qn,Oqu:()=>ef,P3R:()=>Ih,PXZ:()=>Fk,Q6J:()=>jE,QGY:()=>HE,QbO:()=>Ik,Qsj:()=>oB,R0b:()=>uo,RDi:()=>bh,Rgc:()=>yg,SBq:()=>Mh,Sil:()=>Tg,Suo:()=>fI,TTD:()=>jl,TgZ:()=>Zh,Udp:()=>rx,VKq:()=>Jx,W1O:()=>hl,WFA:()=>Kh,X6Q:()=>zk,XFs:()=>ke,Xpm:()=>be,Xts:()=>Sh,Y36:()=>la,YKP:()=>pf,YNc:()=>Ru,Yjl:()=>jn,Yz7:()=>rt,Z0I:()=>_t,ZZ4:()=>Ps,_Bn:()=>mg,_UZ:()=>Zm,_Vd:()=>Dh,_c5:()=>Ng,_uU:()=>Py,aQg:()=>Yb,c2e:()=>FI,cJS:()=>Ct,cg1:()=>By,d8E:()=>Fy,dDg:()=>Ok,dqk:()=>ut,eBb:()=>Bv,eFA:()=>Vk,ekj:()=>ox,eoX:()=>Pk,f3M:()=>ht,g9A:()=>NI,h0i:()=>Lo,hGG:()=>Fg,hij:()=>tf,iGM:()=>dI,ifc:()=>ge,ip1:()=>xf,jDz:()=>Wx,kL8:()=>Ex,kYT:()=>we,kcU:()=>iv,lG2:()=>Vt,lqb:()=>aa,lri:()=>$I,mCW:()=>Vv,n5z:()=>ah,n_E:()=>hb,oAB:()=>Q,oxw:()=>QM,pB0:()=>wm,q3G:()=>Vi,q4F:()=>Yv,qLn:()=>xu,qOj:()=>py,qZA:()=>Qa,qzn:()=>Pn,rWj:()=>Ob,sBO:()=>ZI,s_b:()=>wg,soG:()=>Sg,tBr:()=>Bc,tb:()=>Sf,tp0:()=>Vc,uIk:()=>yy,vHH:()=>me,vpe:()=>rs,wAp:()=>nn,xi3:()=>cI,xp6:()=>hM,ynx:()=>Iy,z2F:()=>Rg,z3N:()=>oa,zSh:()=>Im,zs3:()=>Gc});var l=L(2873),j=L(1026),B=L(1482),oe=L(1208),Fe=L(2092);function re(s){for(let a in s)if(s[a]===re)return a;throw Error("Could not find renamed property on target object.")}function Ie(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function De(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Y=re({__forward_ref__:re});function V(s){return s.__forward_ref__=V,s.toString=function(){return ve(this())},s}function U(s){return fe(s)?s():s}function fe(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===V}function ot(s){return s&&!!s.\u0275providers}const Ve="https://g.co/ng/security#xss";class me extends Error{constructor(a,u){super(Ee(a,u)),this.code=a}}function Ee(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function xt(s,a){throw new me(-201,!1)}function Re(s,a){null==s&&function Le(s,a,u,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ct(s){return{providers:s.providers||[],imports:s.imports||[]}}function vt(s){return Lt(s,ei)||Lt(s,pe)}function _t(s){return null!==vt(s)}function Lt(s,a){return s.hasOwnProperty(a)?s[a]:null}function Rn(s){return s&&(s.hasOwnProperty(at)||s.hasOwnProperty(Be))?s[at]:null}const ei=re({\u0275prov:re}),at=re({\u0275inj:re}),pe=re({ngInjectableDef:re}),Be=re({ngInjectorDef:re});var ke=(()=>((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke))();let Tt;function Kt(s){const a=Tt;return Tt=s,a}function bn(s,a,u){const h=vt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&ke.Optional?null:void 0!==a?a:void xt(ve(s))}const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},Ln="__NG_DI_FLAG__",ni="ngTempTokenPath",Bn="ngTokenPath",Un=/\n/gm,jt="\u0275",pi="__source";let rn;function Ei(s){const a=rn;return rn=s,a}function Qn(s,a=ke.Default){if(void 0===rn)throw new me(-203,!1);return null===rn?bn(s,void 0,a):rn.get(s,a&ke.Optional?null:void 0,a)}function Qe(s,a=ke.Default){return(function tn(){return Tt}()||Qn)(U(s),a)}function ht(s,a=ke.Default){return Qe(s,Bt(a))}function Bt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Xt(s){const a=[];for(let u=0;u<s.length;u++){const h=U(s[u]);if(Array.isArray(h)){if(0===h.length)throw new me(900,!1);let f,m=ke.Default;for(let y=0;y<h.length;y++){const C=h[y],I=W(C);"number"==typeof I?-1===I?f=C.token:m|=I:f=C}a.push(Qe(f,m))}else a.push(Qe(h))}return a}function fn(s,a){return s[Ln]=a,s.prototype[Ln]=a,s}function W(s){return s[Ln]}function R(s){return{toString:s}.toString()}var D=(()=>((D=D||{})[D.OnPush=0]="OnPush",D[D.Default=1]="Default",D))(),ge=(()=>{return(s=ge||(ge={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ge;var s})();const Ge={},Ue=[],mt=re({\u0275cmp:re}),lt=re({\u0275dir:re}),In=re({\u0275pipe:re}),Vn=re({\u0275mod:re}),Jt=re({\u0275fac:re}),zn=re({__NG_ELEMENT_ID__:re});let ie=0;function be(s){return R(()=>{const u=!0===s.standalone,h={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ge.Emulated,id:"c"+ie++,styles:s.styles||Ue,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},m=s.dependencies,y=s.features;return f.inputs=Ye(s.inputs,h),f.outputs=Ye(s.outputs),y&&y.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Dt).filter(Ht):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Hn).filter(Ht):null,f})}function Dt(s){return Ut(s)||Pt(s)}function Ht(s){return null!==s}function Q(s){return R(()=>({type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function we(s,a){return R(()=>{const u=Xn(s,!0);u.declarations=a.declarations||Ue,u.imports=a.imports||Ue,u.exports=a.exports||Ue})}function Ye(s,a){if(null==s)return Ge;const u={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,a&&(a[f]=m)}return u}const Vt=be;function jn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ut(s){return s[mt]||null}function Pt(s){return s[lt]||null}function Hn(s){return s[In]||null}function pr(s){const a=Ut(s)||Pt(s)||Hn(s);return null!==a&&a.standalone}function Xn(s,a){const u=s[Vn]||null;if(!u&&!0===a)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}const mr=0,It=1,dn=2,li=3,Er=4,mo=5,Gi=6,go=7,ii=8,Fl=9,gr=10,yn=11,Ta=12,zs=13,js=14,Hs=15,Wi=16,Ll=17,Go=18,xr=19,Ir=20,zd=21,ri=22,jd=1,Bl=2,Vl=7,Da=8,Aa=9,tr=10;function jr(s){return Array.isArray(s)&&"object"==typeof s[jd]}function Hr(s){return Array.isArray(s)&&!0===s[jd]}function Wo(s){return 0!=(4&s.flags)}function Ec(s){return s.componentOffset>-1}function Ul(s){return 1==(1&s.flags)}function nr(s){return null!==s.template}function sC(s){return 0!=(256&s[dn])}function Gs(s,a){return s.hasOwnProperty(Jt)?s[Jt]:null}class dC{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function jl(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Sc),$d}function $d(){const s=Pp(this),a=s?.current;if(a){const u=s.previous;if(u===Ge)s.previous=a;else for(let h in a)u[h]=a[h];s.current=null,this.ngOnChanges(a)}}function Sc(s,a,u,h){const f=this.declaredInputs[u],m=Pp(s)||function Gl(s,a){return s[$l]=a}(s,{previous:Ge,current:null}),y=m.current||(m.current={}),C=m.previous,I=C[f];y[f]=new dC(I&&I.currentValue,a,C===Ge),s[h]=a}jl.ngInherit=!0;const $l="__ngSimpleChanges__";function Pp(s){return s[$l]||null}const Sr=function(s,a,u){},Wl="svg";function Pi(s){for(;Array.isArray(s);)s=s[mr];return s}function ka(s,a){return Pi(a[s])}function cr(s,a){return Pi(a[s.index])}function Np(s,a){return s.data[a]}function Ws(s,a){return s[a]}function lr(s,a){const u=a[s];return jr(u)?u:u[mr]}function qs(s){return 64==(64&s[dn])}function Yo(s,a){return null==a?null:s[a]}function Fp(s){s[Go]=0}function Dc(s,a){s[mo]+=a;let u=s,h=s[li];for(;null!==h&&(1===a&&1===u[mo]||-1===a&&0===u[mo]);)h[mo]+=a,u=h,h=h[li]}const ln={lFrame:J_(null),bindingsEnabled:!0};function Lp(){return ln.bindingsEnabled}function Oe(){return ln.lFrame.lView}function Tn(){return ln.lFrame.tView}function q_(s){return ln.lFrame.contextLView=s,s[ii]}function Y_(s){return ln.lFrame.contextLView=null,s}function qi(){let s=Z_();for(;null!==s&&64===s.type;)s=s.parent;return s}function Z_(){return ln.lFrame.currentTNode}function ko(s,a){const u=ln.lFrame;u.currentTNode=s,u.isParent=a}function Zl(){return ln.lFrame.isParent}function Vp(){ln.lFrame.isParent=!1}function _r(){const s=ln.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ys(){return ln.lFrame.bindingIndex++}function jp(s,a){const u=ln.lFrame;u.bindingIndex=u.bindingRootIndex=s,ys(a)}function ys(s){ln.lFrame.currentDirectiveIndex=s}function Ac(s){const a=ln.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Q_(){return ln.lFrame.currentQueryIndex}function Hp(s){ln.lFrame.currentQueryIndex=s}function pC(s){const a=s[It];return 2===a.type?a.declTNode:1===a.type?s[Gi]:null}function X_(s,a,u){if(u&ke.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||u&ke.Host||(f=pC(m),null===f||(m=m[Hs],10&f.type))););if(null===f)return!1;a=f,s=m}const h=ln.lFrame=mC();return h.currentTNode=a,h.lView=s,!0}function $p(s){const a=mC(),u=s[It];ln.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function mC(){const s=ln.lFrame,a=null===s?null:s.child;return null===a?J_(s):a}function J_(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ev(){const s=ln.lFrame;return ln.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const tv=ev;function nv(){const s=ev();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return ln.lFrame.selectedIndex}function Zo(s){ln.lFrame.selectedIndex=s}function Zn(){const s=ln.lFrame;return Np(s.tView,s.selectedIndex)}function Qd(){ln.lFrame.currentNamespace=Wl}function iv(){!function vC(){ln.lFrame.currentNamespace=null}()}function Mc(s,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:k}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),C&&((s.contentHooks||(s.contentHooks=[])).push(u,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function Xd(s,a,u){Na(s,a,3,u)}function Zs(s,a,u,h){(3&s[dn])===u&&Na(s,a,u,h)}function Pa(s,a){let u=s[dn];(3&u)===a&&(u&=2047,u+=1,s[dn]=u)}function Na(s,a,u,h){const m=h??-1,y=a.length-1;let C=0;for(let I=void 0!==h?65535&s[Go]:0;I<y;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=h&&C>=h)break}else a[I]<0&&(s[Go]+=65536),(C<m||-1==m)&&(rv(s,u,a,I),s[Go]=(4294901760&s[Go])+I+2),I++}function rv(s,a,u,h){const f=u[h]<0,m=u[h+1],C=s[f?-u[h]:u[h]];if(f){if(s[dn]>>11<s[Go]>>16&&(3&s[dn])===a){s[dn]+=2048,Sr(4,C,m);try{m.call(C)}finally{Sr(5,C,m)}}}else{Sr(4,C,m);try{m.call(C)}finally{Sr(5,C,m)}}}const Ko=-1;class Xl{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Jl(s,a,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],y=u[h++],C=u[h++];s.setAttribute(a,y,C,m)}else{const m=f,y=u[++h];th(m)?s.setProperty(a,m,y):s.setAttribute(a,m,y),h++}}return h}function ws(s){return 3===s||4===s||6===s}function th(s){return 64===s.charCodeAt(0)}function Qo(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?u=f:0===u||eu(s,u,f,null,-1===u||2===u?a[++h]:null)}}return s}function eu(s,a,u,h,f){let m=0,y=s.length;if(-1===a)y=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(s[m+1]=f));if(h===s[m+1])return void(s[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==y&&(s.splice(y,0,a),m=y+1),s.splice(m++,0,u),null!==h&&s.splice(m++,0,h),null!==f&&s.splice(m++,0,f)}function nh(s){return s!==Ko}function Fa(s){return 32767&s}function Ks(s,a){let u=function sv(s){return s>>16}(s),h=a;for(;u>0;)h=h[Hs],u--;return h}let tu=!0;function Cs(s){const a=tu;return tu=s,a}const ih=255,Qs=5;let nu=0;const io={};function Xs(s,a){const u=qp(s,a);if(-1!==u)return u;const h=a[It];h.firstCreatePass&&(s.injectorIndex=a.length,iu(h.data,s),iu(a,null),iu(h.blueprint,null));const f=rh(s,a),m=s.injectorIndex;if(nh(f)){const y=Fa(f),C=Ks(f,a),I=C[It].data;for(let S=0;S<8;S++)a[m+S]=C[y+S]|I[y+S]}return a[m+8]=f,m}function iu(s,a){s.push(0,0,0,0,0,0,0,0,a)}function qp(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function rh(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,h=null,f=a;for(;null!==f;){if(h=Va(f),null===h)return Ko;if(u++,f=f[Hs],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return Ko}function oh(s,a,u){!function Wp(s,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(zn)&&(h=u[zn]),null==h&&(h=u[zn]=nu++);const f=h&ih;a.data[s+(f>>Qs)]|=1<<f}(s,a,u)}function Zp(s,a,u){if(u&ke.Optional||void 0!==s)return s;xt()}function Kp(s,a,u,h){if(u&ke.Optional&&void 0===h&&(h=null),!(u&(ke.Self|ke.Host))){const f=s[Fl],m=Kt(void 0);try{return f?f.get(a,h,u&ke.Optional):bn(a,h,u&ke.Optional)}finally{Kt(m)}}return Zp(h,0,u)}function ru(s,a,u,h=ke.Default,f){if(null!==s){if(1024&a[dn]){const y=function Xp(s,a,u,h,f){let m=s,y=a;for(;null!==m&&null!==y&&1024&y[dn]&&!(256&y[dn]);){const C=sh(m,y,u,h|ke.Self,io);if(C!==io)return C;let I=m.parent;if(!I){const S=y[zd];if(S){const k=S.get(u,io,h);if(k!==io)return k}I=Va(y),y=y[Hs]}m=I}return f}(s,a,u,h,io);if(y!==io)return y}const m=sh(s,a,u,h,io);if(m!==io)return m}return Kp(a,u,h,f)}function sh(s,a,u,h,f){const m=function av(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(zn)?s[zn]:void 0;return"number"==typeof a?a>=0?a&ih:cv:a}(u);if("function"==typeof m){if(!X_(a,s,h))return h&ke.Host?Zp(f,0,h):Kp(a,u,h,f);try{const y=m(h);if(null!=y||h&ke.Optional)return y;xt()}finally{tv()}}else if("number"==typeof m){let y=null,C=qp(s,a),I=Ko,S=h&ke.Host?a[Wi][Gi]:null;for((-1===C||h&ke.SkipSelf)&&(I=-1===C?rh(s,a):a[C+8],I!==Ko&&Oc(h,!1)?(y=a[It],C=Fa(I),a=Ks(I,a)):C=-1);-1!==C;){const k=a[It];if(Qp(m,C,k.data)){const z=wC(C,a,u,y,h,S);if(z!==io)return z}I=a[C+8],I!==Ko&&Oc(h,a[It].data[C+8]===S)&&Qp(m,C,a)?(y=k,C=Fa(I),a=Ks(I,a)):C=-1}}return f}function wC(s,a,u,h,f,m){const y=a[It],C=y.data[s+8],k=La(C,y,u,null==h?Ec(C)&&tu:h!=y&&0!=(3&C.type),f&ke.Host&&m===C);return null!==k?Js(a,y,k,C):io}function La(s,a,u,h,f){const m=s.providerIndexes,y=a.data,C=1048575&m,I=s.directiveStart,k=m>>20,X=f?C+k:s.directiveEnd;for(let ue=h?C:C+k;ue<X;ue++){const Pe=y[ue];if(ue<I&&u===Pe||ue>=I&&Pe.type===u)return ue}if(f){const ue=y[I];if(ue&&nr(ue)&&ue.type===u)return I}return null}function Js(s,a,u,h){let f=s[u];const m=a.data;if(function Jd(s){return s instanceof Xl}(f)){const y=f;y.resolving&&function Ze(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new me(-200,`Circular dependency in DI detected for ${s}${u}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(m[u]));const C=Cs(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Kt(y.injectImpl):null;X_(s,h,ke.Default);try{f=s[u]=y.factory(void 0,m,s,h),a.firstCreatePass&&u>=h.directiveStart&&function Gp(s,a,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const y=Hl(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],a)}finally{null!==I&&Kt(I),Cs(C),y.resolving=!1,tv()}}return f}function Qp(s,a,u){return!!(u[a+(s>>Qs)]&1<<s)}function Oc(s,a){return!(s&ke.Self||s&ke.Host&&a)}class ea{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return ru(this._tNode,this._lView,a,Bt(h),u)}}function cv(){return new ea(qi(),Oe())}function ah(s){return R(()=>{const a=s.prototype.constructor,u=a[Jt]||Ba(a),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const m=f[Jt]||Ba(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Ba(s){return fe(s)?()=>{const a=Ba(U(s));return a&&a()}:Gs(s)}function Va(s){const a=s[It],u=a.type;return 2===u?a.declTNode:1===u?s[Gi]:null}function Jp(s){return function Yp(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(ws(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(qi(),s)}const Pc="__parameters__";function za(s,a,u){return R(()=>{const h=function ch(s){return function(...u){if(s){const h=s(...u);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const y=new f(...m);return C.annotation=y,C;function C(I,S,k){const z=I.hasOwnProperty(Pc)?I[Pc]:Object.defineProperty(I,Pc,{value:[]})[Pc];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(y),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class qn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ia(s,a){s.forEach(u=>Array.isArray(u)?ia(u,a):a(u))}function dv(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function lh(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ha(s,a){const u=[];for(let h=0;h<s;h++)u.push(a);return u}function ur(s,a,u){let h=ro(s,a);return h>=0?s[1|h]=u:(h=~h,function uh(s,a,u,h){let f=s.length;if(f==a)s.push(u,h);else if(1===f)s.push(h,s[0]),s[0]=u;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=u,s[a+1]=h}}(s,h,a,u)),h}function im(s,a){const u=ro(s,a);if(u>=0)return s[1|u]}function ro(s,a){return function fv(s,a,u){let h=0,f=s.length>>u;for(;f!==h;){const m=h+(f-h>>1),y=s[m<<u];if(a===y)return m<<u;y>a?f=m:h=m+1}return~(f<<u)}(s,a,1)}const Bc=fn(za("Inject",s=>({token:s})),-1),_o=fn(za("Optional"),8),Vc=fn(za("SkipSelf"),4);var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();const dm=new Map;let hm=0;const mm="__ngContext__";function vr(s,a){jr(a)?(s[mm]=a[Ir],function Cv(s){dm.set(s[Ir],s)}(a)):s[mm]=a}let he;function He(s,a){return he(s,a)}function $t(s){const a=s[li];return Hr(a)?a[li]:a}function so(s){return gu(s[zs])}function Po(s){return gu(s[Er])}function gu(s){for(;null!==s&&!Hr(s);)s=s[Er];return s}function Ga(s,a,u,h,f){if(null!=h){let m,y=!1;Hr(h)?m=h:jr(h)&&(y=!0,h=h[mr]);const C=Pi(h);0===s&&null!==u?null==f?IA(a,u,C):yu(a,u,C,f||null,!0):1===s&&null!==u?yu(a,u,C,f||null,!0):2===s?function jC(s,a,u){const h=kv(s,a);h&&function z2(s,a,u,h){s.removeChild(a,u,h)}(s,h,a,u)}(a,C,y):3===s&&a.destroyNode(C),null!=m&&function $2(s,a,u,h,f){const m=u[Vl];m!==Pi(u)&&Ga(a,s,h,m,f);for(let C=tr;C<u.length;C++){const I=u[C];bm(I[It],I,s,a,h,m)}}(a,s,m,u,f)}}function vu(s,a,u){return s.createElement(a,u)}function Mv(s,a){const u=s[Aa],h=u.indexOf(a),f=a[li];512&a[dn]&&(a[dn]&=-513,Dc(f,-1)),u.splice(h,1)}function BC(s,a){if(s.length<=tr)return;const u=tr+a,h=s[u];if(h){const f=h[Ll];null!==f&&f!==s&&Mv(f,h),a>0&&(s[u-1][Er]=h[Er]);const m=lh(s,tr+a);!function Tv(s,a){bm(s,a,a[yn],2,null,null),a[mr]=null,a[Gi]=null}(h[It],h);const y=m[xr];null!==y&&y.detachView(m[It]),h[li]=null,h[Er]=null,h[dn]&=-65}return h}function CA(s,a){if(!(128&a[dn])){const u=a[yn];u.destroyNode&&bm(s,a,u,3,null,null),function Av(s){let a=s[zs];if(!a)return VC(s[It],s);for(;a;){let u=null;if(jr(a))u=a[zs];else{const h=a[tr];h&&(u=h)}if(!u){for(;a&&!a[Er]&&a!==s;)jr(a)&&VC(a[It],a),a=a[li];null===a&&(a=s),jr(a)&&VC(a[It],a),u=a&&a[Er]}a=u}}(a)}}function VC(s,a){if(!(128&a[dn])){a[dn]&=-65,a[dn]|=128,function U2(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let h=0;h<u.length;h+=2){const f=a[u[h]];if(!(f instanceof Xl)){const m=u[h+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=f[m[y]],I=m[y+1];Sr(4,C,I);try{I.call(C)}finally{Sr(5,C,I)}}else{Sr(4,f,m);try{m.call(f)}finally{Sr(5,f,m)}}}}}(s,a),function V2(s,a){const u=s.cleanup,h=a[go];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+3];y>=0?h[f=y]():h[f=-y].unsubscribe(),m+=2}else{const y=h[f=u[m+1]];u[m].call(y)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();a[go]=null}}(s,a),1===a[It].type&&a[yn].destroy();const u=a[Ll];if(null!==u&&Hr(a[li])){u!==a[li]&&Mv(u,a);const h=a[xr];null!==h&&h.detachView(s)}!function pm(s){dm.delete(s[Ir])}(a)}}function EA(s,a,u){return function xA(s,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[mr];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:m}=s.data[h.directiveStart+f];if(m===ge.None||m===ge.Emulated)return null}return cr(h,u)}}(s,a.parent,u)}function yu(s,a,u,h,f){s.insertBefore(a,u,h,f)}function IA(s,a,u){s.appendChild(a,u)}function SA(s,a,u,h,f){null!==h?yu(s,a,u,h,f):IA(s,a,u)}function kv(s,a){return s.parentNode(a)}function TA(s,a,u){return AA(s,a,u)}let UC,Pv,Nv,zc,AA=function DA(s,a,u){return 40&s.type?cr(s,u):null};function Rv(s,a,u,h){const f=EA(s,h,a),m=a[yn],C=TA(h.parent||a[Gi],h,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)SA(m,f,u[I],C,!1);else SA(m,f,u,C,!1);void 0!==UC&&UC(m,h,a,u,f)}function Ov(s,a){if(null!==a){const u=a.type;if(3&u)return cr(a,s);if(4&u)return zC(-1,s[a.index]);if(8&u){const h=a.child;if(null!==h)return Ov(s,h);{const f=s[a.index];return Hr(f)?zC(-1,f):Pi(f)}}if(32&u)return He(a,s)()||Pi(s[a.index]);{const h=kA(s,a);return null!==h?Array.isArray(h)?h[0]:Ov($t(s[Wi]),h):Ov(s,a.next)}}return null}function kA(s,a){return null!==a?s[Wi][Gi].projection[a.projection]:null}function zC(s,a){const u=tr+s+1;if(u<a.length){const h=a[u],f=h[It].firstChild;if(null!==f)return Ov(h,f)}return a[Vl]}function HC(s,a,u,h,f,m,y){for(;null!=u;){const C=h[u.index],I=u.type;if(y&&0===a&&(C&&vr(Pi(C),h),u.flags|=2),32!=(32&u.flags))if(8&I)HC(s,a,u.child,h,f,m,!1),Ga(a,s,f,C,m);else if(32&I){const S=He(u,h);let k;for(;k=S();)Ga(a,s,f,k,m);Ga(a,s,f,C,m)}else 16&I?RA(s,a,h,u,f,m):Ga(a,s,f,C,m);u=y?u.projectionNext:u.next}}function bm(s,a,u,h,f,m){HC(u,h,s.firstChild,a,f,m,!1)}function RA(s,a,u,h,f,m){const y=u[Wi],I=y[Gi].projection[h.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Ga(a,s,f,I[S],m);else HC(s,a,I,y[li],f,m,!0)}function OA(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function PA(s,a,u){const{mergedAttrs:h,classes:f,styles:m}=u;null!==h&&Jl(s,a,h),null!==f&&OA(s,a,f),null!==m&&function W2(s,a,u){s.setAttribute(a,"style",u)}(s,a,m)}function bu(s){return function $C(){if(void 0===Pv&&(Pv=null,ut.trustedTypes))try{Pv=ut.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pv}()?.createHTML(s)||s}function bh(s){Nv=s}function Ti(s){return function Li(){if(void 0===zc&&(zc=null,ut.trustedTypes))try{zc=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return zc}()?.createScriptURL(s)||s}class kt{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ve})`}}class Wa extends kt{getTypeName(){return"HTML"}}class ao extends kt{getTypeName(){return"Style"}}class GC extends kt{getTypeName(){return"Script"}}class wh extends kt{getTypeName(){return"URL"}}class Lv extends kt{getTypeName(){return"ResourceURL"}}function oa(s){return s instanceof kt?s.changingThisBreaksApplicationSecurity:s}function Pn(s,a){const u=function NA(s){return s instanceof kt&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${Ve})`)}return u===a}function Mr(s){return new Wa(s)}function ir(s){return new ao(s)}function Bv(s){return new GC(s)}function FA(s){return new wh(s)}function wm(s){return new Lv(s)}class wu{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(bu(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class K2{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=bu(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=bu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const y=u.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Q2=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Vv(s){return(s=String(s)).match(Q2)?s:"unsafe:"+s}function sa(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function Di(...s){const a={};for(const u of s)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const WC=sa("area,br,col,hr,img,wbr"),qC=sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YC=sa("rp,rt"),Uv=Di(WC,Di(qC,sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Di(YC,sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Di(YC,qC)),zv=sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cm=Di(zv,sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UA=sa("script,style,template");class KC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Uv.hasOwnProperty(u))return this.sanitizedSomething=!0,!UA.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),y=m.name,C=y.toLowerCase();if(!Cm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=m.value;zv[C]&&(I=Vv(I)),this.buf.push(" ",y,'="',Eh(I),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Uv.hasOwnProperty(u)&&!WC.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Eh(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Ch=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zA=/([^\#-~ |!])/g;function Eh(s){return s.replace(/&/g,"&amp;").replace(Ch,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(zA,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kr;function jA(s,a){let u=null;try{kr=kr||function Bi(s){const a=new K2(s);return function LA(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch{return!1}}()?new wu(a):a}(s);let h=a?String(a):"";u=kr.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=kr.getInertBodyElement(h)}while(h!==m);return bu((new KC).sanitizeChildren(Em(u)||u))}finally{if(u){const h=Em(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Em(s){return"content"in s&&function Cu(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Vi=(()=>((Vi=Vi||{})[Vi.NONE=0]="NONE",Vi[Vi.HTML=1]="HTML",Vi[Vi.STYLE=2]="STYLE",Vi[Vi.SCRIPT=3]="SCRIPT",Vi[Vi.URL=4]="URL",Vi[Vi.RESOURCE_URL=5]="RESOURCE_URL",Vi))();function xh(s){const a=qa();return a?a.sanitize(Vi.URL,s)||"":Pn(s,"URL")?oa(s):Vv(Se(s))}function jv(s){const a=qa();if(a)return Ti(a.sanitize(Vi.RESOURCE_URL,s)||"");if(Pn(s,"ResourceURL"))return Ti(oa(s));throw new me(904,!1)}function Ih(s,a,u){return function qA(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?jv:xh}(a,u)(s)}function qa(){const s=Oe();return s&&s[Ta]}const Sh=new qn("ENVIRONMENT_INITIALIZER"),XC=new qn("INJECTOR",-1),xm=new qn("INJECTOR_DEF_TYPES");class Hv{get(a,u=xn){if(u===xn){const h=new Error(`NullInjectorError: No provider for ${ve(a)}!`);throw h.name="NullInjectorError",h}return u}}function ZA(s){return{\u0275providers:s}}function eB(...s){return{\u0275providers:JC(0,s),\u0275fromNgModule:!0}}function JC(s,...a){const u=[],h=new Set;let f;return ia(a,m=>{const y=m;Eu(y,u,[],h)&&(f||(f=[]),f.push(y))}),void 0!==f&&KA(f,u),u}function KA(s,a){for(let u=0;u<s.length;u++){const{providers:f}=s[u];$v(f,m=>{a.push(m)})}}function Eu(s,a,u,h){if(!(s=U(s)))return!1;let f=null,m=Rn(s);const y=!m&&Ut(s);if(m||y){if(y&&!y.standalone)return!1;f=s}else{const I=s.ngModule;if(m=Rn(I),!m)return!1;f=I}const C=h.has(f);if(y){if(C)return!1;if(h.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)Eu(S,a,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let S;h.add(f);try{ia(m.imports,k=>{Eu(k,a,u,h)&&(S||(S=[]),S.push(k))})}finally{}void 0!==S&&KA(S,a)}if(!C){const S=Gs(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:Ue},{provide:xm,useValue:f,multi:!0},{provide:Sh,useValue:()=>Qe(f),multi:!0})}const I=m.providers;null==I||C||$v(I,k=>{a.push(k)})}}return f!==s&&void 0!==s.providers}function $v(s,a){for(let u of s)ot(u)&&(u=u.\u0275providers),Array.isArray(u)?$v(u,a):a(u)}const QA=re({provide:String,useValue:re});function Gv(s){return null!==s&&"object"==typeof s&&QA in s}function jc(s){return"function"==typeof s}const Im=new qn("Set Injector scope."),Sm={},XA={};let Wv;function Tm(){return void 0===Wv&&(Wv=new Hv),Wv}class aa{}class JA extends aa{get destroyed(){return this._destroyed}constructor(a,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qv(a,y=>this.processProvider(y)),this.records.set(XC,Th(void 0,this)),f.has("environment")&&this.records.set(aa,Th(void 0,this));const m=this.records.get(Im);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(xm.multi,Ue,ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=Ei(this),h=Kt(void 0);try{return a()}finally{Ei(u),Kt(h)}}get(a,u=xn,h=ke.Default){this.assertNotDestroyed(),h=Bt(h);const f=Ei(this),m=Kt(void 0);try{if(!(h&ke.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function tM(s){return"function"==typeof s||"object"==typeof s&&s instanceof qn}(a)&&vt(a);C=I&&this.injectableDefInScope(I)?Th(iE(a),Sm):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&ke.Self?Tm():this.parent).get(a,u=h&ke.Optional&&u===xn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[ni]=y[ni]||[]).unshift(ve(a)),f)throw y;return function H(s,a,u,h){const f=s[ni];throw a[pi]&&f.unshift(a[pi]),s.message=function O(s,a,u,h=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==jt?s.slice(2):s;let f=ve(a);if(Array.isArray(a))f=a.map(ve).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${s.replace(Un,"\n  ")}`}("\n"+s.message,f,u,h),s[Bn]=f,s[ni]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Kt(m),Ei(f)}}resolveInjectorInitializers(){const a=Ei(this),u=Kt(void 0);try{const h=this.get(Sh.multi,Ue,ke.Self);for(const f of h)f()}finally{Ei(a),Kt(u)}}toString(){const a=[],u=this.records;for(const h of u.keys())a.push(ve(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(a){let u=jc(a=U(a))?a:U(a&&a.provide);const h=function iB(s){return Gv(s)?Th(void 0,s.useValue):Th(eM(s),Sm)}(a);if(jc(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Th(void 0,Sm,!0),f.factory=()=>Xt(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,h)}hydrate(a,u){return u.value===Sm&&(u.value=XA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function oE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=U(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function iE(s){const a=vt(s),u=null!==a?a.factory:Gs(s);if(null!==u)return u;if(s instanceof qn)throw new me(204,!1);if(s instanceof Function)return function nB(s){const a=s.length;if(a>0)throw Ha(a,"?"),new me(204,!1);const u=function mn(s){const a=s&&(s[ei]||s[pe]);if(a){const u=function Mn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new me(204,!1)}function eM(s,a,u){let h;if(jc(s)){const f=U(s);return Gs(f)||iE(f)}if(Gv(s))h=()=>U(s.useValue);else if(function tE(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Xt(s.deps||[]));else if(function eE(s){return!(!s||!s.useExisting)}(s))h=()=>Qe(U(s.useExisting));else{const f=U(s&&(s.useClass||s.provide));if(!function rE(s){return!!s.deps}(s))return Gs(f)||iE(f);h=()=>new f(...Xt(s.deps))}return h}function Th(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function qv(s,a){for(const u of s)Array.isArray(u)?qv(u,a):u&&ot(u)?qv(u.\u0275providers,a):a(u)}class sE{}class Hc{}class iM{resolveComponentFactory(a){throw function nM(s){const a=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Dh=(()=>{class s{}return s.NULL=new iM,s})();function cE(){return Ah(qi(),Oe())}function Ah(s,a){return new Mh(cr(s,a))}let Mh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=cE,s})();function Dm(s){return s instanceof Mh?s.nativeElement:s}class $c{}let oB=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lE(){const s=Oe(),u=lr(qi().index,s);return(jr(u)?u:s)[yn]}(),s})(),uE=(()=>{class s{}return s.\u0275prov=rt({token:s,providedIn:"root",factory:()=>null}),s})();class Am{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Yv=new Am("15.1.3"),Mm={},Zv="ngOriginalError";function Kv(s){return s[Zv]}class xu{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Kv(a);for(;u&&Kv(u);)u=Kv(u);return u||null}}function oM(s){return s.ownerDocument.defaultView}function Ya(s){return s instanceof Function?s():s}function hE(s,a,u){let h=s.length;for(;;){const f=s.indexOf(a,u);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||s.charCodeAt(f+m)<=32)return f}u=f+1}}const Gr="ng-template";function dB(s,a,u){let h=0;for(;h<s.length;){let f=s[h++];if(u&&"class"===f){if(f=s[h],-1!==hE(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function cM(s){return 4===s.type&&s.value!==Gr}function hB(s,a,u){return a===(4!==s.type||u?s.value:Gr)}function Qv(s,a,u){let h=4;const f=s.attrs||[],m=function fB(s){for(let a=0;a<s.length;a++)if(ws(s[a]))return a;return s.length}(f);let y=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!y)if(4&h){if(h=2|1&h,""!==I&&!hB(s,I,u)||""===I&&1===a.length){if(vo(h))return!1;y=!0}}else{const S=8&h?I:a[++C];if(8&h&&null!==s.attrs){if(!dB(s.attrs,S,u)){if(vo(h))return!1;y=!0}continue}const z=fE(8&h?"class":I,f,cM(s),u);if(-1===z){if(vo(h))return!1;y=!0;continue}if(""!==S){let X;X=z>m?"":f[z+1].toLowerCase();const ue=8&h?X:null;if(ue&&-1!==hE(ue,S,0)||2&h&&S!==X){if(vo(h))return!1;y=!0}}}}else{if(!y&&!vo(h)&&!vo(I))return!1;if(y&&vo(I))continue;y=!1,h=I|1&h}}return vo(h)||y}function vo(s){return 0==(1&s)}function fE(s,a,u,h){if(null===a)return-1;let f=0;if(h||!u){let m=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function pB(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const h=s[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,s)}function km(s,a,u=!1){for(let h=0;h<a.length;h++)if(Qv(s,a[h],u))return!0;return!1}function uM(s,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function dM(s,a){return s?":not("+a.trim()+")":a}function mB(s){let a=s[0],u=1,h=2,f="",m=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&h){const C=s[++u];f+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+y:4&h&&(f+=" "+y);else""!==f&&!vo(y)&&(a+=dM(m,f),f=""),h=y,m=m||!vo(h);u++}return""!==f&&(a+=dM(m,f)),a}const gn={};function hM(s){fM(Tn(),Oe(),Tr()+s,!1)}function fM(s,a,u,h){if(!h)if(3==(3&a[dn])){const m=s.preOrderCheckHooks;null!==m&&Xd(a,m,u)}else{const m=s.preOrderHooks;null!==m&&Zs(a,m,0,u)}Zo(u)}function mE(s,a=null,u=null,h){const f=Xv(s,a,u,h);return f.resolveInjectorInitializers(),f}function Xv(s,a=null,u=null,h,f=new Set){const m=[u||Ue,eB(s)];return h=h||("object"==typeof s?void 0:ve(s)),new JA(m,a||Tm(),h||null,f)}let Gc=(()=>{class s{static create(u,h){if(Array.isArray(u))return mE({name:""},h,u,"");{const f=u.name??"";return mE({name:f},u.parent,u.providers,f)}}}return s.THROW_IF_NOT_FOUND=xn,s.NULL=new Hv,s.\u0275prov=rt({token:s,providedIn:"any",factory:()=>Qe(XC)}),s.__NG_ELEMENT_ID__=-1,s})();function la(s,a=ke.Default){const u=Oe();return null===u?Qe(s,a):ru(qi(),u,U(s),a)}function Nm(){throw new Error("invalid")}function CM(s,a){const u=s.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h+1];if(-1!==m){const y=s.data[m];Hp(u[h]),y.contentQueries(2,a[m],m)}}}function Fm(s,a,u,h,f,m,y,C,I,S,k){const z=a.blueprint.slice();return z[mr]=f,z[dn]=76|h,(null!==k||s&&1024&s[dn])&&(z[dn]|=1024),Fp(z),z[li]=z[Hs]=s,z[ii]=u,z[gr]=y||s&&s[gr],z[yn]=C||s&&s[yn],z[Ta]=I||s&&s[Ta]||null,z[Fl]=S||s&&s[Fl]||null,z[Gi]=m,z[Ir]=function PC(){return hm++}(),z[zd]=k,z[Wi]=2==a.type?s[Wi]:z,z}function Tu(s,a,u,h,f){let m=s.data[a];if(null===m)m=function Lm(s,a,u,h,f){const m=Z_(),y=Zl(),I=s.data[a]=function sy(s,a,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,a,h,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(y?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,a,u,h,f),function zp(){return ln.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const y=function Ra(){const s=ln.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return ko(m,!0),m}function Za(s,a,u,h){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(h),s.blueprint.push(h),s.data.push(null);return f}function Ts(s,a,u){$p(a);try{const h=s.viewQuery;null!==h&&AE(1,h,u);const f=s.template;null!==f&&yE(s,a,f,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&CM(s,a),s.staticViewQueries&&AE(2,s.viewQuery,u);const m=s.components;null!==m&&function xM(s,a){for(let u=0;u<a.length;u++)MM(s,a[u])}(a,m)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[dn]&=-5,nv()}}function ny(s,a,u,h){const f=a[dn];if(128!=(128&f)){$p(a);try{Fp(a),function Oa(s){return ln.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&yE(s,a,u,2,h);const y=3==(3&f);if(y){const S=s.preOrderCheckHooks;null!==S&&Xd(a,S,null)}else{const S=s.preOrderHooks;null!==S&&Zs(a,S,0,null),Pa(a,0)}if(function TE(s){for(let a=so(s);null!==a;a=Po(a)){if(!a[Bl])continue;const u=a[Aa];for(let h=0;h<u.length;h++){const f=u[h];512&f[dn]||Dc(f[li],1),f[dn]|=512}}}(a),function SE(s){for(let a=so(s);null!==a;a=Po(a))for(let u=tr;u<a.length;u++){const h=a[u],f=h[It];qs(h)&&ny(f,h,f.template,h[ii])}}(a),null!==s.contentQueries&&CM(s,a),y){const S=s.contentCheckHooks;null!==S&&Xd(a,S)}else{const S=s.contentHooks;null!==S&&Zs(a,S,1),Pa(a,1)}!function ua(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Zo(~f);else{const m=f,y=u[++h],C=u[++h];jp(y,m),C(2,a[m])}}}finally{Zo(-1)}}(s,a);const C=s.components;null!==C&&function EM(s,a){for(let u=0;u<a.length;u++)DE(s,a[u])}(a,C);const I=s.viewQuery;if(null!==I&&AE(2,I,h),y){const S=s.viewCheckHooks;null!==S&&Xd(a,S)}else{const S=s.viewHooks;null!==S&&Zs(a,S,2),Pa(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[dn]&=-41,512&a[dn]&&(a[dn]&=-513,Dc(a[li],-1))}finally{nv()}}}function yE(s,a,u,h,f){const m=Tr(),y=2&h;try{Zo(-1),y&&a.length>ri&&fM(s,a,ri,!1),Sr(y?2:0,f),u(h,f)}finally{Zo(m),Sr(y?3:1,f)}}function iy(s,a,u){if(Wo(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function Bm(s,a,u){Lp()&&(function RB(s,a,u,h){const f=u.directiveStart,m=u.directiveEnd;Ec(u)&&function NB(s,a,u){const h=cr(a,s),f=ry(u),m=s[gr],y=hy(s,Fm(s,f,null,u.onPush?32:16,h,a,m,m.createRenderer(h,u),null,null,null));s[a.index]=y}(a,u,s.data[f+u.componentOffset]),s.firstCreatePass||Xs(u,a),vr(h,a);const y=u.initialInputs;for(let C=f;C<m;C++){const I=s.data[C],S=Js(a,s,C,u);vr(S,a),null!==y&&IE(0,C-f,S,I,0,y),nr(I)&&(lr(u.index,a)[ii]=Js(a,s,C,u))}}(s,a,u,cr(u,a)),64==(64&u.flags)&&SM(s,a,u))}function Vm(s,a,u=cr){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const y=h[m+1],C=-1===y?u(a,s):s[y];s[f++]=C}}}function ry(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=oy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function oy(s,a,u,h,f,m,y,C,I,S){const k=ri+h,z=k+f,X=function Nh(s,a){const u=[];for(let h=0;h<a;h++)u.push(h<s?null:gn);return u}(k,z),ue="function"==typeof S?S():S;return X[It]={type:s,blueprint:X,template:u,queries:null,viewQuery:C,declTNode:a,data:X.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ue,incompleteFirstPass:!1}}function Um(s,a,u,h){const f=ME(a);null===u?f.push(h):(f.push(u),s.firstCreatePass&&kE(s).push(h,f.length-1))}function Fh(s,a,u,h){for(let f in s)if(s.hasOwnProperty(f)){u=null===u?{}:u;const m=s[f];null===h?ay(u,a,f,m):h.hasOwnProperty(f)&&ay(u,a,h[f],m)}return u}function ay(s,a,u,h){s.hasOwnProperty(u)?s[u].push(a,h):s[u]=[a,h]}function co(s,a,u,h,f,m,y,C){const I=cr(a,u);let k,S=a.inputs;!C&&null!=S&&(k=S[h])?(RE(s,u,k,h,f),Ec(a)&&bE(u,a.index)):3&a.type&&(h=function Lh(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=y?y(f,a.value||"",h):f,m.setProperty(I,h,f))}function bE(s,a){const u=lr(a,s);16&u[dn]||(u[dn]|=32)}function Zc(s,a,u,h){let f=!1;if(Lp()){const m=null===h?null:{"":-1},y=function PB(s,a){const u=s.directiveRegistry;let h=null,f=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];if(km(a,y.selectors,!1))if(h||(h=[]),nr(y))if(null!==y.findHostDirectiveDefs){const C=[];f=f||new Map,y.findHostDirectiveDefs(y,C,f),h.unshift(...C,y),EE(s,a,C.length)}else h.unshift(y),EE(s,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,h,f),h.push(y)}return null===h?null:[h,f]}(s,u);let C,I;null===y?C=I=null:[C,I]=y,null!==C&&(f=!0,wE(s,a,u,C,m,I)),m&&function TM(s,a,u){if(a){const h=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new me(-301,!1);h.push(a[f],m)}}}(u,h,m)}return u.mergedAttrs=Qo(u.mergedAttrs,u.attrs),f}function wE(s,a,u,h,f,m){for(let S=0;S<h.length;S++)oh(Xs(u,a),s,h[S].type);!function xE(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,h.length);for(let S=0;S<h.length;S++){const k=h[S];k.providersResolver&&k.providersResolver(k)}let y=!1,C=!1,I=Za(s,a,h.length,null);for(let S=0;S<h.length;S++){const k=h[S];u.mergedAttrs=Qo(u.mergedAttrs,k.hostAttrs),AM(s,u,a,I,k),DM(I,k,f),null!==k.contentQueries&&(u.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=64);const z=k.type.prototype;!y&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),I++}!function cy(s,a,u){const f=a.directiveEnd,m=s.data,y=a.attrs,C=[];let I=null,S=null;for(let k=a.directiveStart;k<f;k++){const z=m[k],X=u?u.get(z):null,Pe=X?X.outputs:null;I=Fh(z.inputs,k,I,X?X.inputs:null),S=Fh(z.outputs,k,S,Pe);const nt=null===I||null===y||cM(a)?null:uy(I,k,y);C.push(nt)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=I,a.outputs=S}(s,u,m)}function SM(s,a,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,y=function fC(){return ln.lFrame.currentDirectiveIndex}();try{Zo(m);for(let C=h;C<f;C++){const I=s.data[C],S=a[C];ys(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&OB(I,S)}}finally{Zo(-1),ys(y)}}function OB(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function EE(s,a,u){a.componentOffset=u,(s.components||(s.components=[])).push(a.index)}function DM(s,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=s;nr(a)&&(u[""]=s)}}function AM(s,a,u,h,f){s.data[h]=f;const m=f.factory||(f.factory=Gs(f.type)),y=new Xl(m,nr(f),la);s.blueprint[h]=y,u[h]=y,function CE(s,a,u,h,f){const m=f.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const C=~a.index;(function kB(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(y)!=C&&y.push(C),y.push(u,h,m)}}(s,a,h,Za(s,u,f.hostVars,gn),f)}function Ds(s,a,u,h,f,m){const y=cr(s,a);!function ly(s,a,u,h,f,m,y){if(null==m)s.removeAttribute(a,f,u);else{const C=null==y?Se(m):y(m,h||"",f);s.setAttribute(a,f,C,u)}}(a[yn],y,m,s.value,u,h,f)}function IE(s,a,u,h,f,m){const y=m[a];if(null!==y){const C=h.setInput;for(let I=0;I<y.length;){const S=y[I++],k=y[I++],z=y[I++];null!==C?h.setInput(u,z,S,k):u[k]=z}}}function uy(s,a,u){let h=null,f=0;for(;f<u.length;){const m=u[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===h&&(h=[]);const y=s[m];for(let C=0;C<y.length;C+=2)if(y[C]===a){h.push(m,y[C+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function dy(s,a,u,h){return[s,!0,!1,a,null,0,h,u,null,null]}function DE(s,a){const u=lr(a,s);if(qs(u)){const h=u[It];48&u[dn]?ny(h,u,h.template,u[ii]):u[mo]>0&&zm(u)}}function zm(s){for(let h=so(s);null!==h;h=Po(h))for(let f=tr;f<h.length;f++){const m=h[f];if(qs(m))if(512&m[dn]){const y=m[It];ny(y,m,y.template,m[ii])}else m[mo]>0&&zm(m)}const u=s[It].components;if(null!==u)for(let h=0;h<u.length;h++){const f=lr(u[h],s);qs(f)&&f[mo]>0&&zm(f)}}function MM(s,a){const u=lr(a,s),h=u[It];(function kM(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(h,u),Ts(h,u,u[ii])}function hy(s,a){return s[zs]?s[js][Er]=a:s[zs]=a,s[js]=a,a}function gi(s){for(;s;){s[dn]|=32;const a=$t(s);if(sC(s)&&!a)return s;s=a}return null}function da(s,a,u,h=!0){const f=a[gr];f.begin&&f.begin();try{ny(s,a,s.template,u)}catch(y){throw h&&PM(a,y),y}finally{f.end&&f.end()}}function AE(s,a,u){Hp(0),a(s,u)}function ME(s){return s[go]||(s[go]=[])}function kE(s){return s.cleanup||(s.cleanup=[])}function OM(s,a,u){return(null===s||nr(s))&&(u=function ql(s){for(;Array.isArray(s);){if("object"==typeof s[jd])return s;s=s[mr]}return null}(u[a.index])),u[yn]}function PM(s,a){const u=s[Fl],h=u?u.get(xu,null):null;h&&h.handleError(a)}function RE(s,a,u,h,f){for(let m=0;m<u.length;){const y=u[m++],C=u[m++],I=a[y],S=s.data[y];null!==S.setInput?S.setInput(I,f,h,C):I[C]=f}}function jm(s,a,u){let h=u?s.styles:null,f=u?s.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?m=C:1==m?f=De(f,C):2==m&&(h=De(h,C+": "+a[++y]+";"))}u?s.styles=h:s.stylesWithoutHost=h,u?s.classes=f:s.classesWithoutHost=f}function fy(s,a,u,h,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(Pi(m)),Hr(m))for(let C=tr;C<m.length;C++){const I=m[C],S=I[It].firstChild;null!==S&&fy(I[It],I,S,h)}const y=u.type;if(8&y)fy(s,a,u.child,h);else if(32&y){const C=He(u,a);let I;for(;I=C();)h.push(I)}else if(16&y){const C=kA(a,u);if(Array.isArray(C))h.push(...C);else{const I=$t(a[Wi]);fy(I[It],I,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Hm{get rootNodes(){const a=this._lView,u=a[It];return fy(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ii]}set context(a){this._lView[ii]=a}get destroyed(){return 128==(128&this._lView[dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[li];if(Hr(a)){const u=a[Da],h=u?u.indexOf(this):-1;h>-1&&(BC(a,h),lh(u,h))}this._attachedToViewContainer=!1}CA(this._lView[It],this._lView)}onDestroy(a){Um(this._lView[It],this._lView,null,a)}markForCheck(){gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[dn]&=-65}reattach(){this._lView[dn]|=64}detectChanges(){da(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vm(s,a){bm(s,a,a[yn],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=a}}class NM extends Hm{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;da(a[It],a,a[ii],!1)}checkNoChanges(){}get context(){return null}}class Bh extends Dh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Ut(a);return new Uh(u,this.ngModule)}}function OE(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class PE{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,h){h=Bt(h);const f=this.injector.get(a,Mm,h);return f!==Mm||u===Mm?f:this.parentInjector.get(a,u,h)}}class Uh extends Hc{get inputs(){return OE(this.componentDef.inputs)}get outputs(){return OE(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function gB(s){return s.map(mB).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,h,f){let m=(f=f||this.ngModule)instanceof aa?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new PE(a,m):a,C=y.get($c,null);if(null===C)throw new me(407,!1);const I=y.get(uE,null),S=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",z=h?function Yi(s,a,u){return s.selectRootElement(a,u===ge.ShadowDom)}(S,h,this.componentDef.encapsulation):vu(S,k,function Vh(s){const a=s.toLowerCase();return"svg"===a?Wl:"math"===a?"math":null}(k)),X=this.componentDef.onPush?288:272,ue=oy(0,null,null,1,0,null,null,null,null,null),Pe=Fm(null,ue,null,X,null,null,C,S,I,y,null);let nt,ft;$p(Pe);try{const Rt=this.componentDef;let en,We=null;Rt.findHostDirectiveDefs?(en=[],We=new Map,Rt.findHostDirectiveDefs(Rt,en,We),en.push(Rt)):en=[Rt];const an=function Kc(s,a){const u=s[It],h=ri;return s[h]=a,Tu(u,h,2,"#host",null)}(Pe,z),ui=function $m(s,a,u,h,f,m,y,C){const I=f[It];!function LM(s,a,u,h){for(const f of s)a.mergedAttrs=Qo(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(jm(a,a.mergedAttrs,!0),null!==u&&PA(h,u,a))}(h,s,a,y);const S=m.createRenderer(a,u),k=Fm(f,ry(u),null,u.onPush?32:16,f[s.index],s,m,S,C||null,null,null);return I.firstCreatePass&&EE(I,s,h.length-1),hy(f,k),f[s.index]=k}(an,z,Rt,en,Pe,C,S);ft=Np(ue,ri),z&&function Gm(s,a,u,h){if(h)Jl(s,u,["ng-version",Yv.full]);else{const{attrs:f,classes:m}=function _B(s){const a=[],u=[];let h=1,f=2;for(;h<s.length;){let m=s[h];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++h]):8===f&&u.push(m);else{if(!vo(f))break;f=m}h++}return{attrs:a,classes:u}}(a.selectors[0]);f&&Jl(s,u,f),m&&m.length>0&&OA(s,u,m.join(" "))}}(S,Rt,z,h),void 0!==u&&function FE(s,a,u){const h=s.projection=[];for(let f=0;f<a.length;f++){const m=u[f];h.push(null!=m?Array.from(m):null)}}(ft,this.ngContentSelectors,u),nt=function LB(s,a,u,h,f,m){const y=qi(),C=f[It],I=cr(y,f);wE(C,f,y,u,null,h);for(let k=0;k<u.length;k++)vr(Js(f,C,y.directiveStart+k,y),f);SM(C,f,y),I&&vr(I,f);const S=Js(f,C,y.directiveStart+y.componentOffset,y);if(s[ii]=f[ii]=S,null!==m)for(const k of m)k(S,a);return iy(C,y,s),S}(ui,Rt,en,We,Pe,[BM]),Ts(ue,Pe,null)}finally{nv()}return new NE(this.componentType,nt,Ah(ft,Pe),Pe,ft)}}class NE extends sE{constructor(a,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new NM(f),this.componentType=a}setInput(a,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[a])){const m=this._rootLView;RE(m[It],m,f,a,u),bE(m,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function BM(){const s=qi();Mc(Oe()[It],s)}function py(s){let a=function LE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const h=[s];for(;a;){let f;if(nr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new me(903,!1);f=a.\u0275dir}if(f){if(u){h.push(f);const y=s;y.inputs=my(s.inputs),y.declaredInputs=my(s.declaredInputs),y.outputs=my(s.outputs);const C=f.hostBindings;C&&zM(s,C);const I=f.viewQuery,S=f.contentQueries;if(I&&BE(s,I),S&&UM(s,S),Ie(s.inputs,f.inputs),Ie(s.declaredInputs,f.declaredInputs),Ie(s.outputs,f.outputs),nr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(s),C===py&&(u=!1)}}a=Object.getPrototypeOf(a)}!function VM(s){let a=0,u=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=a+=f.hostVars,f.hostAttrs=Qo(f.hostAttrs,u=Qo(u,f.hostAttrs))}}(h)}function my(s){return s===Ge?{}:s===Ue?[]:s}function BE(s,a){const u=s.viewQuery;s.viewQuery=u?(h,f)=>{a(h,f),u(h,f)}:a}function UM(s,a){const u=s.contentQueries;s.contentQueries=u?(h,f,m)=>{a(h,f,m),u(h,f,m)}:a}function zM(s,a){const u=s.hostBindings;s.hostBindings=u?(h,f)=>{a(h,f),u(h,f)}:a}let Wm=null;function Qc(){if(!Wm){const s=ut.Symbol;if(s&&s.iterator)Wm=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Wm=h)}}}return Wm}function _y(s){return!!vy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qc()in s)}function vy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function No(s,a,u){return s[a]=u}function Wr(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function yy(s,a,u,h){const f=Oe();return Wr(f,Ys(),a)&&(Tn(),Ds(Zn(),f,s,a,u,h)),yy}function el(s,a,u,h){return Wr(s,Ys(),u)?a+Se(u)+h:gn}function Ru(s,a,u,h,f,m,y,C){const I=Oe(),S=Tn(),k=s+ri,z=S.firstCreatePass?function zB(s,a,u,h,f,m,y,C,I){const S=a.consts,k=Tu(a,s,4,y||null,Yo(S,C));Zc(a,u,k,Yo(S,I)),Mc(a,k);const z=k.tViews=oy(2,k,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,k),z.queries=a.queries.embeddedTView(k)),k}(k,S,I,a,u,h,f,m,y):S.data[k];ko(z,!1);const X=I[yn].createComment("");Rv(S,I,X,z),vr(X,I),hy(I,I[k]=dy(X,I,X,z)),Ul(z)&&Bm(S,I,z),null!=y&&Vm(I,z,C)}function Ey(s){return Ws(function Up(){return ln.lFrame.contextLView}(),ri+s)}function jE(s,a,u){const h=Oe();return Wr(h,Ys(),a)&&co(Tn(),Zn(),h,s,a,h[yn],u,!1),jE}function Ym(s,a,u,h,f){const y=f?"class":"style";RE(s,u,a.inputs[y],y,h)}function Zh(s,a,u,h){const f=Oe(),m=Tn(),y=ri+s,C=f[yn],I=f[y]=vu(C,a,function yC(){return ln.lFrame.currentNamespace}()),S=m.firstCreatePass?function HB(s,a,u,h,f,m,y){const C=a.consts,S=Tu(a,s,2,f,Yo(C,m));return Zc(a,u,S,Yo(C,y)),null!==S.attrs&&jm(S,S.attrs,!1),null!==S.mergedAttrs&&jm(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(y,m,f,0,a,u,h):m.data[y];return ko(S,!0),PA(C,I,S),32!=(32&S.flags)&&Rv(m,f,I,S),0===function Zd(){return ln.lFrame.elementDepthCount}()&&vr(I,f),function G_(){ln.lFrame.elementDepthCount++}(),Ul(S)&&(Bm(m,f,S),iy(m,S,f)),null!==h&&Vm(f,S),Zh}function Qa(){let s=qi();Zl()?Vp():(s=s.parent,ko(s,!1));const a=s;!function Kd(){ln.lFrame.elementDepthCount--}();const u=Tn();return u.firstCreatePass&&(Mc(u,s),Wo(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ov(s){return 0!=(8&s.flags)}(a)&&Ym(u,a,Oe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function bs(s){return 0!=(16&s.flags)}(a)&&Ym(u,a,Oe(),a.stylesWithoutHost,!1),Qa}function Zm(s,a,u,h){return Zh(s,a,u,h),Qa(),Zm}function Iy(s,a,u){const h=Oe(),f=Tn(),m=s+ri,y=f.firstCreatePass?function xy(s,a,u,h,f){const m=a.consts,y=Yo(m,h),C=Tu(a,s,8,"ng-container",y);return null!==y&&jm(C,y,!0),Zc(a,u,C,Yo(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,h,a,u):f.data[m];ko(y,!0);const C=h[m]=h[yn].createComment("");return Rv(f,h,C,y),vr(C,h),Ul(y)&&(Bm(f,h,y),iy(f,y,h)),null!=u&&Vm(h,y),Iy}function Sy(){let s=qi();const a=Tn();return Zl()?Vp():(s=s.parent,ko(s,!1)),a.firstCreatePass&&(Mc(a,s),Wo(s)&&a.queries.elementEnd(s)),Sy}function qM(){return Oe()}function HE(s){return!!s&&"function"==typeof s.then}function YM(s){return!!s&&"function"==typeof s.subscribe}const Km=YM;function il(s,a,u,h){const f=Oe(),m=Tn(),y=qi();return Qh(m,f,f[yn],y,s,a,h),il}function Kh(s,a){const u=qi(),h=Oe(),f=Tn();return Qh(f,h,OM(Ac(f.data),u,h),u,s,a),Kh}function Qh(s,a,u,h,f,m,y){const C=Ul(h),S=s.firstCreatePass&&kE(s),k=a[ii],z=ME(a);let X=!0;if(3&h.type||y){const nt=cr(h,a),ft=y?y(nt):nt,Rt=z.length,en=y?an=>y(Pi(an[h.index])):h.index;let We=null;if(!y&&C&&(We=function ZM(s,a,u,h){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===u&&f[m+1]===h){const C=a[go],I=f[m+2];return C.length>I?C[I]:null}"string"==typeof y&&(m+=2)}return null}(s,a,f,h.index)),null!==We)(We.__ngLastListenerFn__||We).__ngNextListenerFn__=m,We.__ngLastListenerFn__=m,X=!1;else{m=$E(h,a,k,m,!1);const an=u.listen(ft,f,m);z.push(m,an),S&&S.push(f,en,Rt,Rt+1)}}else m=$E(h,a,k,m,!1);const ue=h.outputs;let Pe;if(X&&null!==ue&&(Pe=ue[f])){const nt=Pe.length;if(nt)for(let ft=0;ft<nt;ft+=2){const ui=a[Pe[ft]][Pe[ft+1]].subscribe(m),zi=z.length;z.push(m,ui),S&&S.push(f,h.index,zi,-(zi+1))}}}function KM(s,a,u,h){try{return Sr(6,a,u),!1!==u(h)}catch(f){return PM(s,f),!1}finally{Sr(7,a,u)}}function $E(s,a,u,h,f){return function m(y){if(y===Function)return h;gi(s.componentOffset>-1?lr(s.index,a):a);let I=KM(a,u,h,y),S=m.__ngNextListenerFn__;for(;S;)I=KM(a,u,S,y)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function QM(s=1){return function gC(s){return(ln.lFrame.contextLView=function gA(s,a){for(;s>0;)a=a[Hs],s--;return a}(s,ln.lFrame.contextLView))[ii]}(s)}function $B(s,a){let u=null;const h=function lM(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?km(s,m,!0):uM(h,m))return f}else u=f}return u}function XM(s){const a=Oe()[Wi][Gi];if(!a.projection){const h=a.projection=Ha(s?s.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const y=s?$B(m,s):0;null!==y&&(f[y]?f[y].projectionNext=m:h[y]=m,f[y]=m),m=m.next}}}function Ou(s,a=0,u){const h=Oe(),f=Tn(),m=Tu(f,ri+s,16,null,u||null);null===m.projection&&(m.projection=a),Vp(),32!=(32&m.flags)&&function H2(s,a,u){RA(a[yn],0,a,u,EA(s,u,a),TA(u.parent||a[Gi],u,a))}(f,h,m)}function Xa(s,a,u,h,f){const m=Oe(),y=el(m,a,u,h);return y!==gn&&co(Tn(),Zn(),m,s,y,m[yn],f,!1),Xa}function Qm(s,a){return s<<17|a<<2}function Ja(s){return s>>17&32767}function Dy(s){return 2|s}function ec(s){return(131068&s)>>2}function Ay(s,a){return-131069&s|a<<2}function QE(s){return 1|s}function My(s,a,u,h,f){const m=s[u+1],y=null===a;let C=h?Ja(m):ec(m),I=!1;for(;0!==C&&(!1===I||y);){const k=s[C+1];WB(s[C],a)&&(I=!0,s[C+1]=h?QE(k):Dy(k)),C=h?Ja(k):ec(k)}I&&(s[u+1]=h?Dy(m):QE(m))}function WB(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ro(s,a)>=0}function rx(s,a,u){return ns(s,a,u,!1),rx}function ox(s,a){return ns(s,a,null,!0),ox}function ns(s,a,u,h){const f=Oe(),m=Tn(),y=function vs(s){const a=ln.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}(2);m.firstUpdatePass&&function sx(s,a,u,h){const f=s.data;if(null===f[u+1]){const m=f[Tr()],y=function ky(s,a){return a>=s.expandoStartIndex}(s,u);(function lx(s,a){return 0!=(s.flags&(a?8:16))})(m,h)&&null===a&&!y&&(a=!1),a=function u1(s,a,u,h){const f=Ac(s);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(u=ng(u=ax(null,s,a,u,h),a.attrs,h),m=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(u=ax(f,s,a,u,h),null===m){let I=function d1(s,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==ec(h))return s[Ja(h)]}(s,a,h);void 0!==I&&Array.isArray(I)&&(I=ax(null,s,a,I[1],h),I=ng(I,a.attrs,h),function h1(s,a,u,h){s[Ja(u?a.classBindings:a.styleBindings)]=h}(s,a,h,I))}else m=function YB(s,a,u){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=ng(h,s[m].hostAttrs,u);return ng(h,a.attrs,u)}(s,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,h),function Xm(s,a,u,h,f,m){let y=m?a.classBindings:a.styleBindings,C=Ja(y),I=ec(y);s[h]=u;let k,S=!1;if(Array.isArray(u)?(k=u[1],(null===k||ro(u,k)>0)&&(S=!0)):k=u,f)if(0!==I){const X=Ja(s[C+1]);s[h+1]=Qm(X,C),0!==X&&(s[X+1]=Ay(s[X+1],h)),s[C+1]=function Jh(s,a){return 131071&s|a<<17}(s[C+1],h)}else s[h+1]=Qm(C,0),0!==C&&(s[C+1]=Ay(s[C+1],h)),C=h;else s[h+1]=Qm(I,0),0===C?C=h:s[I+1]=Ay(s[I+1],h),I=h;S&&(s[h+1]=Dy(s[h+1])),My(s,k,h,!0),My(s,k,h,!1),function JE(s,a,u,h,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&ro(m,a)>=0&&(u[h+1]=QE(u[h+1]))}(a,k,s,h,m),y=Qm(C,I),m?a.classBindings=y:a.styleBindings=y}(f,m,a,u,y,h)}}(m,s,y,h),a!==gn&&Wr(f,y,a)&&function Nu(s,a,u,h,f,m,y,C){if(!(3&a.type))return;const I=s.data,S=I[C+1],k=function t1(s){return 1==(1&s)}(S)?Oy(I,a,u,f,ec(S),y):void 0;ig(k)||(ig(m)||function KE(s){return 2==(2&s)}(S)&&(m=Oy(I,null,u,f,C,y)),function G2(s,a,u,h,f){if(a)f?s.addClass(u,h):s.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:Xo.DashCase;null==f?s.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Xo.Important),s.setStyle(u,h,f,m))}}(h,y,ka(Tr(),u),f,m))}(m,m.data[Tr()],f,f[yn],s,f[y+1]=function KB(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ve(oa(s)))),s}(a,u),h,y)}function ax(s,a,u,h,f){let m=null;const y=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<y&&(m=a[C],h=ng(h,m.hostAttrs,f),m!==s);)C++;return null!==s&&(u.directiveStylingLast=C),h}function ng(s,a,u){const h=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ur(s,y,!!u||a[++m]))}return void 0===s?null:s}function Oy(s,a,u,h,f,m){const y=null===a;let C;for(;f>0;){const I=s[f],S=Array.isArray(I),k=S?I[1]:I,z=null===k;let X=u[f+1];X===gn&&(X=z?Ue:void 0);let ue=z?im(X,h):k===h?X:void 0;if(S&&!ig(ue)&&(ue=im(I,h)),ig(ue)&&(C=ue,y))return C;const Pe=s[f+1];f=y?Ja(Pe):ec(Pe)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=im(I,h))}return C}function ig(s){return void 0!==s}function Py(s,a=""){const u=Oe(),h=Tn(),f=s+ri,m=h.firstCreatePass?Tu(h,f,1,a,null):h.data[f],y=u[f]=function _u(s,a){return s.createText(a)}(u[yn],a);Rv(h,u,y,m),ko(m,!1)}function ef(s){return tf("",s,""),ef}function tf(s,a,u){const h=Oe(),f=el(h,s,a,u);return f!==gn&&function Ka(s,a,u){const h=ka(a,s);!function _m(s,a,u){s.setValue(a,u)}(s[yn],h,u)}(h,Tr(),f),tf}function Ny(s,a,u){const h=Oe();return Wr(h,Ys(),a)&&co(Tn(),Zn(),h,s,a,h[yn],u,!0),Ny}function Fy(s,a,u){const h=Oe();if(Wr(h,Ys(),a)){const m=Tn(),y=Zn();co(m,y,h,s,a,OM(Ac(m.data),y,h),u,!0)}return Fy}const ol=void 0;var Cx=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ly(s){const u=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let fa={};function By(s){const a=function Ix(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=xx(a);if(u)return u;const h=a.split("-")[0];if(u=xx(h),u)return u;if("en"===h)return Cx;throw new me(701,!1)}function Ex(s){return By(s)[nn.PluralCase]}function xx(s){return s in fa||(fa[s]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[s]),fa[s]}var nn=(()=>((nn=nn||{})[nn.LocaleId=0]="LocaleId",nn[nn.DayPeriodsFormat=1]="DayPeriodsFormat",nn[nn.DayPeriodsStandalone=2]="DayPeriodsStandalone",nn[nn.DaysFormat=3]="DaysFormat",nn[nn.DaysStandalone=4]="DaysStandalone",nn[nn.MonthsFormat=5]="MonthsFormat",nn[nn.MonthsStandalone=6]="MonthsStandalone",nn[nn.Eras=7]="Eras",nn[nn.FirstDayOfWeek=8]="FirstDayOfWeek",nn[nn.WeekendRange=9]="WeekendRange",nn[nn.DateFormat=10]="DateFormat",nn[nn.TimeFormat=11]="TimeFormat",nn[nn.DateTimeFormat=12]="DateTimeFormat",nn[nn.NumberSymbols=13]="NumberSymbols",nn[nn.NumberFormats=14]="NumberFormats",nn[nn.CurrencyCode=15]="CurrencyCode",nn[nn.CurrencySymbol=16]="CurrencySymbol",nn[nn.CurrencyName=17]="CurrencyName",nn[nn.Currencies=18]="Currencies",nn[nn.Directionality=19]="Directionality",nn[nn.PluralCase=20]="PluralCase",nn[nn.ExtraData=21]="ExtraData",nn))();const Fu="en-US";let cg=Fu;function ic(s,a,u,h,f){if(s=U(s),Array.isArray(s))for(let m=0;m<s.length;m++)ic(s[m],a,u,h,f);else{const m=Tn(),y=Oe();let C=jc(s)?s:U(s.provide),I=eM(s);const S=qi(),k=1048575&S.providerIndexes,z=S.directiveStart,X=S.providerIndexes>>20;if(jc(s)||!s.multi){const ue=new Xl(I,f,la),Pe=eb(C,a,f?k:k+X,z);-1===Pe?(oh(Xs(S,y),m,C),Jy(m,s,a.length),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),u.push(ue),y.push(ue)):(u[Pe]=ue,y[Pe]=ue)}else{const ue=eb(C,a,k+X,z),Pe=eb(C,a,k,k+X),ft=Pe>=0&&u[Pe];if(f&&!ft||!f&&!(ue>=0&&u[ue])){oh(Xs(S,y),m,C);const Rt=function Rs(s,a,u,h,f){const m=new Xl(s,u,la);return m.multi=[],m.index=a,m.componentProviders=0,pg(m,f,h&&!u),m}(f?Hx:jx,u.length,f,h,I);!f&&ft&&(u[Pe].providerFactory=Rt),Jy(m,s,a.length,0),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),u.push(Rt),y.push(Rt)}else Jy(m,s,ue>-1?ue:Pe,pg(u[f?Pe:ue],I,!f&&h));!f&&h&&ft&&u[Pe].componentProviders++}}}function Jy(s,a,u,h){const f=jc(a),m=function nE(s){return!!s.useClass}(a);if(f||m){const I=(m?U(a.useClass):a).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const k=S.indexOf(u);-1===k?S.push(u,[h,I]):S[k+1].push(h,I)}else S.push(u,I)}}}function pg(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function eb(s,a,u,h){for(let f=u;f<h;f++)if(a[f]===s)return f;return-1}function jx(s,a,u,h){return ul(this.multi,[])}function Hx(s,a,u,h){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Js(u,u[It],this.providerFactory.index,h);m=C.slice(0,y),ul(f,m);for(let I=y;I<C.length;I++)m.push(C[I])}else m=[],ul(f,m);return m}function ul(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function mg(s,a=[]){return u=>{u.providersResolver=(h,f)=>function Xy(s,a,u){const h=Tn();if(h.firstCreatePass){const f=nr(s);ic(u,h.data,h.blueprint,f,!0),ic(a,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,a)}}class Lo{}class pf{}function $x(s,a){return new Gx(s,a??null)}class Gx extends Lo{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const h=Xn(a);this._bootstrapComponents=Ya(h.bootstrap),this._r3Injector=Xv(a,u,[{provide:Lo,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class tb extends pf{constructor(a){super(),this.moduleType=a}create(a){return new Gx(this.moduleType,a)}}class Q1 extends Lo{constructor(a,u,h){super(),this.componentFactoryResolver=new Bh(this),this.instance=null;const f=new JA([...a,{provide:Lo,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],u||Tm(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function nb(s,a,u=null){return new Q1(s,a,u).injector}let X1=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=JC(0,u.type),f=h.length>0?nb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rt({token:s,providedIn:"environment",factory:()=>new s(Qe(aa))}),s})();function Wx(s){s.getStandaloneInjector=a=>a.get(X1).getOrCreateStandaloneInjector(s)}function Jx(s,a,u,h){return function iI(s,a,u,h,f,m){const y=a+u;return Wr(s,y,f)?No(s,y+1,m?h.call(m,f):h(f)):dl(s,y+1)}(Oe(),_r(),s,a,u,h)}function dl(s,a){const u=s[a];return u===gn?void 0:u}function Hu(s,a,u,h,f,m,y){const C=a+u;return function Au(s,a,u,h){const f=Wr(s,a,u);return Wr(s,a+1,h)||f}(s,C,f,m)?No(s,C+2,y?h.call(y,f,m):h(f,m)):dl(s,C+2)}function ub(s,a){const u=Tn();let h;const f=s+ri;u.firstCreatePass?(h=function sI(s,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(s===h.name)return h}}(a,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Gs(h.type)),y=Kt(la);try{const C=Cs(!1),I=m();return Cs(C),function jB(s,a,u,h){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=h}(u,Oe(),f,I),I}finally{Kt(y)}}function cI(s,a,u,h){const f=s+ri,m=Oe(),y=Ws(m,f);return function gf(s,a){return s[It].data[a].pure}(m,f)?Hu(m,_r(),a,y.transform,u,h,y):y.transform(u,h)}function $u(s){return a=>{setTimeout(s,void 0,a)}}const rs=class rk extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){let f=a,m=u||(()=>null),y=h;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(m=$u(m),f&&(f=$u(f)),y&&(y=$u(y)));const C=super.subscribe({next:f,error:m,complete:y});return a instanceof j.w0&&a.add(C),C}};function cV(){return this._results[Qc()]()}class hb{get changes(){return this._changes||(this._changes=new rs)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qc(),h=hb.prototype;h[u]||(h[u]=cV)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const f=function Dr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function IC(s,a,u){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],m=a[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=ok,s})();const lV=yg,fb=class extends lV{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a,u){const h=this._declarationTContainer.tViews,f=Fm(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,u||null);f[Ll]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[xr];return null!==y&&(f[xr]=y.createEmbeddedView(h)),Ts(h,f,a),new Hm(f)}};function ok(){return bg(qi(),Oe())}function bg(s,a){return 4&s.type?new fb(a,s,Ah(s,a)):null}let wg=(()=>{class s{}return s.__NG_ELEMENT_ID__=pb,s})();function pb(){return lI(qi(),Oe())}const Bo=wg,mb=class extends Bo{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const a=rh(this._hostTNode,this._hostLView);if(nh(a)){const u=Ks(a,this._hostLView),h=Fa(a);return new ea(u[It].data[h+8],u)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Gu(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(a,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const y=a.createEmbeddedView(u||{},m);return this.insert(y,f),y}createComponent(a,u,h,f,m){const y=a&&!function cu(s){return"function"==typeof s}(a);let C;if(y)C=u;else{const z=u||{};C=z.index,h=z.injector,f=z.projectableNodes,m=z.environmentInjector||z.ngModuleRef}const I=y?a:new Uh(Ut(a)),S=h||this.parentInjector;if(!m&&null==I.ngModule){const X=(y?S:this.parentInjector).get(aa,null);X&&(m=X)}const k=I.create(S,f,void 0,m);return this.insert(k.hostView,C),k}insert(a,u){const h=a._lView,f=h[It];if(function $_(s){return Hr(s[li])}(h)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const z=h[li],X=new mb(z,z[Gi],z[li]);X.detach(X.indexOf(a))}}const m=this._adjustIndex(u),y=this._lContainer;!function LC(s,a,u,h){const f=tr+h,m=u.length;h>0&&(u[f-1][Er]=a),h<m-tr?(a[Er]=u[f],dv(u,tr+h,a)):(u.push(a),a[Er]=null),a[li]=u;const y=a[Ll];null!==y&&u!==y&&function ym(s,a){const u=s[Aa];a[Wi]!==a[li][li][Wi]&&(s[Bl]=!0),null===u?s[Aa]=[a]:u.push(a)}(y,a);const C=a[xr];null!==C&&C.insertView(s),a[dn]|=64}(f,h,y,m);const C=zC(m,y),I=h[yn],S=kv(I,y[Vl]);return null!==S&&function Dv(s,a,u,h,f,m){h[mr]=f,h[Gi]=a,bm(s,h,u,1,f,m)}(f,y[Gi],I,h,S,C),a.attachToViewContainerRef(),dv(gb(y),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Gu(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=BC(this._lContainer,u);h&&(lh(gb(this._lContainer),u),CA(h[It],h))}detach(a){const u=this._adjustIndex(a,-1),h=BC(this._lContainer,u);return h&&null!=lh(gb(this._lContainer),u)?new Hm(h):null}_adjustIndex(a,u=0){return a??this.length+u}};function Gu(s){return s[Da]}function gb(s){return s[Da]||(s[Da]=[])}function lI(s,a){let u;const h=a[s.index];if(Hr(h))u=h;else{let f;if(8&s.type)f=Pi(h);else{const m=a[yn];f=m.createComment("");const y=cr(s,a);yu(m,kv(m,y),f,function j2(s,a){return s.nextSibling(a)}(m,y),!1)}a[s.index]=u=dy(h,a,f,s),hy(a,u)}return new mb(u,s,a)}class Cg{constructor(a){this.queryList=a,this.matches=null}clone(){return new Cg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const y=u.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new Wu(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==yf(a,u).matches&&this.queries[u].setDirty()}}class uI{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class _b{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new _b(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class oc{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new oc(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,u,_f(u,m)),this.matchTNodeWithReadOption(a,u,La(u,a,m,!1,!1))}else h===yg?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,La(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Mh||f===wg||f===yg&&4&u.type)this.addMatch(u.index,-2);else{const m=La(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function _f(s,a){const u=s.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function ak(s,a,u,h){return-1===u?function sk(s,a){return 11&s.type?Ah(s,a):4&s.type?bg(s,a):null}(a,s):-2===u?function vf(s,a,u){return u===Mh?Ah(a,s):u===yg?bg(a,s):u===wg?lI(a,s):void 0}(s,a,h):Js(s,s[It],u,a)}function qu(s,a,u,h){const f=a[xr].queries[h];if(null===f.matches){const m=s.data,y=u.matches,C=[];for(let I=0;I<y.length;I+=2){const S=y[I];C.push(S<0?null:ak(a,m[S],y[I+1],u.metadata.read))}f.matches=C}return f.matches}function vb(s,a,u,h){const f=s.queries.getByIndex(u),m=f.matches;if(null!==m){const y=qu(s,a,f,u);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)h.push(y[C/2]);else{const S=m[C+1],k=a[-I];for(let z=tr;z<k.length;z++){const X=k[z];X[Ll]===X[li]&&vb(X[It],X,S,h)}if(null!==k[Aa]){const z=k[Aa];for(let X=0;X<z.length;X++){const ue=z[X];vb(ue[It],ue,S,h)}}}}}return h}function dI(s){const a=Oe(),u=Tn(),h=Q_();Hp(h+1);const f=yf(u,h);if(s.dirty&&function Yd(s){return 4==(4&s[dn])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?vb(u,a,h,[]):qu(u,a,f,h);s.reset(m,Dm),s.notifyOnChanges()}return!0}return!1}function hI(s,a,u){const h=Tn();h.firstCreatePass&&(mI(h,new uI(s,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),lk(h,Oe(),a)}function fI(s,a,u,h){const f=Tn();if(f.firstCreatePass){const m=qi();mI(f,new uI(a,u,h),m.index),function yb(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(f,s),2==(2&u)&&(f.staticContentQueries=!0)}lk(f,Oe(),u)}function pI(){return function ck(s,a){return s[xr].queries[a].queryList}(Oe(),Q_())}function lk(s,a,u){const h=new hb(4==(4&u));Um(s,a,h,h.destroy),null===a[xr]&&(a[xr]=new Wu),a[xr].queries.push(new Cg(h))}function mI(s,a,u){null===s.queries&&(s.queries=new _b),s.queries.track(new oc(a,u))}function yf(s,a){return s.queries.getByIndex(a)}function hl(s,a){return bg(s,a)}function Ef(...s){}const xf=new qn("Application Initializer");let If=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Ef,this.reject=Ef,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(HE(m))u.push(m);else if(Km(m)){const y=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});u.push(y)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Qe(xf,8))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kb=new qn("AppId",{providedIn:"root",factory:function PI(){return`${Rb()}${Rb()}${Rb()}`}});function Rb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NI=new qn("Platform Initializer"),xk=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sf=new qn("appBootstrapListener"),Ik=new qn("AnimationModuleType");let FI=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Sg=new qn("LocaleId",{providedIn:"root",factory:()=>ht(Sg,ke.Optional|ke.SkipSelf)||function Sk(){return typeof $localize<"u"&&$localize.locale||Fu}()}),Tk=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zu{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let Tg=(()=>{class s{compileModuleSync(u){return new tb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Ya(Xn(u).declarations).reduce((y,C)=>{const I=Ut(C);return I&&y.push(new Uh(I)),y},[]);return new Zu(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ku=(()=>Promise.resolve(0))();function VI(s){typeof Zone>"u"?Ku.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class uo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rs(!1),this.onMicrotaskEmpty=new rs(!1),this.onStable=new rs(!1),this.onError=new rs(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function UI(){let s=ut.requestAnimationFrame,a=ut.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function jI(s){const a=()=>{!function EV(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ut,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Dg(s),s.isCheckStableRunning=!0,zI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Dg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,y,C)=>{try{return Ag(s),u.invokeTask(f,m,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),HI(s)}},onInvoke:(u,h,f,m,y,C,I)=>{try{return Ag(s),u.invoke(f,m,y,C,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),HI(s)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Dg(s),zI(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uo.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(uo.isInAngularZone())throw new me(909,!1)}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,kk,Ef,Ef);try{return m.runTask(y,u,h)}finally{m.cancelTask(y)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const kk={};function zI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Dg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ag(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function HI(s){s._nesting--,zI(s)}class Rk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rs,this.onMicrotaskEmpty=new rs,this.onStable=new rs,this.onError=new rs}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,f){return a.apply(u,h)}}const $I=new qn(""),Ob=new qn("");let pl,Ok=(()=>{class s{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pl||(function xV(s){pl=s}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uo.assertNotInAngularZone(),VI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())VI(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return s.\u0275fac=function(u){return new(u||s)(Qe(uo),Qe(Pk),Qe(Ob))},s.\u0275prov=rt({token:s,factory:s.\u0275fac}),s})(),Pk=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return pl?.findTestabilityInTree(this,u,h)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ml=null;const Pb=new qn("AllowMultipleToken"),Nb=new qn("PlatformDestroyListeners"),ma=!1;class Fk{constructor(a,u){this.name=a,this.token=u}}function Vk(s,a,u=[]){const h=`Platform: ${a}`,f=new qn(h);return(m=[])=>{let y=Mg();if(!y||y.injector.get(Pb,!1)){const C=[...u,...m,{provide:f,useValue:!0}];s?s(C):function Lk(s){if(ml&&!ml.get(Pb,!1))throw new me(400,!1);ml=s;const a=s.get(kg);(function Fb(s){const a=s.get(NI,null);a&&a.forEach(u=>u())})(s)}(function Df(s=[],a){return Gc.create({name:a,providers:[{provide:Im,useValue:"platform"},{provide:Nb,useValue:new Set([()=>ml=null])},...s]})}(C,h))}return function Uk(s){const a=Mg();if(!a)throw new me(401,!1);return a}()}}function Mg(){return ml?.get(kg)??null}let kg=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function GI(s,a){let u;return u="noop"===s?new Rk:("zone.js"===s?void 0:s)||new uo(a),u}(h?.ngZone,function Lb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:uo,useValue:f}];return f.run(()=>{const y=Gc.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(y),I=C.injector.get(xu,null);if(!I)throw new me(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:k=>{I.handleError(k)}});C.onDestroy(()=>{Og(this._modules,C),S.unsubscribe()})}),function WI(s,a,u){try{const h=u();return HE(h)?h.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(I,f,()=>{const S=C.injector.get(If);return S.runInitializers(),S.donePromise.then(()=>(function Vy(s){Re(s,"Expected localeId to be defined"),"string"==typeof s&&(cg=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Sg,Fu)||Fu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=qI({},h);return function Tf(s,a,u){const h=new tb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(Rg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new me(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Nb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Qe(Gc))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function qI(s,a){return Array.isArray(a)?a.reduce(qI,s):{...s,...a}}let Rg=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new B.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new B.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{uo.assertNotInAngularZone(),VI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(m,y.pipe((0,Fe.B)()))}bootstrap(u,h){const f=u instanceof Hc;if(!this._injector.get(If).done){!f&&pr(u);throw new me(405,ma)}let y;y=f?u:this._injector.get(Dh).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const C=function Nk(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Lo),S=y.create(Gc.NULL,[],h||y.selector,C),k=S.location.nativeElement,z=S.injector.get($I,null);return z?.registerApplication(k),S.onDestroy(()=>{this.detachView(S.hostView),Og(this.components,S),z?.unregisterApplication(k)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Og(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Sf,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Og(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new me(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Qe(uo),Qe(aa),Qe(xu))},s.\u0275prov=rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Og(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function zk(){return!1}let ZI=(()=>{class s{}return s.__NG_ELEMENT_ID__=jk,s})();function jk(s){return function Hk(s,a,u){if(Ec(s)&&!u){const h=lr(s.index,a);return new Hm(h,h)}return 47&s.type?new Hm(a[Wi],a):null}(qi(),Oe(),16==(16&s))}class qb{constructor(){}supports(a){return _y(a)}create(a){return new Zk(a)}}const PV=(s,a)=>a;class Zk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||PV}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const y=!h||u&&u.currentIndex<bo(h,f,m)?u:h,C=bo(y,f,m),I=y.currentIndex;if(y===h)f--,h=h._nextRemoved;else if(u=u._next,null==y.previousIndex)f++;else{m||(m=[]);const S=C-f,k=I-f;if(S!=k){for(let X=0;X<S;X++){const ue=X<m.length?m[X]:m[X]=0,Pe=ue+X;k<=Pe&&Pe<S&&(m[X]=ue+1)}m[y.previousIndex]=k-S}}C!==I&&a(y,C,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!_y(a))throw new me(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],y=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,m,y,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,C),h=!0),u=u._next}else f=0,function UB(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Qc()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,C=>{y=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,C,y,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,y,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new Xu(u,h),m,f),a}_verifyReinsertion(a,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Af),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Af),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Xu{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ct{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Af{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new ct,this.map.set(u,h)),h.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bo(s,a,u){const h=s.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+a+f}class Kk{constructor(){}supports(a){return a instanceof Map||vy(a)}create(){return new Qk}}class Qk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||vy(a)))throw new me(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const h=new Ae(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class Ae{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $n(){return new Ps([new qb])}let Ps=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||$n()),deps:[[s,new Vc,new _o]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new me(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:$n}),s})();function J(){return new Yb([new Kk])}let Yb=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||J()),deps:[[s,new Vc,new _o]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new me(901,!1)}}return s.\u0275prov=rt({token:s,providedIn:"root",factory:J}),s})();const Ng=Vk(null,"core",[]);let Fg=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Qe(Rg))},s.\u0275mod=Q({type:s}),s.\u0275inj=Ct({}),s})();function Mf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Gt,je,L)=>{L.d(je,{Z:()=>Je});var l=L(2090),j=L(4859),B=L(9681),oe=L(1877);class Fe{constructor(me,Ee){this._delegate=me,this.firebase=Ee,(0,B._addComponent)(me,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(me,Ee=B._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(me);return!_e.isInitialized()&&"EXPLICIT"===(null===(Se=_e.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:Ee})}_removeServiceInstance(me,Ee=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ee)}_addComponent(me){(0,B._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,B._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function De(){const Ve=function ve(Ve){const me={},Ee={__esModule:!0,initializeApp:function Ze(ee,Te={}){const Z=B.initializeApp(ee,Te);if((0,l.r3)(me,Z.name))return me[Z.name];const le=new Ve(Z,Ee);return me[Z.name]=le,le},app:_e,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function dt(ee){const Te=ee.name,Z=Te.replace("-compat","");if(B._registerComponent(ee)&&"PUBLIC"===ee.type){const le=(te=_e())=>{if("function"!=typeof te[Z])throw Ie.create("invalid-app-argument",{appName:Te});return te[Z]()};void 0!==ee.serviceProps&&(0,l.ZB)(le,ee.serviceProps),Ee[Z]=le,Ve.prototype[Z]=function(...te){return this._getService.bind(this,Te).apply(this,ee.multipleInstances?te:[])}}return"PUBLIC"===ee.type?Ee[Z]:null},removeApp:function Se(ee){delete me[ee]},useAsService:function xt(ee,Te){return"serverAuth"===Te?null:Te},modularAPIs:B}};function _e(ee){if(!(0,l.r3)(me,ee=ee||B._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:ee});return me[ee]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function At(){return Object.keys(me).map(ee=>me[ee])}}),_e.App=Ve,Ee}(Fe);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function me(Ee){(0,l.ZB)(Ve,Ee)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ve}(),V=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=Y;!function ot(Ve){(0,B.registerVersion)("@firebase/app-compat","0.2.3",Ve)}()},9681:(Gt,je,L)=>{L.r(je),L.d(je,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>ne,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>pt,_apps:()=>Re,_clearComponents:()=>Ct,_components:()=>Le,_getProvider:()=>rt,_registerComponent:()=>it,_removeServiceInstance:()=>$e,deleteApp:()=>at,getApp:()=>Rn,getApps:()=>ei,initializeApp:()=>Mn,onLog:()=>ke,registerVersion:()=>Be,setLogLevel:()=>Tt});var l=L(5861),j=L(4859),B=L(1877),oe=L(2090),Fe=L(8766);class re{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Ie(Qe){return"VERSION"===Qe.getComponent()?.type}(ht)){const Bt=ht.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(ht=>ht).join(" ")}}const ve="@firebase/app",Y=new B.Yd("@firebase/app"),ne="[DEFAULT]",de={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Re=new Map,Le=new Map;function Ot(Qe,Ne){try{Qe.container.addComponent(Ne)}catch(ht){Y.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Qe.name}`,ht)}}function pt(Qe,Ne){Qe.container.addOrOverwriteComponent(Ne)}function it(Qe){const Ne=Qe.name;if(Le.has(Ne))return Y.debug(`There were multiple attempts to register component ${Ne}.`),!1;Le.set(Ne,Qe);for(const ht of Re.values())Ot(ht,Qe);return!0}function rt(Qe,Ne){const ht=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),Qe.container.getProvider(Ne)}function $e(Qe,Ne,ht=ne){rt(Qe,Ne).clearInstance(ht)}function Ct(){Le.clear()}const _t=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Lt{constructor(Ne,ht,Bt){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const mn="9.17.1";function Mn(Qe,Ne={}){let ht=Qe;"object"!=typeof Ne&&(Ne={name:Ne});const Bt=Object.assign({name:ne,automaticDataCollectionEnabled:!1},Ne),Xt=Bt.name;if("string"!=typeof Xt||!Xt)throw _t.create("bad-app-name",{appName:String(Xt)});if(ht||(ht=(0,oe.aH)()),!ht)throw _t.create("no-options");const fn=Re.get(Xt);if(fn){if((0,oe.vZ)(ht,fn.options)&&(0,oe.vZ)(Bt,fn.config))return fn;throw _t.create("duplicate-app",{appName:Xt})}const W=new j.H0(Xt);for(const O of Le.values())W.addComponent(O);const H=new Lt(ht,Bt,W);return Re.set(Xt,H),H}function Rn(Qe=ne){const Ne=Re.get(Qe);if(!Ne&&Qe===ne)return Mn();if(!Ne)throw _t.create("no-app",{appName:Qe});return Ne}function ei(){return Array.from(Re.values())}function at(Qe){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.Z)(function*(Qe){const Ne=Qe.name;Re.has(Ne)&&(Re.delete(Ne),yield Promise.all(Qe.container.getProviders().map(ht=>ht.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Be(Qe,Ne,ht){var Bt;let Xt=null!==(Bt=de[Qe])&&void 0!==Bt?Bt:Qe;ht&&(Xt+=`-${ht}`);const fn=Xt.match(/\s|\//),W=Ne.match(/\s|\//);if(fn||W){const H=[`Unable to register library "${Xt}" with version "${Ne}":`];return fn&&H.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),fn&&W&&H.push("and"),W&&H.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void Y.warn(H.join(" "))}it(new j.wA(`${Xt}-version`,()=>({library:Xt,version:Ne}),"VERSION"))}function ke(Qe,Ne){if(null!==Qe&&"function"!=typeof Qe)throw _t.create("invalid-log-argument");(0,B.Am)(Qe,Ne)}function Tt(Qe){(0,B.Ub)(Qe)}const tn="firebase-heartbeat-database",Kt=1,bn="firebase-heartbeat-store";let On=null;function ut(){return On||(On=(0,Fe.X3)(tn,Kt,{upgrade:(Qe,Ne)=>{0===Ne&&Qe.createObjectStore(bn)}}).catch(Qe=>{throw _t.create("idb-open",{originalErrorMessage:Qe.message})})),On}function Mt(){return(Mt=(0,l.Z)(function*(Qe){try{return(yield ut()).transaction(bn).objectStore(bn).get(Ln(Qe))}catch(Ne){if(Ne instanceof oe.ZR)Y.warn(Ne.message);else{const ht=_t.create("idb-get",{originalErrorMessage:Ne?.message});Y.warn(ht.message)}}})).apply(this,arguments)}function sn(Qe,Ne){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(Qe,Ne){try{const Bt=(yield ut()).transaction(bn,"readwrite");return yield Bt.objectStore(bn).put(Ne,Ln(Qe)),Bt.done}catch(ht){if(ht instanceof oe.ZR)Y.warn(ht.message);else{const Bt=_t.create("idb-set",{originalErrorMessage:ht?.message});Y.warn(Bt.message)}}})).apply(this,arguments)}function Ln(Qe){return`${Qe.name}!${Qe.options.appId}`}class Un{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new rn(ht),this._heartbeatsCachePromise=this._storage.read().then(Bt=>(this._heartbeatsCache=Bt,Bt))}triggerHeartbeat(){var Ne=this;return(0,l.Z)(function*(){const Bt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=jt();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!Ne._heartbeatsCache.heartbeats.some(fn=>fn.date===Xt))return Ne._heartbeatsCache.heartbeats.push({date:Xt,agent:Bt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(fn=>{const W=new Date(fn.date).valueOf();return Date.now()-W<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,l.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const ht=jt(),{heartbeatsToSend:Bt,unsentEntries:Xt}=function pi(Qe,Ne=1024){const ht=[];let Bt=Qe.slice();for(const Xt of Qe){const fn=ht.find(W=>W.agent===Xt.agent);if(fn){if(fn.dates.push(Xt.date),Ei(ht)>Ne){fn.dates.pop();break}}else if(ht.push({agent:Xt.agent,dates:[Xt.date]}),Ei(ht)>Ne){ht.pop();break}Bt=Bt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Bt}}(Ne._heartbeatsCache.heartbeats),fn=(0,oe.L)(JSON.stringify({version:2,heartbeats:Bt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=ht,Xt.length>0?(Ne._heartbeatsCache.heartbeats=Xt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),fn})()}}function jt(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,l.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function st(Qe){return Mt.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var ht=this;return(0,l.Z)(function*(){var Bt;if(yield ht._canUseIndexedDBPromise){const fn=yield ht.read();return sn(ht.app,{lastSentHeartbeatDate:null!==(Bt=Ne.lastSentHeartbeatDate)&&void 0!==Bt?Bt:fn.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var ht=this;return(0,l.Z)(function*(){var Bt;if(yield ht._canUseIndexedDBPromise){const fn=yield ht.read();return sn(ht.app,{lastSentHeartbeatDate:null!==(Bt=Ne.lastSentHeartbeatDate)&&void 0!==Bt?Bt:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...Ne.heartbeats]})}})()}}function Ei(Qe){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Qn(Qe){it(new j.wA("platform-logger",Ne=>new re(Ne),"PRIVATE")),it(new j.wA("heartbeat",Ne=>new Un(Ne),"PRIVATE")),Be(ve,"0.9.3",Qe),Be(ve,"0.9.3","esm2017"),Be("fire-js","")}("")},4859:(Gt,je,L)=>{L.d(je,{H0:()=>ve,wA:()=>B});var l=L(5861),j=L(2090);class B{constructor(Y,V,U){this.name=Y,this.instanceFactory=V,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const oe="[DEFAULT]";class Fe{constructor(Y,V){this.name=Y,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const V=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(V)){const U=new j.BH;if(this.instancesDeferred.set(V,U),this.isInitialized(V)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:V});fe&&U.resolve(fe)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(Y){var V;const U=this.normalizeInstanceIdentifier(Y?.identifier),fe=null!==(V=Y?.optional)&&void 0!==V&&V;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ot){if(fe)return null;throw ot}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Ie(De){return"EAGER"===De.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[V,U]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(V);try{const ot=this.getOrInitializeService({instanceIdentifier:fe});U.resolve(ot)}catch{}}}}clearInstance(Y=oe){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,l.Z)(function*(){const V=Array.from(Y.instances.values());yield Promise.all([...V.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...V.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=oe){return this.instances.has(Y)}getOptions(Y=oe){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:V={}}=Y,U=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:U,options:V});for(const[ot,Je]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ot)&&Je.resolve(fe);return fe}onInit(Y,V){var U;const fe=this.normalizeInstanceIdentifier(V),ot=null!==(U=this.onInitCallbacks.get(fe))&&void 0!==U?U:new Set;ot.add(Y),this.onInitCallbacks.set(fe,ot);const Je=this.instances.get(fe);return Je&&Y(Je,fe),()=>{ot.delete(Y)}}invokeOnInitCallbacks(Y,V){const U=this.onInitCallbacks.get(V);if(U)for(const fe of U)try{fe(Y,V)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:V={}}){let U=this.instances.get(Y);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(De=Y,De===oe?void 0:De),options:V}),this.instances.set(Y,U),this.instancesOptions.set(Y,V),this.invokeOnInitCallbacks(U,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,U)}catch{}var De;return U||null}normalizeInstanceIdentifier(Y=oe){return this.component?this.component.multipleInstances?Y:oe:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const V=this.getProvider(Y.name);if(V.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);V.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const V=new Fe(Y,this);return this.providers.set(Y,V),V}getProviders(){return Array.from(this.providers.values())}}},2833:(Gt,je,L)=>{var l=L(5861),j=L(9681),B=L(4859),oe=L(2090),Fe=L(8766);const re="@firebase/installations",Ie="0.6.3",ve=1e4,De=`w:${Ie}`,Y="FIS_v2",V="https://firebaseinstallations.googleapis.com/v1",U=36e5,Ve=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(Q){return Q instanceof oe.ZR&&Q.code.includes("request-failed")}function Ee({projectId:Q}){return`${V}/projects/${Q}/installations`}function Se(Q){return{token:Q.token,requestStatus:2,expiresIn:Te(Q.expiresIn),creationTime:Date.now()}}function _e(Q,we){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(Q,we){const Vt=(yield we.json()).error;return Ve.create("request-failed",{requestName:Q,serverCode:Vt.code,serverMessage:Vt.message,serverStatus:Vt.status})})).apply(this,arguments)}function At({apiKey:Q}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q})}function xt(Q){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(Q){const we=yield Q();return we.status>=500&&we.status<600?Q():we})).apply(this,arguments)}function Te(Q){return Number(Q.replace("s","000"))}function te(){return(te=(0,l.Z)(function*({appConfig:Q,heartbeatServiceProvider:we},{fid:Ye}){const Vt=Ee(Q),jn=At(Q),Ut=we.getImmediate({optional:!0});if(Ut){const Xn=yield Ut.getHeartbeatsHeader();Xn&&jn.append("x-firebase-client",Xn)}const Hn={method:"POST",headers:jn,body:JSON.stringify({fid:Ye,authVersion:Y,appId:Q.appId,sdkVersion:De})},pr=yield xt(()=>fetch(Vt,Hn));if(pr.ok){const Xn=yield pr.json();return{fid:Xn.fid||Ye,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:Se(Xn.authToken)}}throw yield _e("Create Installation",pr)})).apply(this,arguments)}function Me(Q){return new Promise(we=>{setTimeout(we,Q)})}const G=/^[cdef][\w-]{21}$/,ae="";function $(){try{const Q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Q),Q[0]=112+Q[0]%16;const Ye=function se(Q){return function ye(Q){return btoa(String.fromCharCode(...Q)).replace(/\+/g,"-").replace(/\//g,"_")}(Q).substr(0,22)}(Q);return G.test(Ye)?Ye:ae}catch{return ae}}function ne(Q){return`${Q.appName}!${Q.appId}`}const de=new Map;function Re(Q,we){const Ye=ne(Q);pt(Ye,we),function it(Q,we){const Ye=function $e(){return!rt&&"BroadcastChannel"in self&&(rt=new BroadcastChannel("[Firebase] FID Change"),rt.onmessage=Q=>{pt(Q.data.key,Q.data.fid)}),rt}();Ye&&Ye.postMessage({key:Q,fid:we}),function Ct(){0===de.size&&rt&&(rt.close(),rt=null)}()}(Ye,we)}function pt(Q,we){const Ye=de.get(Q);if(Ye)for(const Vt of Ye)Vt(we)}let rt=null;const vt="firebase-installations-database",_t=1,Lt="firebase-installations-store";let mn=null;function Mn(){return mn||(mn=(0,Fe.X3)(vt,_t,{upgrade:(Q,we)=>{0===we&&Q.createObjectStore(Lt)}})),mn}function Rn(Q,we){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(Q,we){const Ye=ne(Q),jn=(yield Mn()).transaction(Lt,"readwrite"),Ut=jn.objectStore(Lt),Pt=yield Ut.get(Ye);return yield Ut.put(we,Ye),yield jn.done,(!Pt||Pt.fid!==we.fid)&&Re(Q,we.fid),we})).apply(this,arguments)}function at(Q){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.Z)(function*(Q){const we=ne(Q),Vt=(yield Mn()).transaction(Lt,"readwrite");yield Vt.objectStore(Lt).delete(we),yield Vt.done})).apply(this,arguments)}function Be(Q,we){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(Q,we){const Ye=ne(Q),jn=(yield Mn()).transaction(Lt,"readwrite"),Ut=jn.objectStore(Lt),Pt=yield Ut.get(Ye),Hn=we(Pt);return void 0===Hn?yield Ut.delete(Ye):yield Ut.put(Hn,Ye),yield jn.done,Hn&&(!Pt||Pt.fid!==Hn.fid)&&Re(Q,Hn.fid),Hn})).apply(this,arguments)}function Tt(Q){return tn.apply(this,arguments)}function tn(){return tn=(0,l.Z)(function*(Q){let we;const Ye=yield Be(Q.appConfig,Vt=>{const jn=function Kt(Q){return xn(Q||{fid:$(),registrationStatus:0})}(Vt),Ut=function bn(Q,we){if(0===we.registrationStatus){if(!navigator.onLine)return{installationEntry:we,registrationPromise:Promise.reject(Ve.create("app-offline"))};const Ye={fid:we.fid,registrationStatus:1,registrationTime:Date.now()},Vt=function On(Q,we){return ut.apply(this,arguments)}(Q,Ye);return{installationEntry:Ye,registrationPromise:Vt}}return 1===we.registrationStatus?{installationEntry:we,registrationPromise:st(Q)}:{installationEntry:we}}(Q,jn);return we=Ut.registrationPromise,Ut.installationEntry});return Ye.fid===ae?{installationEntry:yield we}:{installationEntry:Ye,registrationPromise:we}}),tn.apply(this,arguments)}function ut(){return ut=(0,l.Z)(function*(Q,we){try{const Ye=yield function le(Q,we){return te.apply(this,arguments)}(Q,we);return Rn(Q.appConfig,Ye)}catch(Ye){throw me(Ye)&&409===Ye.customData.serverCode?yield at(Q.appConfig):yield Rn(Q.appConfig,{fid:we.fid,registrationStatus:0}),Ye}}),ut.apply(this,arguments)}function st(Q){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(Q){let we=yield sn(Q.appConfig);for(;1===we.registrationStatus;)yield Me(100),we=yield sn(Q.appConfig);if(0===we.registrationStatus){const{installationEntry:Ye,registrationPromise:Vt}=yield Tt(Q);return Vt||Ye}return we})).apply(this,arguments)}function sn(Q){return Be(Q,we=>{if(!we)throw Ve.create("installation-not-found");return xn(we)})}function xn(Q){return function Ln(Q){return 1===Q.registrationStatus&&Q.registrationTime+ve<Date.now()}(Q)?{fid:Q.fid,registrationStatus:0}:Q}function Bn(){return(Bn=(0,l.Z)(function*({appConfig:Q,heartbeatServiceProvider:we},Ye){const Vt=function Un(Q,{fid:we}){return`${Ee(Q)}/${we}/authTokens:generate`}(Q,Ye),jn=function dt(Q,{refreshToken:we}){const Ye=At(Q);return Ye.append("Authorization",function Z(Q){return`${Y} ${Q}`}(we)),Ye}(Q,Ye),Ut=we.getImmediate({optional:!0});if(Ut){const Xn=yield Ut.getHeartbeatsHeader();Xn&&jn.append("x-firebase-client",Xn)}const Hn={method:"POST",headers:jn,body:JSON.stringify({installation:{sdkVersion:De,appId:Q.appId}})},pr=yield xt(()=>fetch(Vt,Hn));if(pr.ok)return Se(yield pr.json());throw yield _e("Generate Auth Token",pr)})).apply(this,arguments)}function jt(Q){return pi.apply(this,arguments)}function pi(){return pi=(0,l.Z)(function*(Q,we=!1){let Ye;const Vt=yield Be(Q.appConfig,Ut=>{if(!ht(Ut))throw Ve.create("not-registered");const Pt=Ut.authToken;if(!we&&function Bt(Q){return 2===Q.requestStatus&&!function Xt(Q){const we=Date.now();return we<Q.creationTime||Q.creationTime+Q.expiresIn<we+U}(Q)}(Pt))return Ut;if(1===Pt.requestStatus)return Ye=function rn(Q,we){return Ei.apply(this,arguments)}(Q,we),Ut;{if(!navigator.onLine)throw Ve.create("app-offline");const Hn=function fn(Q){const we={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Q),{authToken:we})}(Ut);return Ye=function Qe(Q,we){return Ne.apply(this,arguments)}(Q,Hn),Hn}});return Ye?yield Ye:Vt.authToken}),pi.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(Q,we){let Ye=yield Qn(Q.appConfig);for(;1===Ye.authToken.requestStatus;)yield Me(100),Ye=yield Qn(Q.appConfig);const Vt=Ye.authToken;return 0===Vt.requestStatus?jt(Q,we):Vt})).apply(this,arguments)}function Qn(Q){return Be(Q,we=>{if(!ht(we))throw Ve.create("not-registered");return function W(Q){return 1===Q.requestStatus&&Q.requestTime+ve<Date.now()}(we.authToken)?Object.assign(Object.assign({},we),{authToken:{requestStatus:0}}):we})}function Ne(){return Ne=(0,l.Z)(function*(Q,we){try{const Ye=yield function ni(Q,we){return Bn.apply(this,arguments)}(Q,we),Vt=Object.assign(Object.assign({},we),{authToken:Ye});return yield Rn(Q.appConfig,Vt),Ye}catch(Ye){if(!me(Ye)||401!==Ye.customData.serverCode&&404!==Ye.customData.serverCode){const Vt=Object.assign(Object.assign({},we),{authToken:{requestStatus:0}});yield Rn(Q.appConfig,Vt)}else yield at(Q.appConfig);throw Ye}}),Ne.apply(this,arguments)}function ht(Q){return void 0!==Q&&2===Q.registrationStatus}function O(){return(O=(0,l.Z)(function*(Q){const we=Q,{installationEntry:Ye,registrationPromise:Vt}=yield Tt(we);return Vt?Vt.catch(console.error):jt(we).catch(console.error),Ye.fid})).apply(this,arguments)}function D(){return D=(0,l.Z)(function*(Q,we=!1){const Ye=Q;return yield function P(Q){return K.apply(this,arguments)}(Ye),(yield jt(Ye,we)).token}),D.apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(Q){const{registrationPromise:we}=yield Tt(Q);we&&(yield we)})).apply(this,arguments)}function zn(Q){return Ve.create("missing-app-config-values",{valueName:Q})}const ie="installations",yt=Q=>{const we=Q.getProvider("app").getImmediate(),Ye=function Jt(Q){if(!Q||!Q.options)throw zn("App Configuration");if(!Q.name)throw zn("App Name");const we=["projectId","apiKey","appId"];for(const Ye of we)if(!Q.options[Ye])throw zn(Ye);return{appName:Q.name,projectId:Q.options.projectId,apiKey:Q.options.apiKey,appId:Q.options.appId}}(we);return{app:we,appConfig:Ye,heartbeatServiceProvider:(0,j._getProvider)(we,"heartbeat"),_delete:()=>Promise.resolve()}},Dt=Q=>{const we=Q.getProvider("app").getImmediate(),Ye=(0,j._getProvider)(we,ie).getImmediate();return{getId:()=>function H(Q){return O.apply(this,arguments)}(Ye),getToken:jn=>function R(Q){return D.apply(this,arguments)}(Ye,jn)}};(function Ht(){(0,j._registerComponent)(new B.wA(ie,yt,"PUBLIC")),(0,j._registerComponent)(new B.wA("installations-internal",Dt,"PRIVATE"))})(),(0,j.registerVersion)(re,Ie),(0,j.registerVersion)(re,Ie,"esm2017")},1877:(Gt,je,L)=>{L.d(je,{Am:()=>De,Ub:()=>ve,Yd:()=>Ie,in:()=>j});const l=[];var j=(()=>{return(Y=j||(j={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",j;var Y})();const B={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,Fe={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},re=(Y,V,...U)=>{if(V<Y.logLevel)return;const fe=(new Date).toISOString(),ot=Fe[V];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ot](`[${fe}]  ${Y.name}:`,...U)};class Ie{constructor(V){this.name=V,this._logLevel=oe,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in j))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?B[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...V),this._logHandler(this,j.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...V),this._logHandler(this,j.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,j.INFO,...V),this._logHandler(this,j.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,j.WARN,...V),this._logHandler(this,j.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...V),this._logHandler(this,j.ERROR,...V)}}function ve(Y){l.forEach(V=>{V.setLogLevel(Y)})}function De(Y,V){for(const U of l){let fe=null;V&&V.level&&(fe=B[V.level]),U.userLogHandler=null===Y?null:(ot,Je,...Ve)=>{const me=Ve.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Je>=(fe??ot.logLevel)&&Y({level:j[Je].toLowerCase(),message:me,args:Ve,type:ot.name})}}}},3008:(Gt,je,L)=>{L.d(je,{IH:()=>Un,Gb:()=>pi,Kz:()=>Bt,Iv:()=>Qn});var l=L(5861),j=L(9681),B=L(1877),oe=L(2090),Fe=L(4859);L(2833);const Ie="analytics",ve="firebase_id",De="origin",Y=6e4,V="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",U="https://www.googletagmanager.com/gtag/js",fe=new B.Yd("@firebase/analytics");function ot(O){return Promise.all(O.map(R=>R.catch(D=>D)))}function Ee(){return(Ee=(0,l.Z)(function*(O,R,D,P,K,ge){const Ge=P[K];try{if(Ge)yield R[Ge];else{const mt=(yield ot(D)).find(lt=>lt.measurementId===K);mt&&(yield R[mt.appId])}}catch(Ue){fe.error(Ue)}O("config",K,ge)})).apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(O,R,D,P,K){try{let ge=[];if(K&&K.send_to){let Ge=K.send_to;Array.isArray(Ge)||(Ge=[Ge]);const Ue=yield ot(D);for(const mt of Ge){const lt=Ue.find(Vn=>Vn.measurementId===mt),In=lt&&R[lt.appId];if(!In){ge=[];break}ge.push(In)}}0===ge.length&&(ge=Object.values(R)),yield Promise.all(ge),O("event",P,K||{})}catch(ge){fe.error(ge)}})).apply(this,arguments)}const ee=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Te=30,te=new class le{constructor(R={},D=1e3){this.throttleMetadata=R,this.intervalMillis=D}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,D){this.throttleMetadata[R]=D}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function Me(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function G(){return(G=(0,l.Z)(function*(O){var R;const{appId:D,apiKey:P}=O,K={method:"GET",headers:Me(P)},ge=V.replace("{app-id}",D),Ge=yield fetch(ge,K);if(200!==Ge.status&&304!==Ge.status){let Ue="";try{const mt=yield Ge.json();null!==(R=mt.error)&&void 0!==R&&R.message&&(Ue=mt.error.message)}catch{}throw ee.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:Ue})}return Ge.json()})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(O,R=te,D){const{appId:P,apiKey:K,measurementId:ge}=O.options;if(!P)throw ee.create("no-app-id");if(!K){if(ge)return{measurementId:ge,appId:P};throw ee.create("no-api-key")}const Ge=R.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Le;return setTimeout((0,l.Z)(function*(){Ue.abort()}),void 0!==D?D:Y),se({appId:P,apiKey:K,measurementId:ge},Ge,Ue,R)})).apply(this,arguments)}function se(O,R,D){return ne.apply(this,arguments)}function ne(){return ne=(0,l.Z)(function*(O,{throttleEndTimeMillis:R,backoffCount:D},P,K=te){var ge;const{appId:Ge,measurementId:Ue}=O;try{yield function de(O,R){return new Promise((D,P)=>{const K=Math.max(R-Date.now(),0),ge=setTimeout(D,K);O.addEventListener(()=>{clearTimeout(ge),P(ee.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(P,R)}catch(mt){if(Ue)return fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:Ge,measurementId:Ue};throw mt}try{const mt=yield function ye(O){return G.apply(this,arguments)}(O);return K.deleteThrottleMetadata(Ge),mt}catch(mt){const lt=mt;if(!function Re(O){if(!(O instanceof oe.ZR&&O.customData))return!1;const R=Number(O.customData.httpStatus);return 429===R||500===R||503===R||504===R}(lt)){if(K.deleteThrottleMetadata(Ge),Ue)return fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:Ge,measurementId:Ue};throw mt}const In=503===Number(null===(ge=lt?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,oe.$s)(D,K.intervalMillis,Te):(0,oe.$s)(D,K.intervalMillis),Vn={throttleEndTimeMillis:Date.now()+In,backoffCount:D+1};return K.setThrottleMetadata(Ge,Vn),fe.debug(`Calling attemptFetch again in ${In} millis`),se(O,Vn,P,K)}}),ne.apply(this,arguments)}class Le{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Ot,Rn;function it(){return(it=(0,l.Z)(function*(O,R,D,P,K){if(K&&K.global)O("event",D,P);else{const ge=yield R;O("event",D,Object.assign(Object.assign({},P),{send_to:ge}))}})).apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(O,R,D,P){if(P&&P.global)return O("set",{user_id:D}),Promise.resolve();O("config",yield R,{update:!0,user_id:D})})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(){if(!(0,oe.hl)())return fe.warn(ee.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(O){return fe.warn(ee.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tt(){return Tt=(0,l.Z)(function*(O,R,D,P,K,ge,Ge){var Ue;const mt=function ae(O){return $.apply(this,arguments)}(O);mt.then(zn=>{D[zn.measurementId]=zn.appId,O.options.measurementId&&zn.measurementId!==O.options.measurementId&&fe.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>fe.error(zn)),R.push(mt);const lt=function pe(){return Be.apply(this,arguments)}().then(zn=>{if(zn)return P.getId()}),[In,Vn]=yield Promise.all([mt,lt]);(function dt(O){const R=window.document.getElementsByTagName("script");for(const D of Object.values(R))if(D.src&&D.src.includes(U)&&D.src.includes(O))return D;return null})(ge)||function Je(O,R){const D=document.createElement("script");D.src=`${U}?l=${O}&id=${R}`,D.async=!0,document.head.appendChild(D)}(ge,In.measurementId),Rn&&(K("consent","default",Rn),function ei(O){Rn=O}(void 0)),K("js",new Date);const Jt=null!==(Ue=Ge?.config)&&void 0!==Ue?Ue:{};return Jt[De]="firebase",Jt.update=!0,null!=Vn&&(Jt[ve]=Vn),K("config",In.measurementId,Jt),Ot&&(K("set",Ot),function at(O){Ot=O}(void 0)),In.measurementId}),Tt.apply(this,arguments)}class tn{constructor(R){this.app=R}_delete(){return delete Kt[this.app.options.appId],Promise.resolve()}}let Kt={},bn=[];const On={};let Mt,sn,ut="dataLayer",st="gtag",xn=!1;function Bn(O,R,D){!function ni(){const O=[];if((0,oe.ru)()&&O.push("This is a browser extension environment."),(0,oe.zI)()||O.push("Cookies are not available."),O.length>0){const R=O.map((P,K)=>`(${K+1}) ${P}`).join(" "),D=ee.create("invalid-analytics-context",{errorInfo:R});fe.warn(D.message)}}();const P=O.options.appId;if(!P)throw ee.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw ee.create("no-api-key");fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kt[P])throw ee.create("already-exists",{id:P});if(!xn){!function Ve(O){let R=[];Array.isArray(window[O])?R=window[O]:window[O]=R}(ut);const{wrappedGtag:ge,gtagCore:Ge}=function At(O,R,D,P,K){let ge=function(...Ge){window[P].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ge=window[K]),window[K]=function Ze(O,R,D,P){function ge(){return ge=(0,l.Z)(function*(Ge,Ue,mt){try{"event"===Ge?yield function Se(O,R,D,P,K){return _e.apply(this,arguments)}(O,R,D,Ue,mt):"config"===Ge?yield function me(O,R,D,P,K,ge){return Ee.apply(this,arguments)}(O,R,D,P,Ue,mt):"consent"===Ge?O("consent","update",mt):O("set",Ue)}catch(lt){fe.error(lt)}}),ge.apply(this,arguments)}return function K(Ge,Ue,mt){return ge.apply(this,arguments)}}(ge,O,R,D),{gtagCore:ge,wrappedGtag:window[K]}}(Kt,bn,On,ut,st);sn=ge,Mt=Ge,xn=!0}return Kt[P]=function ke(O,R,D,P,K,ge,Ge){return Tt.apply(this,arguments)}(O,bn,On,R,Mt,ut,D),new tn(O)}function Un(O=(0,j.getApp)()){O=(0,oe.m9)(O);const R=(0,j._getProvider)(O,Ie);return R.isInitialized()?R.getImmediate():function jt(O,R={}){const D=(0,j._getProvider)(O,Ie);if(D.isInitialized()){const K=D.getImmediate();if((0,oe.vZ)(R,D.getOptions()))return K;throw ee.create("already-initialized")}return D.initialize({options:R})}(O)}function pi(){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}function Qn(O,R,D){O=(0,oe.m9)(O),function Ct(O,R,D,P){return vt.apply(this,arguments)}(sn,Kt[O.app.options.appId],R,D).catch(P=>fe.error(P))}function Bt(O,R,D,P){O=(0,oe.m9)(O),function pt(O,R,D,P,K){return it.apply(this,arguments)}(sn,Kt[O.app.options.appId],R,D,P).catch(K=>fe.error(K))}const fn="@firebase/analytics",W="0.9.3";!function H(){(0,j._registerComponent)(new Fe.wA(Ie,(R,{options:D})=>Bn(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),D),"PUBLIC")),(0,j._registerComponent)(new Fe.wA("analytics-internal",function O(R){try{const D=R.getProvider(Ie).getImmediate();return{logEvent:(P,K,ge)=>Bt(D,P,K,ge)}}catch(D){throw ee.create("interop-component-reg-failed",{reason:D})}},"PRIVATE")),(0,j.registerVersion)(fn,W),(0,j.registerVersion)(fn,W,"esm2017")}()},259:(Gt,je,L)=>{L.d(je,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=L(9681);(0,l.registerVersion)("firebase","9.17.1","app")},9260:(Gt,je,L)=>{L.d(je,{Z:()=>l.Z});var l=L(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(Gt,je,L)=>{L.r(je);var l=L(5861),j=L(3942),B=L(2722),oe=L(2090),Ie=(L(9681),L(1877),L(4859));function ve(){return window}const De=2e3;function V(){return V=(0,l.Z)(function*(R,D,P){var K;const{BuildInfo:ge}=ve();(0,B.ap)(D.sessionId,"AuthEvent did not contain a session ID");const Ge=yield function Ee(R){return Se.apply(this,arguments)}(D.sessionId),Ue={};return(0,B.aq)()?Ue.ibi=ge.packageName:(0,B.ar)()?Ue.apn=ge.packageName:(0,B.as)(R,"operation-not-supported-in-this-environment"),ge.displayName&&(Ue.appDisplayName=ge.displayName),Ue.sessionId=Ge,(0,B.at)(R,P,D.type,void 0,null!==(K=D.eventId)&&void 0!==K?K:void 0,Ue)}),V.apply(this,arguments)}function fe(){return(fe=(0,l.Z)(function*(R){const{BuildInfo:D}=ve(),P={};(0,B.aq)()?P.iosBundleId=D.packageName:(0,B.ar)()?P.androidPackageName=D.packageName:(0,B.as)(R,"operation-not-supported-in-this-environment"),yield(0,B.au)(R,P)})).apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(R,D,P){const{cordova:K}=ve();let ge=()=>{};try{yield new Promise((Ge,Ue)=>{let mt=null;function lt(){var Jt;Ge();const zn=null===(Jt=K.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof zn&&zn(),"function"==typeof P?.close&&P.close()}function In(){mt||(mt=window.setTimeout(()=>{Ue((0,B.aw)(R,"redirect-cancelled-by-user"))},De))}function Vn(){"visible"===document?.visibilityState&&In()}D.addPassiveListener(lt),document.addEventListener("resume",In,!1),(0,B.ar)()&&document.addEventListener("visibilitychange",Vn,!1),ge=()=>{D.removePassiveListener(lt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",Vn,!1),mt&&window.clearTimeout(mt)}})}finally{ge()}})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(R){const D=function _e(R){if((0,B.ap)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const D=new ArrayBuffer(R.length),P=new Uint8Array(D);for(let K=0;K<R.length;K++)P[K]=R.charCodeAt(K);return P}(R),P=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(P)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ze=20;class At extends B.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(D)),super.onEvent(D)}initialized(){var D=this;return(0,l.Z)(function*(){yield D.initPromise})()}}function ee(R){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(R){const D=yield te()._get(Me(R));return D&&(yield te()._remove(Me(R))),D})).apply(this,arguments)}function le(){const R=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<Ze;P++){const K=Math.floor(Math.random()*D.length);R.push(D.charAt(K))}return R.join("")}function te(){return(0,B.az)(B.b)}function Me(R){return(0,B.aA)("authEvent",R.config.apiKey,R.name)}function ae(R){if(!R?.includes("?"))return{};const[D,...P]=R.split("?");return(0,oe.zd)(P.join("?"))}const ne=class se{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(D){var P=this;return(0,l.Z)(function*(){const K=D._key();let ge=P.eventManagers.get(K);return ge||(ge=new At(D),P.eventManagers.set(K,ge),P.attachCallbackListeners(D,ge)),ge})()}_openPopup(D){(0,B.as)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,P,K,ge){var Ge=this;return(0,l.Z)(function*(){!function me(R){var D,P,K,ge,Ge,Ue,mt,lt,In,Vn;const Jt=ve();(0,B.ax)("function"==typeof(null===(D=Jt?.universalLinks)||void 0===D?void 0:D.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.ax)(typeof(null===(P=Jt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.ax)("function"==typeof(null===(Ge=null===(ge=null===(K=Jt?.cordova)||void 0===K?void 0:K.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Ge?void 0:Ge.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(lt=null===(mt=null===(Ue=Jt?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===mt?void 0:mt.browsertab)||void 0===lt?void 0:lt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Vn=null===(In=Jt?.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===Vn?void 0:Vn.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const Ue=yield Ge._initialize(D);yield Ue.initialized(),Ue.resetRedirect(),(0,B.aD)(),yield Ge._originValidation(D);const mt=function dt(R,D,P=null){return{type:D,eventId:P,urlResponse:null,sessionId:le(),postBody:null,tenantId:R.tenantId,error:(0,B.aw)(R,"no-auth-event")}}(D,K,ge);yield function xt(R,D){return te()._set(Me(R),D)}(D,mt);const lt=yield function Y(R,D,P){return V.apply(this,arguments)}(D,mt,P),In=yield function ot(R){const{cordova:D}=ve();return new Promise(P=>{D.plugins.browsertab.isAvailable(K=>{let ge=null;K?D.plugins.browsertab.openUrl(R):ge=D.InAppBrowser.open(R,(0,B.av)()?"_blank":"_system","location=yes"),P(ge)})})}(lt);return function Je(R,D,P){return Ve.apply(this,arguments)}(D,Ue,In)})()}_isIframeWebStorageSupported(D,P){throw new Error("Method not implemented.")}_originValidation(D){const P=D._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function U(R){return fe.apply(this,arguments)}(D)),this.originValidationPromises[P]}attachCallbackListeners(D,P){const{universalLinks:K,handleOpenURL:ge,BuildInfo:Ge}=ve(),Ue=setTimeout((0,l.Z)(function*(){yield ee(D),P.onEvent(de())}),500),mt=function(){var Vn=(0,l.Z)(function*(Jt){clearTimeout(Ue);const zn=yield ee(D);let ie=null;zn&&Jt?.url&&(ie=function Z(R,D){var P,K;const ge=function G(R){const D=ae(R),P=D.link?decodeURIComponent(D.link):void 0,K=ae(P).link,ge=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return ae(ge).link||ge||K||P||R}(D);if(ge.includes("/__/auth/callback")){const Ge=ae(ge),Ue=Ge.firebaseError?function ye(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(Ge.firebaseError)):null,mt=null===(K=null===(P=Ue?.code)||void 0===P?void 0:P.split("auth/"))||void 0===K?void 0:K[1],lt=mt?(0,B.aw)(mt):null;return lt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:lt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:ge,postBody:null}}return null}(zn,Jt.url)),P.onEvent(ie||de())});return function(zn){return Vn.apply(this,arguments)}}();typeof K<"u"&&"function"==typeof K.subscribe&&K.subscribe(null,mt);const lt=ge,In=`${Ge.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Vn=(0,l.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(In)&&mt({url:Jt}),"function"==typeof lt)try{lt(Jt)}catch(zn){console.error(zn)}});return function(Jt){return Vn.apply(this,arguments)}}()}};function de(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aw)("no-auth-event")}}const pt=1e3;function it(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function $e(R=(0,oe.z$)()){return!("file:"!==it()&&"ionic:"!==it()&&"capacitor:"!==it()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function mn(){try{const R=self.localStorage,D=B.aI();if(R)return R.setItem(D,"1"),R.removeItem(D),!function Lt(R=(0,oe.z$)()){return function vt(){return(0,oe.w1)()&&11===document?.documentMode}()||function _t(R=(0,oe.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,oe.hl)()}catch{return Mn()&&(0,oe.hl)()}return!1}function Mn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rn(){return(function rt(){return"http:"===it()||"https:"===it()}()||(0,oe.ru)()||$e())&&!function Ct(){return(0,oe.b$)()||(0,oe.UG)()}()&&mn()&&!Mn()}function ei(){return $e()&&typeof document<"u"}function pe(){return(pe=(0,l.Z)(function*(){return!!ei()&&new Promise(R=>{const D=setTimeout(()=>{R(!1)},pt);document.addEventListener("deviceready",()=>{clearTimeout(D),R(!0)})})})).apply(this,arguments)}const ke={LOCAL:"local",NONE:"none",SESSION:"session"},Tt=B.ax,tn="persistence";function bn(R){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(R){yield R._initializationPromise;const D=st(),P=B.aA(tn,R.config.apiKey,R.name);D&&D.setItem(P,R._getPersistence())})).apply(this,arguments)}function st(){var R;try{return(null===(R=function Be(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const Mt=B.ax;class sn{constructor(){this.browserResolver=B.az(B.k),this.cordovaResolver=B.az(ne),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(D){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,P,K,ge){var Ge=this;return(0,l.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openPopup(D,P,K,ge)})()}_openRedirect(D,P,K,ge){var Ge=this;return(0,l.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openRedirect(D,P,K,ge)})()}_isIframeWebStorageSupported(D,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,P)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return ei()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,l.Z)(function*(){if(D.underlyingResolver)return;const P=yield function at(){return pe.apply(this,arguments)}();D.underlyingResolver=P?D.cordovaResolver:D.browserResolver})()}}function xn(R){return R.unwrap()}function ni(R){return Un(R)}function Un(R){const{_tokenResponse:D}=R instanceof oe.ZR?R.customData:R;if(!D)return null;if(!(R instanceof oe.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return B.P.credentialFromResult(R);const P=D.providerId;if(!P||P===B.o.PASSWORD)return null;let K;switch(P){case B.o.GOOGLE:K=B.Q;break;case B.o.FACEBOOK:K=B.N;break;case B.o.GITHUB:K=B.T;break;case B.o.TWITTER:K=B.W;break;default:const{oauthIdToken:ge,oauthAccessToken:Ge,oauthTokenSecret:Ue,pendingToken:mt,nonce:lt}=D;return Ge||Ue||ge||mt?mt?P.startsWith("saml.")?B.aL._create(P,mt):B.J._fromParams({providerId:P,signInMethod:P,pendingToken:mt,idToken:ge,accessToken:Ge}):new B.U(P).credential({idToken:ge,accessToken:Ge,rawNonce:lt}):null}return R instanceof oe.ZR?K.credentialFromError(R):K.credentialFromResult(R)}function jt(R,D){return D.catch(P=>{throw P instanceof oe.ZR&&function Bn(R,D){var P;const K=null===(P=D.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new Ei(R,B.an(R,D));else if(K){const ge=Un(D),Ge=D;ge&&(Ge.credential=ge,Ge.tenantId=K.tenantId||void 0,Ge.email=K.email||void 0,Ge.phoneNumber=K.phoneNumber||void 0)}}(R,P),P}).then(P=>{const ge=P.user;return{operationType:P.operationType,credential:ni(P),additionalUserInfo:B.al(P),user:Qn.getOrCreate(ge)}})}function pi(R,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(R,D){const P=yield D;return{verificationId:P.verificationId,confirm:K=>jt(R,P.confirm(K))}})).apply(this,arguments)}class Ei{constructor(D,P){this.resolver=P,this.auth=function Ln(R){return R.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return jt(xn(this.auth),this.resolver.resolveSignIn(D))}}class Qn{constructor(D){this._delegate=D,this.multiFactor=B.ao(D)}static getOrCreate(D){return Qn.USER_MAP.has(D)||Qn.USER_MAP.set(D,new Qn(D)),Qn.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var P=this;return(0,l.Z)(function*(){return jt(P.auth,B.Z(P._delegate,D))})()}linkWithPhoneNumber(D,P){var K=this;return(0,l.Z)(function*(){return pi(K.auth,B.l(K._delegate,D,P))})()}linkWithPopup(D){var P=this;return(0,l.Z)(function*(){return jt(P.auth,B.d(P._delegate,D,sn))})()}linkWithRedirect(D){var P=this;return(0,l.Z)(function*(){return yield bn(B.aE(P.auth)),B.g(P._delegate,D,sn)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var P=this;return(0,l.Z)(function*(){return jt(P.auth,B._(P._delegate,D))})()}reauthenticateWithPhoneNumber(D,P){return pi(this.auth,B.r(this._delegate,D,P))}reauthenticateWithPopup(D){return jt(this.auth,B.e(this._delegate,D,sn))}reauthenticateWithRedirect(D){var P=this;return(0,l.Z)(function*(){return yield bn(B.aE(P.auth)),B.h(P._delegate,D,sn)})()}sendEmailVerification(D){return B.ab(this._delegate,D)}unlink(D){var P=this;return(0,l.Z)(function*(){return yield B.ak(P._delegate,D),P})()}updateEmail(D){return B.ag(this._delegate,D)}updatePassword(D){return B.ah(this._delegate,D)}updatePhoneNumber(D){return B.u(this._delegate,D)}updateProfile(D){return B.af(this._delegate,D)}verifyBeforeUpdateEmail(D,P){return B.ac(this._delegate,D,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const Qe=B.ax;let Ne=(()=>{class R{constructor(P,K){if(this.app=P,K.isInitialized())return this._delegate=K.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=P.options;Qe(ge,"invalid-api-key",{appName:P.name}),Qe(ge,"invalid-api-key",{appName:P.name});const Ge=typeof window<"u"?sn:void 0;this._delegate=K.initialize({options:{persistence:Bt(ge,P.name),popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(B.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,K){B.G(this._delegate,P,K)}applyActionCode(P){return B.a2(this._delegate,P)}checkActionCode(P){return B.a3(this._delegate,P)}confirmPasswordReset(P,K){return B.a1(this._delegate,P,K)}createUserWithEmailAndPassword(P,K){var ge=this;return(0,l.Z)(function*(){return jt(ge._delegate,B.a5(ge._delegate,P,K))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return B.aa(this._delegate,P)}isSignInWithEmailLink(P){return B.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,l.Z)(function*(){Qe(Rn(),P._delegate,"operation-not-supported-in-this-environment");const K=yield B.j(P._delegate,sn);return K?jt(P._delegate,Promise.resolve(K)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Re(R,D){(0,B.aE)(R)._logFramework(D)}(this._delegate,P)}onAuthStateChanged(P,K,ge){const{next:Ge,error:Ue,complete:mt}=ht(P,K,ge);return this._delegate.onAuthStateChanged(Ge,Ue,mt)}onIdTokenChanged(P,K,ge){const{next:Ge,error:Ue,complete:mt}=ht(P,K,ge);return this._delegate.onIdTokenChanged(Ge,Ue,mt)}sendSignInLinkToEmail(P,K){return B.a7(this._delegate,P,K)}sendPasswordResetEmail(P,K){return B.a0(this._delegate,P,K||void 0)}setPersistence(P){var K=this;return(0,l.Z)(function*(){let ge;switch(function Kt(R,D){Tt(Object.values(ke).includes(D),R,"invalid-persistence-type"),(0,oe.b$)()?Tt(D!==ke.SESSION,R,"unsupported-persistence-type"):(0,oe.UG)()?Tt(D===ke.NONE,R,"unsupported-persistence-type"):Mn()?Tt(D===ke.NONE||D===ke.LOCAL&&(0,oe.hl)(),R,"unsupported-persistence-type"):Tt(D===ke.NONE||mn(),R,"unsupported-persistence-type")}(K._delegate,P),P){case ke.SESSION:ge=B.a;break;case ke.LOCAL:ge=(yield B.az(B.i)._isAvailable())?B.i:B.b;break;case ke.NONE:ge=B.L;break;default:return B.as("argument-error",{appName:K._delegate.name})}return K._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return jt(this._delegate,B.X(this._delegate))}signInWithCredential(P){return jt(this._delegate,B.Y(this._delegate,P))}signInWithCustomToken(P){return jt(this._delegate,B.$(this._delegate,P))}signInWithEmailAndPassword(P,K){return jt(this._delegate,B.a6(this._delegate,P,K))}signInWithEmailLink(P,K){return jt(this._delegate,B.a9(this._delegate,P,K))}signInWithPhoneNumber(P,K){return pi(this._delegate,B.s(this._delegate,P,K))}signInWithPopup(P){var K=this;return(0,l.Z)(function*(){return Qe(Rn(),K._delegate,"operation-not-supported-in-this-environment"),jt(K._delegate,B.c(K._delegate,P,sn))})()}signInWithRedirect(P){var K=this;return(0,l.Z)(function*(){return Qe(Rn(),K._delegate,"operation-not-supported-in-this-environment"),yield bn(K._delegate),B.f(K._delegate,P,sn)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return B.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=ke,R})();function ht(R,D,P){let K=R;"function"!=typeof R&&({next:K,error:D,complete:P}=R);const ge=K;return{next:Ue=>ge(Ue&&Qn.getOrCreate(Ue)),error:D,complete:P}}function Bt(R,D){const P=function ut(R,D){const P=st();if(!P)return[];const K=B.aA(tn,R,D);switch(P.getItem(K)){case ke.NONE:return[B.L];case ke.LOCAL:return[B.i,B.a];case ke.SESSION:return[B.a];default:return[]}}(R,D);if(typeof self<"u"&&!P.includes(B.i)&&P.push(B.i),typeof window<"u")for(const K of[B.b,B.a])P.includes(K)||P.push(K);return P.includes(B.L)||P.push(B.L),P}class Xt{constructor(){this.providerId="phone",this._delegate=new B.P(xn(j.Z.auth()))}static credential(D,P){return B.P.credential(D,P)}verifyPhoneNumber(D,P){return this._delegate.verifyPhoneNumber(D,P)}unwrap(){return this._delegate}}Xt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Xt.PROVIDER_ID=B.P.PROVIDER_ID;const fn=B.ax;class W{constructor(D,P,K=j.Z.app()){var ge;fn(null===(ge=K.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:K.name}),this._delegate=new B.R(D,P,K.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function O(R){R.INTERNAL.registerComponent(new Ie.wA("auth-compat",D=>{const P=D.getProvider("app-compat").getImmediate(),K=D.getProvider("auth");return new Ne(P,K)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.M,FacebookAuthProvider:B.N,GithubAuthProvider:B.T,GoogleAuthProvider:B.Q,OAuthProvider:B.U,SAMLAuthProvider:B.V,PhoneAuthProvider:Xt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:W,TwitterAuthProvider:B.W,Auth:Ne,AuthCredential:B.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.3.3")}(j.Z)},751:(Gt,je,L)=>{L.d(je,{KL:()=>lt,Gb:()=>K});var l=L(5861),B=(L(2833),L(4859)),oe=L(8766),Fe=L(2090),re=L(9681);const Ie="/firebase-messaging-sw.js",ve="/firebase-cloud-messaging-push-scope",De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Y="https://fcmregistrations.googleapis.com/v1",V="google.c.a.c_id",U="google.c.a.c_l",fe="google.c.a.ts",ot="google.c.a.e";var Ve=(()=>{return(ie=Ve||(Ve={})).PUSH_RECEIVED="push-received",ie.NOTIFICATION_CLICKED="notification-clicked",Ve;var ie})();function me(ie){const be=new Uint8Array(ie);return btoa(String.fromCharCode(...be)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ee(ie){const yt=(ie+"=".repeat((4-ie.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Dt=atob(yt),Ht=new Uint8Array(Dt.length);for(let Q=0;Q<Dt.length;++Q)Ht[Q]=Dt.charCodeAt(Q);return Ht}const Se="fcm_token_details_db",_e=5,Ze="fcm_token_object_Store";function dt(){return dt=(0,l.Z)(function*(ie){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Se))return null;let be=null;return(yield(0,oe.X3)(Se,_e,{upgrade:(Dt=(0,l.Z)(function*(Ht,Q,we,Ye){var Vt;if(Q<2||!Ht.objectStoreNames.contains(Ze))return;const jn=Ye.objectStore(Ze),Ut=yield jn.index("fcmSenderId").get(ie);if(yield jn.clear(),Ut)if(2===Q){const Pt=Ut;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;be={token:Pt.fcmToken,createTime:null!==(Vt=Pt.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:me(Pt.vapidKey)}}}else if(3===Q){const Pt=Ut;be={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:me(Pt.auth),p256dh:me(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:me(Pt.vapidKey)}}}else if(4===Q){const Pt=Ut;be={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:me(Pt.auth),p256dh:me(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:me(Pt.vapidKey)}}}}),function(Q,we,Ye,Vt){return Dt.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Se),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function xt(ie){if(!ie||!ie.subscriptionOptions)return!1;const{subscriptionOptions:be}=ie;return"number"==typeof ie.createTime&&ie.createTime>0&&"string"==typeof ie.token&&ie.token.length>0&&"string"==typeof be.auth&&be.auth.length>0&&"string"==typeof be.p256dh&&be.p256dh.length>0&&"string"==typeof be.endpoint&&be.endpoint.length>0&&"string"==typeof be.swScope&&be.swScope.length>0&&"string"==typeof be.vapidKey&&be.vapidKey.length>0}(be)?be:null;var Dt}),dt.apply(this,arguments)}const ee="firebase-messaging-database",Te=1,Z="firebase-messaging-store";let le=null;function te(){return le||(le=(0,oe.X3)(ee,Te,{upgrade:(ie,be)=>{0===be&&ie.createObjectStore(Z)}})),le}function Me(ie){return ye.apply(this,arguments)}function ye(){return ye=(0,l.Z)(function*(ie){const be=ne(ie),Dt=yield(yield te()).transaction(Z).objectStore(Z).get(be);if(Dt)return Dt;{const Ht=yield function At(ie){return dt.apply(this,arguments)}(ie.appConfig.senderId);if(Ht)return yield G(ie,Ht),Ht}}),ye.apply(this,arguments)}function G(ie,be){return ae.apply(this,arguments)}function ae(){return(ae=(0,l.Z)(function*(ie,be){const yt=ne(ie),Ht=(yield te()).transaction(Z,"readwrite");return yield Ht.objectStore(Z).put(be,yt),yield Ht.done,be})).apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(ie){const be=ne(ie),Dt=(yield te()).transaction(Z,"readwrite");yield Dt.objectStore(Z).delete(be),yield Dt.done})).apply(this,arguments)}function ne({appConfig:ie}){return ie.appId}const Re=new Fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Le(ie,be){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(ie,be){const yt=yield vt(ie),Dt=Lt(be),Ht={method:"POST",headers:yt,body:JSON.stringify(Dt)};let Q;try{Q=yield(yield fetch(Ct(ie.appConfig),Ht)).json()}catch(we){throw Re.create("token-subscribe-failed",{errorInfo:we?.toString()})}if(Q.error)throw Re.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw Re.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(ie,be){const yt=yield vt(ie),Dt=Lt(be.subscriptionOptions),Ht={method:"PATCH",headers:yt,body:JSON.stringify(Dt)};let Q;try{Q=yield(yield fetch(`${Ct(ie.appConfig)}/${be.token}`,Ht)).json()}catch(we){throw Re.create("token-update-failed",{errorInfo:we?.toString()})}if(Q.error)throw Re.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw Re.create("token-update-no-token");return Q.token})).apply(this,arguments)}function rt(ie,be){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(ie,be){const Dt={method:"DELETE",headers:yield vt(ie)};try{const Q=yield(yield fetch(`${Ct(ie.appConfig)}/${be}`,Dt)).json();if(Q.error)throw Re.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(Ht){throw Re.create("token-unsubscribe-failed",{errorInfo:Ht?.toString()})}})).apply(this,arguments)}function Ct({projectId:ie}){return`${Y}/projects/${ie}/registrations`}function vt(ie){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*({appConfig:ie,installations:be}){const yt=yield be.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ie.apiKey,"x-goog-firebase-installations-auth":`FIS ${yt}`})})).apply(this,arguments)}function Lt({p256dh:ie,auth:be,endpoint:yt,vapidKey:Dt}){const Ht={web:{endpoint:yt,auth:be,p256dh:ie}};return Dt!==De&&(Ht.web.applicationPubKey=Dt),Ht}const mn=6048e5;function Rn(){return Rn=(0,l.Z)(function*(ie){const be=yield function tn(ie,be){return Kt.apply(this,arguments)}(ie.swRegistration,ie.vapidKey),yt={vapidKey:ie.vapidKey,swScope:ie.swRegistration.scope,endpoint:be.endpoint,auth:me(be.getKey("auth")),p256dh:me(be.getKey("p256dh"))},Dt=yield Me(ie.firebaseDependencies);if(Dt){if(function bn(ie,be){return be.vapidKey===ie.vapidKey&&be.endpoint===ie.endpoint&&be.auth===ie.auth&&be.p256dh===ie.p256dh}(Dt.subscriptionOptions,yt))return Date.now()>=Dt.createTime+mn?function pe(ie,be){return Be.apply(this,arguments)}(ie,{token:Dt.token,createTime:Date.now(),subscriptionOptions:yt}):Dt.token;try{yield rt(ie.firebaseDependencies,Dt.token)}catch(Ht){console.warn(Ht)}return ke(ie.firebaseDependencies,yt)}return ke(ie.firebaseDependencies,yt)}),Rn.apply(this,arguments)}function at(){return at=(0,l.Z)(function*(ie){const be=yield Me(ie.firebaseDependencies);be&&(yield rt(ie.firebaseDependencies,be.token),yield function $(ie){return se.apply(this,arguments)}(ie.firebaseDependencies));const yt=yield ie.swRegistration.pushManager.getSubscription();return!yt||yt.unsubscribe()}),at.apply(this,arguments)}function Be(){return Be=(0,l.Z)(function*(ie,be){try{const yt=yield function pt(ie,be){return it.apply(this,arguments)}(ie.firebaseDependencies,be),Dt=Object.assign(Object.assign({},be),{token:yt,createTime:Date.now()});return yield G(ie.firebaseDependencies,Dt),yt}catch(yt){throw yield function ei(ie){return at.apply(this,arguments)}(ie),yt}}),Be.apply(this,arguments)}function ke(ie,be){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(ie,be){const Dt={token:yield Le(ie,be),createTime:Date.now(),subscriptionOptions:be};return yield G(ie,Dt),Dt.token})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(ie,be){return(yield ie.pushManager.getSubscription())||ie.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ee(be)})})).apply(this,arguments)}function On(ie){const be={from:ie.from,collapseKey:ie.collapse_key,messageId:ie.fcmMessageId};return function ut(ie,be){if(!be.notification)return;ie.notification={};const yt=be.notification.title;yt&&(ie.notification.title=yt);const Dt=be.notification.body;Dt&&(ie.notification.body=Dt);const Ht=be.notification.image;Ht&&(ie.notification.image=Ht);const Q=be.notification.icon;Q&&(ie.notification.icon=Q)}(be,ie),function st(ie,be){be.data&&(ie.data=be.data)}(be,ie),function Mt(ie,be){var yt,Dt,Ht,Q,we;if(!(be.fcmOptions||null!==(yt=be.notification)&&void 0!==yt&&yt.click_action))return;ie.fcmOptions={};const Ye=null!==(Ht=null===(Dt=be.fcmOptions)||void 0===Dt?void 0:Dt.link)&&void 0!==Ht?Ht:null===(Q=be.notification)||void 0===Q?void 0:Q.click_action;Ye&&(ie.fcmOptions.link=Ye);const Vt=null===(we=be.fcmOptions)||void 0===we?void 0:we.analytics_label;Vt&&(ie.fcmOptions.analyticsLabel=Vt)}(be,ie),be}function xn(ie,be){const yt=[];for(let Dt=0;Dt<ie.length;Dt++)yt.push(ie.charAt(Dt)),Dt<be.length&&yt.push(be.charAt(Dt));return yt.join("")}function ni(ie){return Re.create("missing-app-config-values",{valueName:ie})}xn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bn{constructor(be,yt,Dt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ht=function Ln(ie){if(!ie||!ie.options)throw ni("App Configuration Object");if(!ie.name)throw ni("App Name");const be=["projectId","apiKey","appId","messagingSenderId"],{options:yt}=ie;for(const Dt of be)if(!yt[Dt])throw ni(Dt);return{appName:ie.name,projectId:yt.projectId,apiKey:yt.apiKey,appId:yt.appId,senderId:yt.messagingSenderId}}(be);this.firebaseDependencies={app:be,appConfig:Ht,installations:yt,analyticsProvider:Dt}}_delete(){return Promise.resolve()}}function Un(ie){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(ie){try{ie.swRegistration=yield navigator.serviceWorker.register(Ie,{scope:ve}),ie.swRegistration.update().catch(()=>{})}catch(be){throw Re.create("failed-service-worker-registration",{browserErrorMessage:be?.message})}})).apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(ie,be){if(!be&&!ie.swRegistration&&(yield Un(ie)),be||!ie.swRegistration){if(!(be instanceof ServiceWorkerRegistration))throw Re.create("invalid-sw-registration");ie.swRegistration=be}})).apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(ie,be){be?ie.vapidKey=be:ie.vapidKey||(ie.vapidKey=De)})).apply(this,arguments)}function Ne(){return Ne=(0,l.Z)(function*(ie,be){if(!navigator)throw Re.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Re.create("permission-blocked");return yield function Ei(ie,be){return Qn.apply(this,arguments)}(ie,be?.vapidKey),yield function pi(ie,be){return rn.apply(this,arguments)}(ie,be?.serviceWorkerRegistration),function Mn(ie){return Rn.apply(this,arguments)}(ie)}),Ne.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(ie,be,yt){const Dt=function Xt(ie){switch(ie){case Ve.NOTIFICATION_CLICKED:return"notification_open";case Ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(be);(yield ie.firebaseDependencies.analyticsProvider.get()).logEvent(Dt,{message_id:yt[V],message_name:yt[U],message_time:yt[fe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function W(){return W=(0,l.Z)(function*(ie,be){const yt=be.data;if(!yt.isFirebaseMessaging)return;ie.onMessageHandler&&yt.messageType===Ve.PUSH_RECEIVED&&("function"==typeof ie.onMessageHandler?ie.onMessageHandler(On(yt)):ie.onMessageHandler.next(On(yt)));const Dt=yt.data;(function sn(ie){return"object"==typeof ie&&!!ie&&V in ie})(Dt)&&"1"===Dt[ot]&&(yield function ht(ie,be,yt){return Bt.apply(this,arguments)}(ie,yt.messageType,Dt))}),W.apply(this,arguments)}const H="@firebase/messaging",O="0.12.3",R=ie=>{const be=new Bn(ie.getProvider("app").getImmediate(),ie.getProvider("installations-internal").getImmediate(),ie.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",yt=>function fn(ie,be){return W.apply(this,arguments)}(be,yt)),be},D=ie=>{const be=ie.getProvider("messaging").getImmediate();return{getToken:Dt=>function Qe(ie,be){return Ne.apply(this,arguments)}(be,Dt)}};function K(){return ge.apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(){try{yield(0,Fe.eu)()}catch{return!1}return typeof window<"u"&&(0,Fe.hl)()&&(0,Fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function lt(ie=(0,re.getApp)()){return K().then(be=>{if(!be)throw Re.create("unsupported-browser")},be=>{throw Re.create("indexed-db-unsupported")}),(0,re._getProvider)((0,Fe.m9)(ie),"messaging").getImmediate()}!function P(){(0,re._registerComponent)(new B.wA("messaging",R,"PUBLIC")),(0,re._registerComponent)(new B.wA("messaging-internal",D,"PRIVATE")),(0,re.registerVersion)(H,O),(0,re.registerVersion)(H,O,"esm2017")}()},4880:(Gt,je,L)=>{L.d(je,{sN:()=>Se,Gb:()=>Rn});var l=L(5861),j=L(9681),B=L(2090),oe=L(4859),Fe=L(1877);L(2833);const Ie="@firebase/remote-config",Y="remote-config",U=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Se(at=(0,j.getApp)()){return at=(0,B.m9)(at),(0,j._getProvider)(at,Y).getImmediate()}class G{constructor(pe,Be,ke,Tt){this.client=pe,this.storage=Be,this.storageCache=ke,this.logger=Tt}isCachedDataFresh(pe,Be){if(!Be)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ke=Date.now()-Be,Tt=ke<=pe;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${pe}. Is cache hit: ${Tt}.`),Tt}fetch(pe){var Be=this;return(0,l.Z)(function*(){const[ke,Tt]=yield Promise.all([Be.storage.getLastSuccessfulFetchTimestampMillis(),Be.storage.getLastSuccessfulFetchResponse()]);if(Tt&&Be.isCachedDataFresh(pe.cacheMaxAgeMillis,ke))return Tt;pe.eTag=Tt&&Tt.eTag;const tn=yield Be.client.fetch(pe),Kt=[Be.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tn.status&&Kt.push(Be.storage.setLastSuccessfulFetchResponse(tn)),yield Promise.all(Kt),tn})()}}function ae(at=navigator){return at.languages&&at.languages[0]||at.language}class ${constructor(pe,Be,ke,Tt,tn,Kt){this.firebaseInstallations=pe,this.sdkVersion=Be,this.namespace=ke,this.projectId=Tt,this.apiKey=tn,this.appId=Kt}fetch(pe){var Be=this;return(0,l.Z)(function*(){const[ke,Tt]=yield Promise.all([Be.firebaseInstallations.getId(),Be.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Be.projectId}/namespaces/${Be.namespace}:fetch?key=${Be.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":pe.eTag||"*"},On={sdk_version:Be.sdkVersion,app_instance_id:ke,app_instance_id_token:Tt,app_id:Be.appId,language_code:ae()},ut={method:"POST",headers:bn,body:JSON.stringify(On)},st=fetch(Kt,ut),Mt=new Promise((Un,jt)=>{pe.signal.addEventListener(()=>{const pi=new Error("The operation was aborted.");pi.name="AbortError",jt(pi)})});let sn;try{yield Promise.race([st,Mt]),sn=yield st}catch(Un){let jt="fetch-client-network";throw"AbortError"===Un?.name&&(jt="fetch-timeout"),U.create(jt,{originalErrorMessage:Un?.message})}let xn=sn.status;const Ln=sn.headers.get("ETag")||void 0;let ni,Bn;if(200===sn.status){let Un;try{Un=yield sn.json()}catch(jt){throw U.create("fetch-client-parse",{originalErrorMessage:jt?.message})}ni=Un.entries,Bn=Un.state}if("INSTANCE_STATE_UNSPECIFIED"===Bn?xn=500:"NO_CHANGE"===Bn?xn=304:("NO_TEMPLATE"===Bn||"EMPTY_CONFIG"===Bn)&&(ni={}),304!==xn&&200!==xn)throw U.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:Ln,config:ni}})()}}class de{constructor(pe,Be){this.client=pe,this.storage=Be}fetch(pe){var Be=this;return(0,l.Z)(function*(){const ke=(yield Be.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Be.attemptFetch(pe,ke)})()}attemptFetch(pe,{throttleEndTimeMillis:Be,backoffCount:ke}){var Tt=this;return(0,l.Z)(function*(){yield function se(at,pe){return new Promise((Be,ke)=>{const Tt=Math.max(pe-Date.now(),0),tn=setTimeout(Be,Tt);at.addEventListener(()=>{clearTimeout(tn),ke(U.create("fetch-throttle",{throttleEndTimeMillis:pe}))})})}(pe.signal,Be);try{const tn=yield Tt.client.fetch(pe);return yield Tt.storage.deleteThrottleMetadata(),tn}catch(tn){if(!function ne(at){if(!(at instanceof B.ZR&&at.customData))return!1;const pe=Number(at.customData.httpStatus);return 429===pe||500===pe||503===pe||504===pe}(tn))throw tn;const Kt={throttleEndTimeMillis:Date.now()+(0,B.$s)(ke),backoffCount:ke+1};return yield Tt.storage.setThrottleMetadata(Kt),Tt.attemptFetch(pe,Kt)}})()}}class Ot{constructor(pe,Be,ke,Tt,tn){this.app=pe,this._client=Be,this._storageCache=ke,this._storage=Tt,this._logger=tn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pt(at,pe){const Be=at.target.error||void 0;return U.create(pe,{originalErrorMessage:Be&&Be?.message})}const it="app_namespace_store";class vt{constructor(pe,Be,ke,Tt=function Ct(){return new Promise((at,pe)=>{try{const Be=indexedDB.open("firebase_remote_config",1);Be.onerror=ke=>{pe(pt(ke,"storage-open"))},Be.onsuccess=ke=>{at(ke.target.result)},Be.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(it,{keyPath:"compositeKey"})}}catch(Be){pe(U.create("storage-open",{originalErrorMessage:Be?.message}))}})}()){this.appId=pe,this.appName=Be,this.namespace=ke,this.openDbPromise=Tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(pe){return this.set("last_fetch_status",pe)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(pe){return this.set("last_successful_fetch_timestamp_millis",pe)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(pe){return this.set("last_successful_fetch_response",pe)}getActiveConfig(){return this.get("active_config")}setActiveConfig(pe){return this.set("active_config",pe)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(pe){return this.set("active_config_etag",pe)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(pe){return this.set("throttle_metadata",pe)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(pe){var Be=this;return(0,l.Z)(function*(){const ke=yield Be.openDbPromise;return new Promise((Tt,tn)=>{const bn=ke.transaction([it],"readonly").objectStore(it),On=Be.createCompositeKey(pe);try{const ut=bn.get(On);ut.onerror=st=>{tn(pt(st,"storage-get"))},ut.onsuccess=st=>{const Mt=st.target.result;Tt(Mt?Mt.value:void 0)}}catch(ut){tn(U.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(pe,Be){var ke=this;return(0,l.Z)(function*(){const Tt=yield ke.openDbPromise;return new Promise((tn,Kt)=>{const On=Tt.transaction([it],"readwrite").objectStore(it),ut=ke.createCompositeKey(pe);try{const st=On.put({compositeKey:ut,value:Be});st.onerror=Mt=>{Kt(pt(Mt,"storage-set"))},st.onsuccess=()=>{tn()}}catch(st){Kt(U.create("storage-set",{originalErrorMessage:st?.message}))}})})()}delete(pe){var Be=this;return(0,l.Z)(function*(){const ke=yield Be.openDbPromise;return new Promise((Tt,tn)=>{const bn=ke.transaction([it],"readwrite").objectStore(it),On=Be.createCompositeKey(pe);try{const ut=bn.delete(On);ut.onerror=st=>{tn(pt(st,"storage-delete"))},ut.onsuccess=()=>{Tt()}}catch(ut){tn(U.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(pe){return[this.appId,this.appName,this.namespace,pe].join()}}class _t{constructor(pe){this.storage=pe}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var pe=this;return(0,l.Z)(function*(){const Be=pe.storage.getLastFetchStatus(),ke=pe.storage.getLastSuccessfulFetchTimestampMillis(),Tt=pe.storage.getActiveConfig(),tn=yield Be;tn&&(pe.lastFetchStatus=tn);const Kt=yield ke;Kt&&(pe.lastSuccessfulFetchTimestampMillis=Kt);const bn=yield Tt;bn&&(pe.activeConfig=bn)})()}setLastFetchStatus(pe){return this.lastFetchStatus=pe,this.storage.setLastFetchStatus(pe)}setLastSuccessfulFetchTimestampMillis(pe){return this.lastSuccessfulFetchTimestampMillis=pe,this.storage.setLastSuccessfulFetchTimestampMillis(pe)}setActiveConfig(pe){return this.activeConfig=pe,this.storage.setActiveConfig(pe)}}function Rn(){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}!function Lt(){(0,j._registerComponent)(new oe.wA(Y,function at(pe,{instanceIdentifier:Be}){const ke=pe.getProvider("app").getImmediate(),Tt=pe.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw U.create("registration-window");if(!(0,B.hl)())throw U.create("indexed-db-unavailable");const{projectId:tn,apiKey:Kt,appId:bn}=ke.options;if(!tn)throw U.create("registration-project-id");if(!Kt)throw U.create("registration-api-key");if(!bn)throw U.create("registration-app-id");const On=new vt(bn,ke.name,Be=Be||"firebase"),ut=new _t(On),st=new Fe.Yd(Ie);st.logLevel=Fe.in.ERROR;const Mt=new $(Tt,j.SDK_VERSION,Be,tn,Kt,bn),sn=new de(Mt,On),xn=new G(sn,On,ut,st),Ln=new Ot(ke,xn,ut,On,st);return function At(at){const pe=(0,B.m9)(at);pe._initializePromise||(pe._initializePromise=pe._storageCache.loadFromStorage().then(()=>{pe._isInitializationComplete=!0}))}(Ln),Ln},"PUBLIC").setMultipleInstances(!0)),(0,j.registerVersion)(Ie,"0.4.3"),(0,j.registerVersion)(Ie,"0.4.3","esm2017")}()},8766:(Gt,je,L)=>{L.d(je,{Lj:()=>Ze,X3:()=>_e});var l=L(5861);const j=(Te,Z)=>Z.some(le=>Te instanceof le);let B,oe;const Ie=new WeakMap,ve=new WeakMap,De=new WeakMap,Y=new WeakMap,V=new WeakMap;let ot={get(Te,Z,le){if(Te instanceof IDBTransaction){if("done"===Z)return ve.get(Te);if("objectStoreNames"===Z)return Te.objectStoreNames||De.get(Te);if("store"===Z)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Ee(Te[Z])},set:(Te,Z,le)=>(Te[Z]=le,!0),has:(Te,Z)=>Te instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in Te};function me(Te){return"function"==typeof Te?function Ve(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...Z){return Te.apply(Se(this),Z),Ee(Ie.get(this))}:function(...Z){return Ee(Te.apply(Se(this),Z))}:function(Z,...le){const te=Te.call(Se(this),Z,...le);return De.set(te,Z.sort?Z.sort():[Z]),Ee(te)}}(Te):(Te instanceof IDBTransaction&&function fe(Te){if(ve.has(Te))return;const Z=new Promise((le,te)=>{const Me=()=>{Te.removeEventListener("complete",ye),Te.removeEventListener("error",G),Te.removeEventListener("abort",G)},ye=()=>{le(),Me()},G=()=>{te(Te.error||new DOMException("AbortError","AbortError")),Me()};Te.addEventListener("complete",ye),Te.addEventListener("error",G),Te.addEventListener("abort",G)});ve.set(Te,Z)}(Te),j(Te,function Fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,ot):Te)}function Ee(Te){if(Te instanceof IDBRequest)return function U(Te){const Z=new Promise((le,te)=>{const Me=()=>{Te.removeEventListener("success",ye),Te.removeEventListener("error",G)},ye=()=>{le(Ee(Te.result)),Me()},G=()=>{te(Te.error),Me()};Te.addEventListener("success",ye),Te.addEventListener("error",G)});return Z.then(le=>{le instanceof IDBCursor&&Ie.set(le,Te)}).catch(()=>{}),V.set(Z,Te),Z}(Te);if(Y.has(Te))return Y.get(Te);const Z=me(Te);return Z!==Te&&(Y.set(Te,Z),V.set(Z,Te)),Z}const Se=Te=>V.get(Te);function _e(Te,Z,{blocked:le,upgrade:te,blocking:Me,terminated:ye}={}){const G=indexedDB.open(Te,Z),ae=Ee(G);return te&&G.addEventListener("upgradeneeded",$=>{te(Ee(G.result),$.oldVersion,$.newVersion,Ee(G.transaction))}),le&&G.addEventListener("blocked",()=>le()),ae.then($=>{ye&&$.addEventListener("close",()=>ye()),Me&&$.addEventListener("versionchange",()=>Me())}).catch(()=>{}),ae}function Ze(Te,{blocked:Z}={}){const le=indexedDB.deleteDatabase(Te);return Z&&le.addEventListener("blocked",()=>Z()),Ee(le).then(()=>{})}const At=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],xt=new Map;function ee(Te,Z){if(!(Te instanceof IDBDatabase)||Z in Te||"string"!=typeof Z)return;if(xt.get(Z))return xt.get(Z);const le=Z.replace(/FromIndex$/,""),te=Z!==le,Me=dt.includes(le);if(!(le in(te?IDBIndex:IDBObjectStore).prototype)||!Me&&!At.includes(le))return;const ye=function(){var G=(0,l.Z)(function*(ae,...$){const se=this.transaction(ae,Me?"readwrite":"readonly");let ne=se.store;return te&&(ne=ne.index($.shift())),(yield Promise.all([ne[le](...$),Me&&se.done]))[0]});return function($){return G.apply(this,arguments)}}();return xt.set(Z,ye),ye}!function Je(Te){ot=Te(ot)}(Te=>({...Te,get:(Z,le,te)=>ee(Z,le)||Te.get(Z,le,te),has:(Z,le)=>!!ee(Z,le)||Te.has(Z,le)}))},5861:(Gt,je,L)=>{function l(B,oe,Fe,re,Ie,ve,De){try{var Y=B[ve](De),V=Y.value}catch(U){return void Fe(U)}Y.done?oe(V):Promise.resolve(V).then(re,Ie)}function j(B){return function(){var oe=this,Fe=arguments;return new Promise(function(re,Ie){var ve=B.apply(oe,Fe);function De(V){l(ve,re,Ie,De,Y,"next",V)}function Y(V){l(ve,re,Ie,De,Y,"throw",V)}De(void 0)})}}L.d(je,{Z:()=>j})}},Gt=>{Gt(Gt.s=7921)}]);